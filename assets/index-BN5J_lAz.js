(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function Jh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Dd={exports:{}},Si={},Ld={exports:{}},j={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sr=Symbol.for("react.element"),$h=Symbol.for("react.portal"),Wh=Symbol.for("react.fragment"),Yh=Symbol.for("react.strict_mode"),Oh=Symbol.for("react.profiler"),Kh=Symbol.for("react.provider"),Xh=Symbol.for("react.context"),Qh=Symbol.for("react.forward_ref"),Zh=Symbol.for("react.suspense"),jh=Symbol.for("react.memo"),em=Symbol.for("react.lazy"),Ja=Symbol.iterator;function tm(e){return e===null||typeof e!="object"?null:(e=Ja&&e[Ja]||e["@@iterator"],typeof e=="function"?e:null)}var Ud={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Fd=Object.assign,Vd={};function ao(e,t,n){this.props=e,this.context=t,this.refs=Vd,this.updater=n||Ud}ao.prototype.isReactComponent={};ao.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ao.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Hd(){}Hd.prototype=ao.prototype;function wl(e,t,n){this.props=e,this.context=t,this.refs=Vd,this.updater=n||Ud}var Il=wl.prototype=new Hd;Il.constructor=wl;Fd(Il,ao.prototype);Il.isPureReactComponent=!0;var $a=Array.isArray,Gd=Object.prototype.hasOwnProperty,Al={current:null},zd={key:!0,ref:!0,__self:!0,__source:!0};function qd(e,t,n){var o,r={},i=null,l=null;if(t!=null)for(o in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)Gd.call(t,o)&&!zd.hasOwnProperty(o)&&(r[o]=t[o]);var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){for(var c=Array(u),d=0;d<u;d++)c[d]=arguments[d+2];r.children=c}if(e&&e.defaultProps)for(o in u=e.defaultProps,u)r[o]===void 0&&(r[o]=u[o]);return{$$typeof:sr,type:e,key:i,ref:l,props:r,_owner:Al.current}}function nm(e,t){return{$$typeof:sr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function kl(e){return typeof e=="object"&&e!==null&&e.$$typeof===sr}function om(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Wa=/\/+/g;function $i(e,t){return typeof e=="object"&&e!==null&&e.key!=null?om(""+e.key):t.toString(36)}function Pr(e,t,n,o,r){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case sr:case $h:l=!0}}if(l)return l=e,r=r(l),e=o===""?"."+$i(l,0):o,$a(r)?(n="",e!=null&&(n=e.replace(Wa,"$&/")+"/"),Pr(r,t,n,"",function(d){return d})):r!=null&&(kl(r)&&(r=nm(r,n+(!r.key||l&&l.key===r.key?"":(""+r.key).replace(Wa,"$&/")+"/")+e)),t.push(r)),1;if(l=0,o=o===""?".":o+":",$a(e))for(var u=0;u<e.length;u++){i=e[u];var c=o+$i(i,u);l+=Pr(i,t,n,c,r)}else if(c=tm(e),typeof c=="function")for(e=c.call(e),u=0;!(i=e.next()).done;)i=i.value,c=o+$i(i,u++),l+=Pr(i,t,n,c,r);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function pr(e,t,n){if(e==null)return e;var o=[],r=0;return Pr(e,o,"","",function(i){return t.call(n,i,r++)}),o}function rm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ye={current:null},Rr={transition:null},im={ReactCurrentDispatcher:Ye,ReactCurrentBatchConfig:Rr,ReactCurrentOwner:Al};function Bd(){throw Error("act(...) is not supported in production builds of React.")}j.Children={map:pr,forEach:function(e,t,n){pr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return pr(e,function(){t++}),t},toArray:function(e){return pr(e,function(t){return t})||[]},only:function(e){if(!kl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};j.Component=ao;j.Fragment=Wh;j.Profiler=Oh;j.PureComponent=wl;j.StrictMode=Yh;j.Suspense=Zh;j.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=im;j.act=Bd;j.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=Fd({},e.props),r=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=Al.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)Gd.call(t,c)&&!zd.hasOwnProperty(c)&&(o[c]=t[c]===void 0&&u!==void 0?u[c]:t[c])}var c=arguments.length-2;if(c===1)o.children=n;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];o.children=u}return{$$typeof:sr,type:e.type,key:r,ref:i,props:o,_owner:l}};j.createContext=function(e){return e={$$typeof:Xh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Kh,_context:e},e.Consumer=e};j.createElement=qd;j.createFactory=function(e){var t=qd.bind(null,e);return t.type=e,t};j.createRef=function(){return{current:null}};j.forwardRef=function(e){return{$$typeof:Qh,render:e}};j.isValidElement=kl;j.lazy=function(e){return{$$typeof:em,_payload:{_status:-1,_result:e},_init:rm}};j.memo=function(e,t){return{$$typeof:jh,type:e,compare:t===void 0?null:t}};j.startTransition=function(e){var t=Rr.transition;Rr.transition={};try{e()}finally{Rr.transition=t}};j.unstable_act=Bd;j.useCallback=function(e,t){return Ye.current.useCallback(e,t)};j.useContext=function(e){return Ye.current.useContext(e)};j.useDebugValue=function(){};j.useDeferredValue=function(e){return Ye.current.useDeferredValue(e)};j.useEffect=function(e,t){return Ye.current.useEffect(e,t)};j.useId=function(){return Ye.current.useId()};j.useImperativeHandle=function(e,t,n){return Ye.current.useImperativeHandle(e,t,n)};j.useInsertionEffect=function(e,t){return Ye.current.useInsertionEffect(e,t)};j.useLayoutEffect=function(e,t){return Ye.current.useLayoutEffect(e,t)};j.useMemo=function(e,t){return Ye.current.useMemo(e,t)};j.useReducer=function(e,t,n){return Ye.current.useReducer(e,t,n)};j.useRef=function(e){return Ye.current.useRef(e)};j.useState=function(e){return Ye.current.useState(e)};j.useSyncExternalStore=function(e,t,n){return Ye.current.useSyncExternalStore(e,t,n)};j.useTransition=function(){return Ye.current.useTransition()};j.version="18.3.1";Ld.exports=j;var L=Ld.exports;const sm=Jh(L);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lm=L,am=Symbol.for("react.element"),um=Symbol.for("react.fragment"),cm=Object.prototype.hasOwnProperty,dm=lm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fm={key:!0,ref:!0,__self:!0,__source:!0};function bd(e,t,n){var o,r={},i=null,l=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(o in t)cm.call(t,o)&&!fm.hasOwnProperty(o)&&(r[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps,t)r[o]===void 0&&(r[o]=t[o]);return{$$typeof:am,type:e,key:i,ref:l,props:r,_owner:dm.current}}Si.Fragment=um;Si.jsx=bd;Si.jsxs=bd;Dd.exports=Si;var m=Dd.exports,ys={},Jd={exports:{}},st={},$d={exports:{}},Wd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(k,H){var U=k.length;k.push(H);e:for(;0<U;){var O=U-1>>>1,K=k[O];if(0<r(K,H))k[O]=H,k[U]=K,U=O;else break e}}function n(k){return k.length===0?null:k[0]}function o(k){if(k.length===0)return null;var H=k[0],U=k.pop();if(U!==H){k[0]=U;e:for(var O=0,K=k.length,ue=K>>>1;O<ue;){var re=2*(O+1)-1,ce=k[re],B=re+1,ee=k[B];if(0>r(ce,U))B<K&&0>r(ee,ce)?(k[O]=ee,k[B]=U,O=B):(k[O]=ce,k[re]=U,O=re);else if(B<K&&0>r(ee,U))k[O]=ee,k[B]=U,O=B;else break e}}return H}function r(k,H){var U=k.sortIndex-H.sortIndex;return U!==0?U:k.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var c=[],d=[],f=1,h=null,p=3,y=!1,x=!1,E=!1,N=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(k){for(var H=n(d);H!==null;){if(H.callback===null)o(d);else if(H.startTime<=k)o(d),H.sortIndex=H.expirationTime,t(c,H);else break;H=n(d)}}function T(k){if(E=!1,g(k),!x)if(n(c)!==null)x=!0,b(_);else{var H=n(d);H!==null&&J(T,H.startTime-k)}}function _(k,H){x=!1,E&&(E=!1,C(R),R=-1),y=!0;var U=p;try{for(g(H),h=n(c);h!==null&&(!(h.expirationTime>H)||k&&!Y());){var O=h.callback;if(typeof O=="function"){h.callback=null,p=h.priorityLevel;var K=O(h.expirationTime<=H);H=e.unstable_now(),typeof K=="function"?h.callback=K:h===n(c)&&o(c),g(H)}else o(c);h=n(c)}if(h!==null)var ue=!0;else{var re=n(d);re!==null&&J(T,re.startTime-H),ue=!1}return ue}finally{h=null,p=U,y=!1}}var w=!1,A=null,R=-1,P=5,D=-1;function Y(){return!(e.unstable_now()-D<P)}function Q(){if(A!==null){var k=e.unstable_now();D=k;var H=!0;try{H=A(!0,k)}finally{H?Z():(w=!1,A=null)}}else w=!1}var Z;if(typeof v=="function")Z=function(){v(Q)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,V=Se.port2;Se.port1.onmessage=Q,Z=function(){V.postMessage(null)}}else Z=function(){N(Q,0)};function b(k){A=k,w||(w=!0,Z())}function J(k,H){R=N(function(){k(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_continueExecution=function(){x||y||(x=!0,b(_))},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(k){switch(p){case 1:case 2:case 3:var H=3;break;default:H=p}var U=p;p=H;try{return k()}finally{p=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(k,H){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var U=p;p=k;try{return H()}finally{p=U}},e.unstable_scheduleCallback=function(k,H,U){var O=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?O+U:O):U=O,k){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=U+K,k={id:f++,callback:H,priorityLevel:k,startTime:U,expirationTime:K,sortIndex:-1},U>O?(k.sortIndex=U,t(d,k),n(c)===null&&k===n(d)&&(E?(C(R),R=-1):E=!0,J(T,U-O))):(k.sortIndex=K,t(c,k),x||y||(x=!0,b(_))),k},e.unstable_shouldYield=Y,e.unstable_wrapCallback=function(k){var H=p;return function(){var U=p;p=H;try{return k.apply(this,arguments)}finally{p=U}}}})(Wd);$d.exports=Wd;var pm=$d.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hm=L,it=pm;function M(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Yd=new Set,bo={};function An(e,t){to(e,t),to(e+"Capture",t)}function to(e,t){for(bo[e]=t,e=0;e<t.length;e++)Yd.add(t[e])}var Ht=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vs=Object.prototype.hasOwnProperty,mm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ya={},Oa={};function gm(e){return vs.call(Oa,e)?!0:vs.call(Ya,e)?!1:mm.test(e)?Oa[e]=!0:(Ya[e]=!0,!1)}function ym(e,t,n,o){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function vm(e,t,n,o){if(t===null||typeof t>"u"||ym(e,t,n,o))return!0;if(o)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Oe(e,t,n,o,r,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var Fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Fe[e]=new Oe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Fe[t]=new Oe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Fe[e]=new Oe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Fe[e]=new Oe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Fe[e]=new Oe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Fe[e]=new Oe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Fe[e]=new Oe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Fe[e]=new Oe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Fe[e]=new Oe(e,5,!1,e.toLowerCase(),null,!1,!1)});var Nl=/[\-:]([a-z])/g;function Pl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Nl,Pl);Fe[t]=new Oe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Nl,Pl);Fe[t]=new Oe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Nl,Pl);Fe[t]=new Oe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Fe[e]=new Oe(e,1,!1,e.toLowerCase(),null,!1,!1)});Fe.xlinkHref=new Oe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Fe[e]=new Oe(e,1,!1,e.toLowerCase(),null,!0,!0)});function Rl(e,t,n,o){var r=Fe.hasOwnProperty(t)?Fe[t]:null;(r!==null?r.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(vm(t,n,r,o)&&(n=null),o||r===null?gm(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=n===null?r.type===3?!1:"":n:(t=r.attributeName,o=r.attributeNamespace,n===null?e.removeAttribute(t):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,o?e.setAttributeNS(o,t,n):e.setAttribute(t,n))))}var bt=hm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hr=Symbol.for("react.element"),Dn=Symbol.for("react.portal"),Ln=Symbol.for("react.fragment"),Ml=Symbol.for("react.strict_mode"),Cs=Symbol.for("react.profiler"),Od=Symbol.for("react.provider"),Kd=Symbol.for("react.context"),Dl=Symbol.for("react.forward_ref"),Es=Symbol.for("react.suspense"),xs=Symbol.for("react.suspense_list"),Ll=Symbol.for("react.memo"),Yt=Symbol.for("react.lazy"),Xd=Symbol.for("react.offscreen"),Ka=Symbol.iterator;function vo(e){return e===null||typeof e!="object"?null:(e=Ka&&e[Ka]||e["@@iterator"],typeof e=="function"?e:null)}var Te=Object.assign,Wi;function Ao(e){if(Wi===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Wi=t&&t[1]||""}return`
`+Wi+e}var Yi=!1;function Oi(e,t){if(!e||Yi)return"";Yi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var o=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){o=d}e.call(t.prototype)}else{try{throw Error()}catch(d){o=d}e()}}catch(d){if(d&&o&&typeof d.stack=="string"){for(var r=d.stack.split(`
`),i=o.stack.split(`
`),l=r.length-1,u=i.length-1;1<=l&&0<=u&&r[l]!==i[u];)u--;for(;1<=l&&0<=u;l--,u--)if(r[l]!==i[u]){if(l!==1||u!==1)do if(l--,u--,0>u||r[l]!==i[u]){var c=`
`+r[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=u);break}}}finally{Yi=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ao(e):""}function Cm(e){switch(e.tag){case 5:return Ao(e.type);case 16:return Ao("Lazy");case 13:return Ao("Suspense");case 19:return Ao("SuspenseList");case 0:case 2:case 15:return e=Oi(e.type,!1),e;case 11:return e=Oi(e.type.render,!1),e;case 1:return e=Oi(e.type,!0),e;default:return""}}function Ts(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ln:return"Fragment";case Dn:return"Portal";case Cs:return"Profiler";case Ml:return"StrictMode";case Es:return"Suspense";case xs:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Kd:return(e.displayName||"Context")+".Consumer";case Od:return(e._context.displayName||"Context")+".Provider";case Dl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ll:return t=e.displayName||null,t!==null?t:Ts(e.type)||"Memo";case Yt:t=e._payload,e=e._init;try{return Ts(e(t))}catch{}}return null}function Em(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ts(t);case 8:return t===Ml?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function un(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Qd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function xm(e){var t=Qd(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(l){o=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(l){o=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function mr(e){e._valueTracker||(e._valueTracker=xm(e))}function Zd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),o="";return e&&(o=Qd(e)?e.checked?"true":"false":e.value),e=o,e!==n?(t.setValue(e),!0):!1}function $r(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ss(e,t){var n=t.checked;return Te({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Xa(e,t){var n=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;n=un(t.value!=null?t.value:n),e._wrapperState={initialChecked:o,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function jd(e,t){t=t.checked,t!=null&&Rl(e,"checked",t,!1)}function _s(e,t){jd(e,t);var n=un(t.value),o=t.type;if(n!=null)o==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ws(e,t.type,n):t.hasOwnProperty("defaultValue")&&ws(e,t.type,un(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Qa(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ws(e,t,n){(t!=="number"||$r(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ko=Array.isArray;function Wn(e,t,n,o){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&o&&(e[n].defaultSelected=!0)}else{for(n=""+un(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,o&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Is(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(M(91));return Te({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Za(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(M(92));if(ko(n)){if(1<n.length)throw Error(M(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:un(n)}}function ef(e,t){var n=un(t.value),o=un(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),o!=null&&(e.defaultValue=""+o)}function ja(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function tf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function As(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?tf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var gr,nf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,o,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n,o,r)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(gr=gr||document.createElement("div"),gr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=gr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Jo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Do={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tm=["Webkit","ms","Moz","O"];Object.keys(Do).forEach(function(e){Tm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Do[t]=Do[e]})});function of(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Do.hasOwnProperty(e)&&Do[e]?(""+t).trim():t+"px"}function rf(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var o=n.indexOf("--")===0,r=of(n,t[n],o);n==="float"&&(n="cssFloat"),o?e.setProperty(n,r):e[n]=r}}var Sm=Te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ks(e,t){if(t){if(Sm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(M(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(M(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(M(61))}if(t.style!=null&&typeof t.style!="object")throw Error(M(62))}}function Ns(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ps=null;function Ul(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Rs=null,Yn=null,On=null;function eu(e){if(e=ur(e)){if(typeof Rs!="function")throw Error(M(280));var t=e.stateNode;t&&(t=ki(t),Rs(e.stateNode,e.type,t))}}function sf(e){Yn?On?On.push(e):On=[e]:Yn=e}function lf(){if(Yn){var e=Yn,t=On;if(On=Yn=null,eu(e),t)for(e=0;e<t.length;e++)eu(t[e])}}function af(e,t){return e(t)}function uf(){}var Ki=!1;function cf(e,t,n){if(Ki)return e(t,n);Ki=!0;try{return af(e,t,n)}finally{Ki=!1,(Yn!==null||On!==null)&&(uf(),lf())}}function $o(e,t){var n=e.stateNode;if(n===null)return null;var o=ki(n);if(o===null)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(M(231,t,typeof n));return n}var Ms=!1;if(Ht)try{var Co={};Object.defineProperty(Co,"passive",{get:function(){Ms=!0}}),window.addEventListener("test",Co,Co),window.removeEventListener("test",Co,Co)}catch{Ms=!1}function _m(e,t,n,o,r,i,l,u,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(f){this.onError(f)}}var Lo=!1,Wr=null,Yr=!1,Ds=null,wm={onError:function(e){Lo=!0,Wr=e}};function Im(e,t,n,o,r,i,l,u,c){Lo=!1,Wr=null,_m.apply(wm,arguments)}function Am(e,t,n,o,r,i,l,u,c){if(Im.apply(this,arguments),Lo){if(Lo){var d=Wr;Lo=!1,Wr=null}else throw Error(M(198));Yr||(Yr=!0,Ds=d)}}function kn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function df(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function tu(e){if(kn(e)!==e)throw Error(M(188))}function km(e){var t=e.alternate;if(!t){if(t=kn(e),t===null)throw Error(M(188));return t!==e?null:e}for(var n=e,o=t;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(o=r.return,o!==null){n=o;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return tu(r),e;if(i===o)return tu(r),t;i=i.sibling}throw Error(M(188))}if(n.return!==o.return)n=r,o=i;else{for(var l=!1,u=r.child;u;){if(u===n){l=!0,n=r,o=i;break}if(u===o){l=!0,o=r,n=i;break}u=u.sibling}if(!l){for(u=i.child;u;){if(u===n){l=!0,n=i,o=r;break}if(u===o){l=!0,o=i,n=r;break}u=u.sibling}if(!l)throw Error(M(189))}}if(n.alternate!==o)throw Error(M(190))}if(n.tag!==3)throw Error(M(188));return n.stateNode.current===n?e:t}function ff(e){return e=km(e),e!==null?pf(e):null}function pf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=pf(e);if(t!==null)return t;e=e.sibling}return null}var hf=it.unstable_scheduleCallback,nu=it.unstable_cancelCallback,Nm=it.unstable_shouldYield,Pm=it.unstable_requestPaint,Ie=it.unstable_now,Rm=it.unstable_getCurrentPriorityLevel,Fl=it.unstable_ImmediatePriority,mf=it.unstable_UserBlockingPriority,Or=it.unstable_NormalPriority,Mm=it.unstable_LowPriority,gf=it.unstable_IdlePriority,_i=null,Rt=null;function Dm(e){if(Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(_i,e,void 0,(e.current.flags&128)===128)}catch{}}var Tt=Math.clz32?Math.clz32:Fm,Lm=Math.log,Um=Math.LN2;function Fm(e){return e>>>=0,e===0?32:31-(Lm(e)/Um|0)|0}var yr=64,vr=4194304;function No(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Kr(e,t){var n=e.pendingLanes;if(n===0)return 0;var o=0,r=e.suspendedLanes,i=e.pingedLanes,l=n&268435455;if(l!==0){var u=l&~r;u!==0?o=No(u):(i&=l,i!==0&&(o=No(i)))}else l=n&~r,l!==0?o=No(l):i!==0&&(o=No(i));if(o===0)return 0;if(t!==0&&t!==o&&!(t&r)&&(r=o&-o,i=t&-t,r>=i||r===16&&(i&4194240)!==0))return t;if(o&4&&(o|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)n=31-Tt(t),r=1<<n,o|=e[n],t&=~r;return o}function Vm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hm(e,t){for(var n=e.suspendedLanes,o=e.pingedLanes,r=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-Tt(i),u=1<<l,c=r[l];c===-1?(!(u&n)||u&o)&&(r[l]=Vm(u,t)):c<=t&&(e.expiredLanes|=u),i&=~u}}function Ls(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yf(){var e=yr;return yr<<=1,!(yr&4194240)&&(yr=64),e}function Xi(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function lr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Tt(t),e[t]=n}function Gm(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-Tt(n),i=1<<r;t[r]=0,o[r]=-1,e[r]=-1,n&=~i}}function Vl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var o=31-Tt(n),r=1<<o;r&t|e[o]&t&&(e[o]|=t),n&=~r}}var ae=0;function vf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Cf,Hl,Ef,xf,Tf,Us=!1,Cr=[],en=null,tn=null,nn=null,Wo=new Map,Yo=new Map,Kt=[],zm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ou(e,t){switch(e){case"focusin":case"focusout":en=null;break;case"dragenter":case"dragleave":tn=null;break;case"mouseover":case"mouseout":nn=null;break;case"pointerover":case"pointerout":Wo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yo.delete(t.pointerId)}}function Eo(e,t,n,o,r,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:o,nativeEvent:i,targetContainers:[r]},t!==null&&(t=ur(t),t!==null&&Hl(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function qm(e,t,n,o,r){switch(t){case"focusin":return en=Eo(en,e,t,n,o,r),!0;case"dragenter":return tn=Eo(tn,e,t,n,o,r),!0;case"mouseover":return nn=Eo(nn,e,t,n,o,r),!0;case"pointerover":var i=r.pointerId;return Wo.set(i,Eo(Wo.get(i)||null,e,t,n,o,r)),!0;case"gotpointercapture":return i=r.pointerId,Yo.set(i,Eo(Yo.get(i)||null,e,t,n,o,r)),!0}return!1}function Sf(e){var t=yn(e.target);if(t!==null){var n=kn(t);if(n!==null){if(t=n.tag,t===13){if(t=df(n),t!==null){e.blockedOn=t,Tf(e.priority,function(){Ef(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Mr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Fs(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var o=new n.constructor(n.type,n);Ps=o,n.target.dispatchEvent(o),Ps=null}else return t=ur(n),t!==null&&Hl(t),e.blockedOn=n,!1;t.shift()}return!0}function ru(e,t,n){Mr(e)&&n.delete(t)}function Bm(){Us=!1,en!==null&&Mr(en)&&(en=null),tn!==null&&Mr(tn)&&(tn=null),nn!==null&&Mr(nn)&&(nn=null),Wo.forEach(ru),Yo.forEach(ru)}function xo(e,t){e.blockedOn===t&&(e.blockedOn=null,Us||(Us=!0,it.unstable_scheduleCallback(it.unstable_NormalPriority,Bm)))}function Oo(e){function t(r){return xo(r,e)}if(0<Cr.length){xo(Cr[0],e);for(var n=1;n<Cr.length;n++){var o=Cr[n];o.blockedOn===e&&(o.blockedOn=null)}}for(en!==null&&xo(en,e),tn!==null&&xo(tn,e),nn!==null&&xo(nn,e),Wo.forEach(t),Yo.forEach(t),n=0;n<Kt.length;n++)o=Kt[n],o.blockedOn===e&&(o.blockedOn=null);for(;0<Kt.length&&(n=Kt[0],n.blockedOn===null);)Sf(n),n.blockedOn===null&&Kt.shift()}var Kn=bt.ReactCurrentBatchConfig,Xr=!0;function bm(e,t,n,o){var r=ae,i=Kn.transition;Kn.transition=null;try{ae=1,Gl(e,t,n,o)}finally{ae=r,Kn.transition=i}}function Jm(e,t,n,o){var r=ae,i=Kn.transition;Kn.transition=null;try{ae=4,Gl(e,t,n,o)}finally{ae=r,Kn.transition=i}}function Gl(e,t,n,o){if(Xr){var r=Fs(e,t,n,o);if(r===null)ss(e,t,o,Qr,n),ou(e,o);else if(qm(r,e,t,n,o))o.stopPropagation();else if(ou(e,o),t&4&&-1<zm.indexOf(e)){for(;r!==null;){var i=ur(r);if(i!==null&&Cf(i),i=Fs(e,t,n,o),i===null&&ss(e,t,o,Qr,n),i===r)break;r=i}r!==null&&o.stopPropagation()}else ss(e,t,o,null,n)}}var Qr=null;function Fs(e,t,n,o){if(Qr=null,e=Ul(o),e=yn(e),e!==null)if(t=kn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=df(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qr=e,null}function _f(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Rm()){case Fl:return 1;case mf:return 4;case Or:case Mm:return 16;case gf:return 536870912;default:return 16}default:return 16}}var Qt=null,zl=null,Dr=null;function wf(){if(Dr)return Dr;var e,t=zl,n=t.length,o,r="value"in Qt?Qt.value:Qt.textContent,i=r.length;for(e=0;e<n&&t[e]===r[e];e++);var l=n-e;for(o=1;o<=l&&t[n-o]===r[i-o];o++);return Dr=r.slice(e,1<o?1-o:void 0)}function Lr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Er(){return!0}function iu(){return!1}function lt(e){function t(n,o,r,i,l){this._reactName=n,this._targetInst=r,this.type=o,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Er:iu,this.isPropagationStopped=iu,this}return Te(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Er)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Er)},persist:function(){},isPersistent:Er}),t}var uo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ql=lt(uo),ar=Te({},uo,{view:0,detail:0}),$m=lt(ar),Qi,Zi,To,wi=Te({},ar,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==To&&(To&&e.type==="mousemove"?(Qi=e.screenX-To.screenX,Zi=e.screenY-To.screenY):Zi=Qi=0,To=e),Qi)},movementY:function(e){return"movementY"in e?e.movementY:Zi}}),su=lt(wi),Wm=Te({},wi,{dataTransfer:0}),Ym=lt(Wm),Om=Te({},ar,{relatedTarget:0}),ji=lt(Om),Km=Te({},uo,{animationName:0,elapsedTime:0,pseudoElement:0}),Xm=lt(Km),Qm=Te({},uo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Zm=lt(Qm),jm=Te({},uo,{data:0}),lu=lt(jm),eg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ng={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function og(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ng[e])?!!t[e]:!1}function Bl(){return og}var rg=Te({},ar,{key:function(e){if(e.key){var t=eg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Lr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?tg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bl,charCode:function(e){return e.type==="keypress"?Lr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Lr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ig=lt(rg),sg=Te({},wi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),au=lt(sg),lg=Te({},ar,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bl}),ag=lt(lg),ug=Te({},uo,{propertyName:0,elapsedTime:0,pseudoElement:0}),cg=lt(ug),dg=Te({},wi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),fg=lt(dg),pg=[9,13,27,32],bl=Ht&&"CompositionEvent"in window,Uo=null;Ht&&"documentMode"in document&&(Uo=document.documentMode);var hg=Ht&&"TextEvent"in window&&!Uo,If=Ht&&(!bl||Uo&&8<Uo&&11>=Uo),uu=" ",cu=!1;function Af(e,t){switch(e){case"keyup":return pg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Un=!1;function mg(e,t){switch(e){case"compositionend":return kf(t);case"keypress":return t.which!==32?null:(cu=!0,uu);case"textInput":return e=t.data,e===uu&&cu?null:e;default:return null}}function gg(e,t){if(Un)return e==="compositionend"||!bl&&Af(e,t)?(e=wf(),Dr=zl=Qt=null,Un=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return If&&t.locale!=="ko"?null:t.data;default:return null}}var yg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function du(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!yg[e.type]:t==="textarea"}function Nf(e,t,n,o){sf(o),t=Zr(t,"onChange"),0<t.length&&(n=new ql("onChange","change",null,n,o),e.push({event:n,listeners:t}))}var Fo=null,Ko=null;function vg(e){zf(e,0)}function Ii(e){var t=Hn(e);if(Zd(t))return e}function Cg(e,t){if(e==="change")return t}var Pf=!1;if(Ht){var es;if(Ht){var ts="oninput"in document;if(!ts){var fu=document.createElement("div");fu.setAttribute("oninput","return;"),ts=typeof fu.oninput=="function"}es=ts}else es=!1;Pf=es&&(!document.documentMode||9<document.documentMode)}function pu(){Fo&&(Fo.detachEvent("onpropertychange",Rf),Ko=Fo=null)}function Rf(e){if(e.propertyName==="value"&&Ii(Ko)){var t=[];Nf(t,Ko,e,Ul(e)),cf(vg,t)}}function Eg(e,t,n){e==="focusin"?(pu(),Fo=t,Ko=n,Fo.attachEvent("onpropertychange",Rf)):e==="focusout"&&pu()}function xg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ii(Ko)}function Tg(e,t){if(e==="click")return Ii(t)}function Sg(e,t){if(e==="input"||e==="change")return Ii(t)}function _g(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _t=typeof Object.is=="function"?Object.is:_g;function Xo(e,t){if(_t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var r=n[o];if(!vs.call(t,r)||!_t(e[r],t[r]))return!1}return!0}function hu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mu(e,t){var n=hu(e);e=0;for(var o;n;){if(n.nodeType===3){if(o=e+n.textContent.length,e<=t&&o>=t)return{node:n,offset:t-e};e=o}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=hu(n)}}function Mf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Mf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Df(){for(var e=window,t=$r();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=$r(e.document)}return t}function Jl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function wg(e){var t=Df(),n=e.focusedElem,o=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Mf(n.ownerDocument.documentElement,n)){if(o!==null&&Jl(n)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=n.textContent.length,i=Math.min(o.start,r);o=o.end===void 0?i:Math.min(o.end,r),!e.extend&&i>o&&(r=o,o=i,i=r),r=mu(n,i);var l=mu(n,o);r&&l&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),i>o?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ig=Ht&&"documentMode"in document&&11>=document.documentMode,Fn=null,Vs=null,Vo=null,Hs=!1;function gu(e,t,n){var o=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Hs||Fn==null||Fn!==$r(o)||(o=Fn,"selectionStart"in o&&Jl(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Vo&&Xo(Vo,o)||(Vo=o,o=Zr(Vs,"onSelect"),0<o.length&&(t=new ql("onSelect","select",null,t,n),e.push({event:t,listeners:o}),t.target=Fn)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Vn={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},ns={},Lf={};Ht&&(Lf=document.createElement("div").style,"AnimationEvent"in window||(delete Vn.animationend.animation,delete Vn.animationiteration.animation,delete Vn.animationstart.animation),"TransitionEvent"in window||delete Vn.transitionend.transition);function Ai(e){if(ns[e])return ns[e];if(!Vn[e])return e;var t=Vn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Lf)return ns[e]=t[n];return e}var Uf=Ai("animationend"),Ff=Ai("animationiteration"),Vf=Ai("animationstart"),Hf=Ai("transitionend"),Gf=new Map,yu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function dn(e,t){Gf.set(e,t),An(t,[e])}for(var os=0;os<yu.length;os++){var rs=yu[os],Ag=rs.toLowerCase(),kg=rs[0].toUpperCase()+rs.slice(1);dn(Ag,"on"+kg)}dn(Uf,"onAnimationEnd");dn(Ff,"onAnimationIteration");dn(Vf,"onAnimationStart");dn("dblclick","onDoubleClick");dn("focusin","onFocus");dn("focusout","onBlur");dn(Hf,"onTransitionEnd");to("onMouseEnter",["mouseout","mouseover"]);to("onMouseLeave",["mouseout","mouseover"]);to("onPointerEnter",["pointerout","pointerover"]);to("onPointerLeave",["pointerout","pointerover"]);An("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));An("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));An("onBeforeInput",["compositionend","keypress","textInput","paste"]);An("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));An("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));An("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ng=new Set("cancel close invalid load scroll toggle".split(" ").concat(Po));function vu(e,t,n){var o=e.type||"unknown-event";e.currentTarget=n,Am(o,t,void 0,e),e.currentTarget=null}function zf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var o=e[n],r=o.event;o=o.listeners;e:{var i=void 0;if(t)for(var l=o.length-1;0<=l;l--){var u=o[l],c=u.instance,d=u.currentTarget;if(u=u.listener,c!==i&&r.isPropagationStopped())break e;vu(r,u,d),i=c}else for(l=0;l<o.length;l++){if(u=o[l],c=u.instance,d=u.currentTarget,u=u.listener,c!==i&&r.isPropagationStopped())break e;vu(r,u,d),i=c}}}if(Yr)throw e=Ds,Yr=!1,Ds=null,e}function he(e,t){var n=t[bs];n===void 0&&(n=t[bs]=new Set);var o=e+"__bubble";n.has(o)||(qf(t,e,2,!1),n.add(o))}function is(e,t,n){var o=0;t&&(o|=4),qf(n,e,o,t)}var Tr="_reactListening"+Math.random().toString(36).slice(2);function Qo(e){if(!e[Tr]){e[Tr]=!0,Yd.forEach(function(n){n!=="selectionchange"&&(Ng.has(n)||is(n,!1,e),is(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Tr]||(t[Tr]=!0,is("selectionchange",!1,t))}}function qf(e,t,n,o){switch(_f(t)){case 1:var r=bm;break;case 4:r=Jm;break;default:r=Gl}n=r.bind(null,t,n,e),r=void 0,!Ms||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),o?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function ss(e,t,n,o,r){var i=o;if(!(t&1)&&!(t&2)&&o!==null)e:for(;;){if(o===null)return;var l=o.tag;if(l===3||l===4){var u=o.stateNode.containerInfo;if(u===r||u.nodeType===8&&u.parentNode===r)break;if(l===4)for(l=o.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;l=l.return}for(;u!==null;){if(l=yn(u),l===null)return;if(c=l.tag,c===5||c===6){o=i=l;continue e}u=u.parentNode}}o=o.return}cf(function(){var d=i,f=Ul(n),h=[];e:{var p=Gf.get(e);if(p!==void 0){var y=ql,x=e;switch(e){case"keypress":if(Lr(n)===0)break e;case"keydown":case"keyup":y=ig;break;case"focusin":x="focus",y=ji;break;case"focusout":x="blur",y=ji;break;case"beforeblur":case"afterblur":y=ji;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=su;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Ym;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=ag;break;case Uf:case Ff:case Vf:y=Xm;break;case Hf:y=cg;break;case"scroll":y=$m;break;case"wheel":y=fg;break;case"copy":case"cut":case"paste":y=Zm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=au}var E=(t&4)!==0,N=!E&&e==="scroll",C=E?p!==null?p+"Capture":null:p;E=[];for(var v=d,g;v!==null;){g=v;var T=g.stateNode;if(g.tag===5&&T!==null&&(g=T,C!==null&&(T=$o(v,C),T!=null&&E.push(Zo(v,T,g)))),N)break;v=v.return}0<E.length&&(p=new y(p,x,null,n,f),h.push({event:p,listeners:E}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",p&&n!==Ps&&(x=n.relatedTarget||n.fromElement)&&(yn(x)||x[Gt]))break e;if((y||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,y?(x=n.relatedTarget||n.toElement,y=d,x=x?yn(x):null,x!==null&&(N=kn(x),x!==N||x.tag!==5&&x.tag!==6)&&(x=null)):(y=null,x=d),y!==x)){if(E=su,T="onMouseLeave",C="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(E=au,T="onPointerLeave",C="onPointerEnter",v="pointer"),N=y==null?p:Hn(y),g=x==null?p:Hn(x),p=new E(T,v+"leave",y,n,f),p.target=N,p.relatedTarget=g,T=null,yn(f)===d&&(E=new E(C,v+"enter",x,n,f),E.target=g,E.relatedTarget=N,T=E),N=T,y&&x)t:{for(E=y,C=x,v=0,g=E;g;g=Mn(g))v++;for(g=0,T=C;T;T=Mn(T))g++;for(;0<v-g;)E=Mn(E),v--;for(;0<g-v;)C=Mn(C),g--;for(;v--;){if(E===C||C!==null&&E===C.alternate)break t;E=Mn(E),C=Mn(C)}E=null}else E=null;y!==null&&Cu(h,p,y,E,!1),x!==null&&N!==null&&Cu(h,N,x,E,!0)}}e:{if(p=d?Hn(d):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var _=Cg;else if(du(p))if(Pf)_=Sg;else{_=xg;var w=Eg}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(_=Tg);if(_&&(_=_(e,d))){Nf(h,_,n,f);break e}w&&w(e,p,d),e==="focusout"&&(w=p._wrapperState)&&w.controlled&&p.type==="number"&&ws(p,"number",p.value)}switch(w=d?Hn(d):window,e){case"focusin":(du(w)||w.contentEditable==="true")&&(Fn=w,Vs=d,Vo=null);break;case"focusout":Vo=Vs=Fn=null;break;case"mousedown":Hs=!0;break;case"contextmenu":case"mouseup":case"dragend":Hs=!1,gu(h,n,f);break;case"selectionchange":if(Ig)break;case"keydown":case"keyup":gu(h,n,f)}var A;if(bl)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Un?Af(e,n)&&(R="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(If&&n.locale!=="ko"&&(Un||R!=="onCompositionStart"?R==="onCompositionEnd"&&Un&&(A=wf()):(Qt=f,zl="value"in Qt?Qt.value:Qt.textContent,Un=!0)),w=Zr(d,R),0<w.length&&(R=new lu(R,e,null,n,f),h.push({event:R,listeners:w}),A?R.data=A:(A=kf(n),A!==null&&(R.data=A)))),(A=hg?mg(e,n):gg(e,n))&&(d=Zr(d,"onBeforeInput"),0<d.length&&(f=new lu("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:d}),f.data=A))}zf(h,t)})}function Zo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Zr(e,t){for(var n=t+"Capture",o=[];e!==null;){var r=e,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=$o(e,n),i!=null&&o.unshift(Zo(e,i,r)),i=$o(e,t),i!=null&&o.push(Zo(e,i,r))),e=e.return}return o}function Mn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Cu(e,t,n,o,r){for(var i=t._reactName,l=[];n!==null&&n!==o;){var u=n,c=u.alternate,d=u.stateNode;if(c!==null&&c===o)break;u.tag===5&&d!==null&&(u=d,r?(c=$o(n,i),c!=null&&l.unshift(Zo(n,c,u))):r||(c=$o(n,i),c!=null&&l.push(Zo(n,c,u)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var Pg=/\r\n?/g,Rg=/\u0000|\uFFFD/g;function Eu(e){return(typeof e=="string"?e:""+e).replace(Pg,`
`).replace(Rg,"")}function Sr(e,t,n){if(t=Eu(t),Eu(e)!==t&&n)throw Error(M(425))}function jr(){}var Gs=null,zs=null;function qs(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Bs=typeof setTimeout=="function"?setTimeout:void 0,Mg=typeof clearTimeout=="function"?clearTimeout:void 0,xu=typeof Promise=="function"?Promise:void 0,Dg=typeof queueMicrotask=="function"?queueMicrotask:typeof xu<"u"?function(e){return xu.resolve(null).then(e).catch(Lg)}:Bs;function Lg(e){setTimeout(function(){throw e})}function ls(e,t){var n=t,o=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(o===0){e.removeChild(r),Oo(t);return}o--}else n!=="$"&&n!=="$?"&&n!=="$!"||o++;n=r}while(n);Oo(t)}function on(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Tu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var co=Math.random().toString(36).slice(2),Pt="__reactFiber$"+co,jo="__reactProps$"+co,Gt="__reactContainer$"+co,bs="__reactEvents$"+co,Ug="__reactListeners$"+co,Fg="__reactHandles$"+co;function yn(e){var t=e[Pt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Gt]||n[Pt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Tu(e);e!==null;){if(n=e[Pt])return n;e=Tu(e)}return t}e=n,n=e.parentNode}return null}function ur(e){return e=e[Pt]||e[Gt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Hn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(M(33))}function ki(e){return e[jo]||null}var Js=[],Gn=-1;function fn(e){return{current:e}}function ye(e){0>Gn||(e.current=Js[Gn],Js[Gn]=null,Gn--)}function pe(e,t){Gn++,Js[Gn]=e.current,e.current=t}var cn={},be=fn(cn),Ze=fn(!1),Tn=cn;function no(e,t){var n=e.type.contextTypes;if(!n)return cn;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in n)r[i]=t[i];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function je(e){return e=e.childContextTypes,e!=null}function ei(){ye(Ze),ye(be)}function Su(e,t,n){if(be.current!==cn)throw Error(M(168));pe(be,t),pe(Ze,n)}function Bf(e,t,n){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return n;o=o.getChildContext();for(var r in o)if(!(r in t))throw Error(M(108,Em(e)||"Unknown",r));return Te({},n,o)}function ti(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||cn,Tn=be.current,pe(be,e),pe(Ze,Ze.current),!0}function _u(e,t,n){var o=e.stateNode;if(!o)throw Error(M(169));n?(e=Bf(e,t,Tn),o.__reactInternalMemoizedMergedChildContext=e,ye(Ze),ye(be),pe(be,e)):ye(Ze),pe(Ze,n)}var Lt=null,Ni=!1,as=!1;function bf(e){Lt===null?Lt=[e]:Lt.push(e)}function Vg(e){Ni=!0,bf(e)}function pn(){if(!as&&Lt!==null){as=!0;var e=0,t=ae;try{var n=Lt;for(ae=1;e<n.length;e++){var o=n[e];do o=o(!0);while(o!==null)}Lt=null,Ni=!1}catch(r){throw Lt!==null&&(Lt=Lt.slice(e+1)),hf(Fl,pn),r}finally{ae=t,as=!1}}return null}var zn=[],qn=0,ni=null,oi=0,ut=[],ct=0,Sn=null,Ut=1,Ft="";function mn(e,t){zn[qn++]=oi,zn[qn++]=ni,ni=e,oi=t}function Jf(e,t,n){ut[ct++]=Ut,ut[ct++]=Ft,ut[ct++]=Sn,Sn=e;var o=Ut;e=Ft;var r=32-Tt(o)-1;o&=~(1<<r),n+=1;var i=32-Tt(t)+r;if(30<i){var l=r-r%5;i=(o&(1<<l)-1).toString(32),o>>=l,r-=l,Ut=1<<32-Tt(t)+r|n<<r|o,Ft=i+e}else Ut=1<<i|n<<r|o,Ft=e}function $l(e){e.return!==null&&(mn(e,1),Jf(e,1,0))}function Wl(e){for(;e===ni;)ni=zn[--qn],zn[qn]=null,oi=zn[--qn],zn[qn]=null;for(;e===Sn;)Sn=ut[--ct],ut[ct]=null,Ft=ut[--ct],ut[ct]=null,Ut=ut[--ct],ut[ct]=null}var rt=null,ot=null,Ce=!1,xt=null;function $f(e,t){var n=dt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function wu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,rt=e,ot=on(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,rt=e,ot=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Sn!==null?{id:Ut,overflow:Ft}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=dt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,rt=e,ot=null,!0):!1;default:return!1}}function $s(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ws(e){if(Ce){var t=ot;if(t){var n=t;if(!wu(e,t)){if($s(e))throw Error(M(418));t=on(n.nextSibling);var o=rt;t&&wu(e,t)?$f(o,n):(e.flags=e.flags&-4097|2,Ce=!1,rt=e)}}else{if($s(e))throw Error(M(418));e.flags=e.flags&-4097|2,Ce=!1,rt=e}}}function Iu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;rt=e}function _r(e){if(e!==rt)return!1;if(!Ce)return Iu(e),Ce=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!qs(e.type,e.memoizedProps)),t&&(t=ot)){if($s(e))throw Wf(),Error(M(418));for(;t;)$f(e,t),t=on(t.nextSibling)}if(Iu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ot=on(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ot=null}}else ot=rt?on(e.stateNode.nextSibling):null;return!0}function Wf(){for(var e=ot;e;)e=on(e.nextSibling)}function oo(){ot=rt=null,Ce=!1}function Yl(e){xt===null?xt=[e]:xt.push(e)}var Hg=bt.ReactCurrentBatchConfig;function So(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(M(309));var o=n.stateNode}if(!o)throw Error(M(147,e));var r=o,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var u=r.refs;l===null?delete u[i]:u[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(M(284));if(!n._owner)throw Error(M(290,e))}return e}function wr(e,t){throw e=Object.prototype.toString.call(t),Error(M(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Au(e){var t=e._init;return t(e._payload)}function Yf(e){function t(C,v){if(e){var g=C.deletions;g===null?(C.deletions=[v],C.flags|=16):g.push(v)}}function n(C,v){if(!e)return null;for(;v!==null;)t(C,v),v=v.sibling;return null}function o(C,v){for(C=new Map;v!==null;)v.key!==null?C.set(v.key,v):C.set(v.index,v),v=v.sibling;return C}function r(C,v){return C=an(C,v),C.index=0,C.sibling=null,C}function i(C,v,g){return C.index=g,e?(g=C.alternate,g!==null?(g=g.index,g<v?(C.flags|=2,v):g):(C.flags|=2,v)):(C.flags|=1048576,v)}function l(C){return e&&C.alternate===null&&(C.flags|=2),C}function u(C,v,g,T){return v===null||v.tag!==6?(v=ms(g,C.mode,T),v.return=C,v):(v=r(v,g),v.return=C,v)}function c(C,v,g,T){var _=g.type;return _===Ln?f(C,v,g.props.children,T,g.key):v!==null&&(v.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Yt&&Au(_)===v.type)?(T=r(v,g.props),T.ref=So(C,v,g),T.return=C,T):(T=qr(g.type,g.key,g.props,null,C.mode,T),T.ref=So(C,v,g),T.return=C,T)}function d(C,v,g,T){return v===null||v.tag!==4||v.stateNode.containerInfo!==g.containerInfo||v.stateNode.implementation!==g.implementation?(v=gs(g,C.mode,T),v.return=C,v):(v=r(v,g.children||[]),v.return=C,v)}function f(C,v,g,T,_){return v===null||v.tag!==7?(v=xn(g,C.mode,T,_),v.return=C,v):(v=r(v,g),v.return=C,v)}function h(C,v,g){if(typeof v=="string"&&v!==""||typeof v=="number")return v=ms(""+v,C.mode,g),v.return=C,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case hr:return g=qr(v.type,v.key,v.props,null,C.mode,g),g.ref=So(C,null,v),g.return=C,g;case Dn:return v=gs(v,C.mode,g),v.return=C,v;case Yt:var T=v._init;return h(C,T(v._payload),g)}if(ko(v)||vo(v))return v=xn(v,C.mode,g,null),v.return=C,v;wr(C,v)}return null}function p(C,v,g,T){var _=v!==null?v.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return _!==null?null:u(C,v,""+g,T);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case hr:return g.key===_?c(C,v,g,T):null;case Dn:return g.key===_?d(C,v,g,T):null;case Yt:return _=g._init,p(C,v,_(g._payload),T)}if(ko(g)||vo(g))return _!==null?null:f(C,v,g,T,null);wr(C,g)}return null}function y(C,v,g,T,_){if(typeof T=="string"&&T!==""||typeof T=="number")return C=C.get(g)||null,u(v,C,""+T,_);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case hr:return C=C.get(T.key===null?g:T.key)||null,c(v,C,T,_);case Dn:return C=C.get(T.key===null?g:T.key)||null,d(v,C,T,_);case Yt:var w=T._init;return y(C,v,g,w(T._payload),_)}if(ko(T)||vo(T))return C=C.get(g)||null,f(v,C,T,_,null);wr(v,T)}return null}function x(C,v,g,T){for(var _=null,w=null,A=v,R=v=0,P=null;A!==null&&R<g.length;R++){A.index>R?(P=A,A=null):P=A.sibling;var D=p(C,A,g[R],T);if(D===null){A===null&&(A=P);break}e&&A&&D.alternate===null&&t(C,A),v=i(D,v,R),w===null?_=D:w.sibling=D,w=D,A=P}if(R===g.length)return n(C,A),Ce&&mn(C,R),_;if(A===null){for(;R<g.length;R++)A=h(C,g[R],T),A!==null&&(v=i(A,v,R),w===null?_=A:w.sibling=A,w=A);return Ce&&mn(C,R),_}for(A=o(C,A);R<g.length;R++)P=y(A,C,R,g[R],T),P!==null&&(e&&P.alternate!==null&&A.delete(P.key===null?R:P.key),v=i(P,v,R),w===null?_=P:w.sibling=P,w=P);return e&&A.forEach(function(Y){return t(C,Y)}),Ce&&mn(C,R),_}function E(C,v,g,T){var _=vo(g);if(typeof _!="function")throw Error(M(150));if(g=_.call(g),g==null)throw Error(M(151));for(var w=_=null,A=v,R=v=0,P=null,D=g.next();A!==null&&!D.done;R++,D=g.next()){A.index>R?(P=A,A=null):P=A.sibling;var Y=p(C,A,D.value,T);if(Y===null){A===null&&(A=P);break}e&&A&&Y.alternate===null&&t(C,A),v=i(Y,v,R),w===null?_=Y:w.sibling=Y,w=Y,A=P}if(D.done)return n(C,A),Ce&&mn(C,R),_;if(A===null){for(;!D.done;R++,D=g.next())D=h(C,D.value,T),D!==null&&(v=i(D,v,R),w===null?_=D:w.sibling=D,w=D);return Ce&&mn(C,R),_}for(A=o(C,A);!D.done;R++,D=g.next())D=y(A,C,R,D.value,T),D!==null&&(e&&D.alternate!==null&&A.delete(D.key===null?R:D.key),v=i(D,v,R),w===null?_=D:w.sibling=D,w=D);return e&&A.forEach(function(Q){return t(C,Q)}),Ce&&mn(C,R),_}function N(C,v,g,T){if(typeof g=="object"&&g!==null&&g.type===Ln&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case hr:e:{for(var _=g.key,w=v;w!==null;){if(w.key===_){if(_=g.type,_===Ln){if(w.tag===7){n(C,w.sibling),v=r(w,g.props.children),v.return=C,C=v;break e}}else if(w.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Yt&&Au(_)===w.type){n(C,w.sibling),v=r(w,g.props),v.ref=So(C,w,g),v.return=C,C=v;break e}n(C,w);break}else t(C,w);w=w.sibling}g.type===Ln?(v=xn(g.props.children,C.mode,T,g.key),v.return=C,C=v):(T=qr(g.type,g.key,g.props,null,C.mode,T),T.ref=So(C,v,g),T.return=C,C=T)}return l(C);case Dn:e:{for(w=g.key;v!==null;){if(v.key===w)if(v.tag===4&&v.stateNode.containerInfo===g.containerInfo&&v.stateNode.implementation===g.implementation){n(C,v.sibling),v=r(v,g.children||[]),v.return=C,C=v;break e}else{n(C,v);break}else t(C,v);v=v.sibling}v=gs(g,C.mode,T),v.return=C,C=v}return l(C);case Yt:return w=g._init,N(C,v,w(g._payload),T)}if(ko(g))return x(C,v,g,T);if(vo(g))return E(C,v,g,T);wr(C,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,v!==null&&v.tag===6?(n(C,v.sibling),v=r(v,g),v.return=C,C=v):(n(C,v),v=ms(g,C.mode,T),v.return=C,C=v),l(C)):n(C,v)}return N}var ro=Yf(!0),Of=Yf(!1),ri=fn(null),ii=null,Bn=null,Ol=null;function Kl(){Ol=Bn=ii=null}function Xl(e){var t=ri.current;ye(ri),e._currentValue=t}function Ys(e,t,n){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===n)break;e=e.return}}function Xn(e,t){ii=e,Ol=Bn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Qe=!0),e.firstContext=null)}function ht(e){var t=e._currentValue;if(Ol!==e)if(e={context:e,memoizedValue:t,next:null},Bn===null){if(ii===null)throw Error(M(308));Bn=e,ii.dependencies={lanes:0,firstContext:e}}else Bn=Bn.next=e;return t}var vn=null;function Ql(e){vn===null?vn=[e]:vn.push(e)}function Kf(e,t,n,o){var r=t.interleaved;return r===null?(n.next=n,Ql(t)):(n.next=r.next,r.next=n),t.interleaved=n,zt(e,o)}function zt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ot=!1;function Zl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function rn(e,t,n){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,ne&2){var r=o.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),o.pending=t,zt(e,n)}return r=o.interleaved,r===null?(t.next=t,Ql(o)):(t.next=r.next,r.next=t),o.interleaved=t,zt(e,n)}function Ur(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,Vl(e,n)}}function ku(e,t){var n=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,n===o)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?r=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?r=i=t:i=i.next=t}else r=i=t;n={baseState:o.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:o.shared,effects:o.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function si(e,t,n,o){var r=e.updateQueue;Ot=!1;var i=r.firstBaseUpdate,l=r.lastBaseUpdate,u=r.shared.pending;if(u!==null){r.shared.pending=null;var c=u,d=c.next;c.next=null,l===null?i=d:l.next=d,l=c;var f=e.alternate;f!==null&&(f=f.updateQueue,u=f.lastBaseUpdate,u!==l&&(u===null?f.firstBaseUpdate=d:u.next=d,f.lastBaseUpdate=c))}if(i!==null){var h=r.baseState;l=0,f=d=c=null,u=i;do{var p=u.lane,y=u.eventTime;if((o&p)===p){f!==null&&(f=f.next={eventTime:y,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var x=e,E=u;switch(p=t,y=n,E.tag){case 1:if(x=E.payload,typeof x=="function"){h=x.call(y,h,p);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=E.payload,p=typeof x=="function"?x.call(y,h,p):x,p==null)break e;h=Te({},h,p);break e;case 2:Ot=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,p=r.effects,p===null?r.effects=[u]:p.push(u))}else y={eventTime:y,lane:p,tag:u.tag,payload:u.payload,callback:u.callback,next:null},f===null?(d=f=y,c=h):f=f.next=y,l|=p;if(u=u.next,u===null){if(u=r.shared.pending,u===null)break;p=u,u=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(!0);if(f===null&&(c=h),r.baseState=c,r.firstBaseUpdate=d,r.lastBaseUpdate=f,t=r.shared.interleaved,t!==null){r=t;do l|=r.lane,r=r.next;while(r!==t)}else i===null&&(r.shared.lanes=0);wn|=l,e.lanes=l,e.memoizedState=h}}function Nu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],r=o.callback;if(r!==null){if(o.callback=null,o=n,typeof r!="function")throw Error(M(191,r));r.call(o)}}}var cr={},Mt=fn(cr),er=fn(cr),tr=fn(cr);function Cn(e){if(e===cr)throw Error(M(174));return e}function jl(e,t){switch(pe(tr,t),pe(er,e),pe(Mt,cr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:As(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=As(t,e)}ye(Mt),pe(Mt,t)}function io(){ye(Mt),ye(er),ye(tr)}function Qf(e){Cn(tr.current);var t=Cn(Mt.current),n=As(t,e.type);t!==n&&(pe(er,e),pe(Mt,n))}function ea(e){er.current===e&&(ye(Mt),ye(er))}var Ee=fn(0);function li(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var us=[];function ta(){for(var e=0;e<us.length;e++)us[e]._workInProgressVersionPrimary=null;us.length=0}var Fr=bt.ReactCurrentDispatcher,cs=bt.ReactCurrentBatchConfig,_n=0,xe=null,Pe=null,Me=null,ai=!1,Ho=!1,nr=0,Gg=0;function Ge(){throw Error(M(321))}function na(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!_t(e[n],t[n]))return!1;return!0}function oa(e,t,n,o,r,i){if(_n=i,xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Fr.current=e===null||e.memoizedState===null?bg:Jg,e=n(o,r),Ho){i=0;do{if(Ho=!1,nr=0,25<=i)throw Error(M(301));i+=1,Me=Pe=null,t.updateQueue=null,Fr.current=$g,e=n(o,r)}while(Ho)}if(Fr.current=ui,t=Pe!==null&&Pe.next!==null,_n=0,Me=Pe=xe=null,ai=!1,t)throw Error(M(300));return e}function ra(){var e=nr!==0;return nr=0,e}function Nt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?xe.memoizedState=Me=e:Me=Me.next=e,Me}function mt(){if(Pe===null){var e=xe.alternate;e=e!==null?e.memoizedState:null}else e=Pe.next;var t=Me===null?xe.memoizedState:Me.next;if(t!==null)Me=t,Pe=e;else{if(e===null)throw Error(M(310));Pe=e,e={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},Me===null?xe.memoizedState=Me=e:Me=Me.next=e}return Me}function or(e,t){return typeof t=="function"?t(e):t}function ds(e){var t=mt(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var o=Pe,r=o.baseQueue,i=n.pending;if(i!==null){if(r!==null){var l=r.next;r.next=i.next,i.next=l}o.baseQueue=r=i,n.pending=null}if(r!==null){i=r.next,o=o.baseState;var u=l=null,c=null,d=i;do{var f=d.lane;if((_n&f)===f)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),o=d.hasEagerState?d.eagerState:e(o,d.action);else{var h={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(u=c=h,l=o):c=c.next=h,xe.lanes|=f,wn|=f}d=d.next}while(d!==null&&d!==i);c===null?l=o:c.next=u,_t(o,t.memoizedState)||(Qe=!0),t.memoizedState=o,t.baseState=l,t.baseQueue=c,n.lastRenderedState=o}if(e=n.interleaved,e!==null){r=e;do i=r.lane,xe.lanes|=i,wn|=i,r=r.next;while(r!==e)}else r===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function fs(e){var t=mt(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var o=n.dispatch,r=n.pending,i=t.memoizedState;if(r!==null){n.pending=null;var l=r=r.next;do i=e(i,l.action),l=l.next;while(l!==r);_t(i,t.memoizedState)||(Qe=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,o]}function Zf(){}function jf(e,t){var n=xe,o=mt(),r=t(),i=!_t(o.memoizedState,r);if(i&&(o.memoizedState=r,Qe=!0),o=o.queue,ia(np.bind(null,n,o,e),[e]),o.getSnapshot!==t||i||Me!==null&&Me.memoizedState.tag&1){if(n.flags|=2048,rr(9,tp.bind(null,n,o,r,t),void 0,null),De===null)throw Error(M(349));_n&30||ep(n,t,r)}return r}function ep(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function tp(e,t,n,o){t.value=n,t.getSnapshot=o,op(t)&&rp(e)}function np(e,t,n){return n(function(){op(t)&&rp(e)})}function op(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!_t(e,n)}catch{return!0}}function rp(e){var t=zt(e,1);t!==null&&St(t,e,1,-1)}function Pu(e){var t=Nt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:or,lastRenderedState:e},t.queue=e,e=e.dispatch=Bg.bind(null,xe,e),[t.memoizedState,e]}function rr(e,t,n,o){return e={tag:e,create:t,destroy:n,deps:o,next:null},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(o=n.next,n.next=e,e.next=o,t.lastEffect=e)),e}function ip(){return mt().memoizedState}function Vr(e,t,n,o){var r=Nt();xe.flags|=e,r.memoizedState=rr(1|t,n,void 0,o===void 0?null:o)}function Pi(e,t,n,o){var r=mt();o=o===void 0?null:o;var i=void 0;if(Pe!==null){var l=Pe.memoizedState;if(i=l.destroy,o!==null&&na(o,l.deps)){r.memoizedState=rr(t,n,i,o);return}}xe.flags|=e,r.memoizedState=rr(1|t,n,i,o)}function Ru(e,t){return Vr(8390656,8,e,t)}function ia(e,t){return Pi(2048,8,e,t)}function sp(e,t){return Pi(4,2,e,t)}function lp(e,t){return Pi(4,4,e,t)}function ap(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function up(e,t,n){return n=n!=null?n.concat([e]):null,Pi(4,4,ap.bind(null,t,e),n)}function sa(){}function cp(e,t){var n=mt();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&na(t,o[1])?o[0]:(n.memoizedState=[e,t],e)}function dp(e,t){var n=mt();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&na(t,o[1])?o[0]:(e=e(),n.memoizedState=[e,t],e)}function fp(e,t,n){return _n&21?(_t(n,t)||(n=yf(),xe.lanes|=n,wn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Qe=!0),e.memoizedState=n)}function zg(e,t){var n=ae;ae=n!==0&&4>n?n:4,e(!0);var o=cs.transition;cs.transition={};try{e(!1),t()}finally{ae=n,cs.transition=o}}function pp(){return mt().memoizedState}function qg(e,t,n){var o=ln(e);if(n={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null},hp(e))mp(t,n);else if(n=Kf(e,t,n,o),n!==null){var r=We();St(n,e,o,r),gp(n,t,o)}}function Bg(e,t,n){var o=ln(e),r={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null};if(hp(e))mp(t,r);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,u=i(l,n);if(r.hasEagerState=!0,r.eagerState=u,_t(u,l)){var c=t.interleaved;c===null?(r.next=r,Ql(t)):(r.next=c.next,c.next=r),t.interleaved=r;return}}catch{}finally{}n=Kf(e,t,r,o),n!==null&&(r=We(),St(n,e,o,r),gp(n,t,o))}}function hp(e){var t=e.alternate;return e===xe||t!==null&&t===xe}function mp(e,t){Ho=ai=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function gp(e,t,n){if(n&4194240){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,Vl(e,n)}}var ui={readContext:ht,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useInsertionEffect:Ge,useLayoutEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useMutableSource:Ge,useSyncExternalStore:Ge,useId:Ge,unstable_isNewReconciler:!1},bg={readContext:ht,useCallback:function(e,t){return Nt().memoizedState=[e,t===void 0?null:t],e},useContext:ht,useEffect:Ru,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Vr(4194308,4,ap.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vr(4,2,e,t)},useMemo:function(e,t){var n=Nt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var o=Nt();return t=n!==void 0?n(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=qg.bind(null,xe,e),[o.memoizedState,e]},useRef:function(e){var t=Nt();return e={current:e},t.memoizedState=e},useState:Pu,useDebugValue:sa,useDeferredValue:function(e){return Nt().memoizedState=e},useTransition:function(){var e=Pu(!1),t=e[0];return e=zg.bind(null,e[1]),Nt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var o=xe,r=Nt();if(Ce){if(n===void 0)throw Error(M(407));n=n()}else{if(n=t(),De===null)throw Error(M(349));_n&30||ep(o,t,n)}r.memoizedState=n;var i={value:n,getSnapshot:t};return r.queue=i,Ru(np.bind(null,o,i,e),[e]),o.flags|=2048,rr(9,tp.bind(null,o,i,n,t),void 0,null),n},useId:function(){var e=Nt(),t=De.identifierPrefix;if(Ce){var n=Ft,o=Ut;n=(o&~(1<<32-Tt(o)-1)).toString(32)+n,t=":"+t+"R"+n,n=nr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Gg++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Jg={readContext:ht,useCallback:cp,useContext:ht,useEffect:ia,useImperativeHandle:up,useInsertionEffect:sp,useLayoutEffect:lp,useMemo:dp,useReducer:ds,useRef:ip,useState:function(){return ds(or)},useDebugValue:sa,useDeferredValue:function(e){var t=mt();return fp(t,Pe.memoizedState,e)},useTransition:function(){var e=ds(or)[0],t=mt().memoizedState;return[e,t]},useMutableSource:Zf,useSyncExternalStore:jf,useId:pp,unstable_isNewReconciler:!1},$g={readContext:ht,useCallback:cp,useContext:ht,useEffect:ia,useImperativeHandle:up,useInsertionEffect:sp,useLayoutEffect:lp,useMemo:dp,useReducer:fs,useRef:ip,useState:function(){return fs(or)},useDebugValue:sa,useDeferredValue:function(e){var t=mt();return Pe===null?t.memoizedState=e:fp(t,Pe.memoizedState,e)},useTransition:function(){var e=fs(or)[0],t=mt().memoizedState;return[e,t]},useMutableSource:Zf,useSyncExternalStore:jf,useId:pp,unstable_isNewReconciler:!1};function Ct(e,t){if(e&&e.defaultProps){t=Te({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Os(e,t,n,o){t=e.memoizedState,n=n(o,t),n=n==null?t:Te({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ri={isMounted:function(e){return(e=e._reactInternals)?kn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var o=We(),r=ln(e),i=Vt(o,r);i.payload=t,n!=null&&(i.callback=n),t=rn(e,i,r),t!==null&&(St(t,e,r,o),Ur(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var o=We(),r=ln(e),i=Vt(o,r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=rn(e,i,r),t!==null&&(St(t,e,r,o),Ur(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=We(),o=ln(e),r=Vt(n,o);r.tag=2,t!=null&&(r.callback=t),t=rn(e,r,o),t!==null&&(St(t,e,o,n),Ur(t,e,o))}};function Mu(e,t,n,o,r,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,i,l):t.prototype&&t.prototype.isPureReactComponent?!Xo(n,o)||!Xo(r,i):!0}function yp(e,t,n){var o=!1,r=cn,i=t.contextType;return typeof i=="object"&&i!==null?i=ht(i):(r=je(t)?Tn:be.current,o=t.contextTypes,i=(o=o!=null)?no(e,r):cn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ri,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=i),t}function Du(e,t,n,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,o),t.state!==e&&Ri.enqueueReplaceState(t,t.state,null)}function Ks(e,t,n,o){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},Zl(e);var i=t.contextType;typeof i=="object"&&i!==null?r.context=ht(i):(i=je(t)?Tn:be.current,r.context=no(e,i)),r.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Os(e,t,i,n),r.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&Ri.enqueueReplaceState(r,r.state,null),si(e,n,r,o),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function so(e,t){try{var n="",o=t;do n+=Cm(o),o=o.return;while(o);var r=n}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:r,digest:null}}function ps(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Xs(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Wg=typeof WeakMap=="function"?WeakMap:Map;function vp(e,t,n){n=Vt(-1,n),n.tag=3,n.payload={element:null};var o=t.value;return n.callback=function(){di||(di=!0,sl=o),Xs(e,t)},n}function Cp(e,t,n){n=Vt(-1,n),n.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var r=t.value;n.payload=function(){return o(r)},n.callback=function(){Xs(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Xs(e,t),typeof o!="function"&&(sn===null?sn=new Set([this]):sn.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function Lu(e,t,n){var o=e.pingCache;if(o===null){o=e.pingCache=new Wg;var r=new Set;o.set(t,r)}else r=o.get(t),r===void 0&&(r=new Set,o.set(t,r));r.has(n)||(r.add(n),e=sy.bind(null,e,t,n),t.then(e,e))}function Uu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Fu(e,t,n,o,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Vt(-1,1),t.tag=2,rn(n,t,1))),n.lanes|=1),e)}var Yg=bt.ReactCurrentOwner,Qe=!1;function $e(e,t,n,o){t.child=e===null?Of(t,null,n,o):ro(t,e.child,n,o)}function Vu(e,t,n,o,r){n=n.render;var i=t.ref;return Xn(t,r),o=oa(e,t,n,o,i,r),n=ra(),e!==null&&!Qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,qt(e,t,r)):(Ce&&n&&$l(t),t.flags|=1,$e(e,t,o,r),t.child)}function Hu(e,t,n,o,r){if(e===null){var i=n.type;return typeof i=="function"&&!ha(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Ep(e,t,i,o,r)):(e=qr(n.type,null,o,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&r)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:Xo,n(l,o)&&e.ref===t.ref)return qt(e,t,r)}return t.flags|=1,e=an(i,o),e.ref=t.ref,e.return=t,t.child=e}function Ep(e,t,n,o,r){if(e!==null){var i=e.memoizedProps;if(Xo(i,o)&&e.ref===t.ref)if(Qe=!1,t.pendingProps=o=i,(e.lanes&r)!==0)e.flags&131072&&(Qe=!0);else return t.lanes=e.lanes,qt(e,t,r)}return Qs(e,t,n,o,r)}function xp(e,t,n){var o=t.pendingProps,r=o.children,i=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},pe(Jn,nt),nt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,pe(Jn,nt),nt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=i!==null?i.baseLanes:n,pe(Jn,nt),nt|=o}else i!==null?(o=i.baseLanes|n,t.memoizedState=null):o=n,pe(Jn,nt),nt|=o;return $e(e,t,r,n),t.child}function Tp(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Qs(e,t,n,o,r){var i=je(n)?Tn:be.current;return i=no(t,i),Xn(t,r),n=oa(e,t,n,o,i,r),o=ra(),e!==null&&!Qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,qt(e,t,r)):(Ce&&o&&$l(t),t.flags|=1,$e(e,t,n,r),t.child)}function Gu(e,t,n,o,r){if(je(n)){var i=!0;ti(t)}else i=!1;if(Xn(t,r),t.stateNode===null)Hr(e,t),yp(t,n,o),Ks(t,n,o,r),o=!0;else if(e===null){var l=t.stateNode,u=t.memoizedProps;l.props=u;var c=l.context,d=n.contextType;typeof d=="object"&&d!==null?d=ht(d):(d=je(n)?Tn:be.current,d=no(t,d));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof l.getSnapshotBeforeUpdate=="function";h||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==o||c!==d)&&Du(t,l,o,d),Ot=!1;var p=t.memoizedState;l.state=p,si(t,o,l,r),c=t.memoizedState,u!==o||p!==c||Ze.current||Ot?(typeof f=="function"&&(Os(t,n,f,o),c=t.memoizedState),(u=Ot||Mu(t,n,u,o,p,c,d))?(h||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=c),l.props=o,l.state=c,l.context=d,o=u):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{l=t.stateNode,Xf(e,t),u=t.memoizedProps,d=t.type===t.elementType?u:Ct(t.type,u),l.props=d,h=t.pendingProps,p=l.context,c=n.contextType,typeof c=="object"&&c!==null?c=ht(c):(c=je(n)?Tn:be.current,c=no(t,c));var y=n.getDerivedStateFromProps;(f=typeof y=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==h||p!==c)&&Du(t,l,o,c),Ot=!1,p=t.memoizedState,l.state=p,si(t,o,l,r);var x=t.memoizedState;u!==h||p!==x||Ze.current||Ot?(typeof y=="function"&&(Os(t,n,y,o),x=t.memoizedState),(d=Ot||Mu(t,n,d,o,p,x,c)||!1)?(f||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(o,x,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(o,x,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=x),l.props=o,l.state=x,l.context=c,o=d):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),o=!1)}return Zs(e,t,n,o,i,r)}function Zs(e,t,n,o,r,i){Tp(e,t);var l=(t.flags&128)!==0;if(!o&&!l)return r&&_u(t,n,!1),qt(e,t,i);o=t.stateNode,Yg.current=t;var u=l&&typeof n.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&l?(t.child=ro(t,e.child,null,i),t.child=ro(t,null,u,i)):$e(e,t,u,i),t.memoizedState=o.state,r&&_u(t,n,!0),t.child}function Sp(e){var t=e.stateNode;t.pendingContext?Su(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Su(e,t.context,!1),jl(e,t.containerInfo)}function zu(e,t,n,o,r){return oo(),Yl(r),t.flags|=256,$e(e,t,n,o),t.child}var js={dehydrated:null,treeContext:null,retryLane:0};function el(e){return{baseLanes:e,cachePool:null,transitions:null}}function _p(e,t,n){var o=t.pendingProps,r=Ee.current,i=!1,l=(t.flags&128)!==0,u;if((u=l)||(u=e!==null&&e.memoizedState===null?!1:(r&2)!==0),u?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),pe(Ee,r&1),e===null)return Ws(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=o.children,e=o.fallback,i?(o=t.mode,i=t.child,l={mode:"hidden",children:l},!(o&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=Li(l,o,0,null),e=xn(e,o,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=el(n),t.memoizedState=js,e):la(t,l));if(r=e.memoizedState,r!==null&&(u=r.dehydrated,u!==null))return Og(e,t,l,o,u,r,n);if(i){i=o.fallback,l=t.mode,r=e.child,u=r.sibling;var c={mode:"hidden",children:o.children};return!(l&1)&&t.child!==r?(o=t.child,o.childLanes=0,o.pendingProps=c,t.deletions=null):(o=an(r,c),o.subtreeFlags=r.subtreeFlags&14680064),u!==null?i=an(u,i):(i=xn(i,l,n,null),i.flags|=2),i.return=t,o.return=t,o.sibling=i,t.child=o,o=i,i=t.child,l=e.child.memoizedState,l=l===null?el(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=js,o}return i=e.child,e=i.sibling,o=an(i,{mode:"visible",children:o.children}),!(t.mode&1)&&(o.lanes=n),o.return=t,o.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function la(e,t){return t=Li({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ir(e,t,n,o){return o!==null&&Yl(o),ro(t,e.child,null,n),e=la(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Og(e,t,n,o,r,i,l){if(n)return t.flags&256?(t.flags&=-257,o=ps(Error(M(422))),Ir(e,t,l,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=o.fallback,r=t.mode,o=Li({mode:"visible",children:o.children},r,0,null),i=xn(i,r,l,null),i.flags|=2,o.return=t,i.return=t,o.sibling=i,t.child=o,t.mode&1&&ro(t,e.child,null,l),t.child.memoizedState=el(l),t.memoizedState=js,i);if(!(t.mode&1))return Ir(e,t,l,null);if(r.data==="$!"){if(o=r.nextSibling&&r.nextSibling.dataset,o)var u=o.dgst;return o=u,i=Error(M(419)),o=ps(i,o,void 0),Ir(e,t,l,o)}if(u=(l&e.childLanes)!==0,Qe||u){if(o=De,o!==null){switch(l&-l){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(o.suspendedLanes|l)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,zt(e,r),St(o,e,r,-1))}return pa(),o=ps(Error(M(421))),Ir(e,t,l,o)}return r.data==="$?"?(t.flags|=128,t.child=e.child,t=ly.bind(null,e),r._reactRetry=t,null):(e=i.treeContext,ot=on(r.nextSibling),rt=t,Ce=!0,xt=null,e!==null&&(ut[ct++]=Ut,ut[ct++]=Ft,ut[ct++]=Sn,Ut=e.id,Ft=e.overflow,Sn=t),t=la(t,o.children),t.flags|=4096,t)}function qu(e,t,n){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),Ys(e.return,t,n)}function hs(e,t,n,o,r){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:r}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=o,i.tail=n,i.tailMode=r)}function wp(e,t,n){var o=t.pendingProps,r=o.revealOrder,i=o.tail;if($e(e,t,o.children,n),o=Ee.current,o&2)o=o&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&qu(e,n,t);else if(e.tag===19)qu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(pe(Ee,o),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&li(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),hs(t,!1,r,n,i);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&li(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}hs(t,!0,n,null,i);break;case"together":hs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hr(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),wn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(M(153));if(t.child!==null){for(e=t.child,n=an(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=an(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Kg(e,t,n){switch(t.tag){case 3:Sp(t),oo();break;case 5:Qf(t);break;case 1:je(t.type)&&ti(t);break;case 4:jl(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,r=t.memoizedProps.value;pe(ri,o._currentValue),o._currentValue=r;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(pe(Ee,Ee.current&1),t.flags|=128,null):n&t.child.childLanes?_p(e,t,n):(pe(Ee,Ee.current&1),e=qt(e,t,n),e!==null?e.sibling:null);pe(Ee,Ee.current&1);break;case 19:if(o=(n&t.childLanes)!==0,e.flags&128){if(o)return wp(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),pe(Ee,Ee.current),o)break;return null;case 22:case 23:return t.lanes=0,xp(e,t,n)}return qt(e,t,n)}var Ip,tl,Ap,kp;Ip=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};tl=function(){};Ap=function(e,t,n,o){var r=e.memoizedProps;if(r!==o){e=t.stateNode,Cn(Mt.current);var i=null;switch(n){case"input":r=Ss(e,r),o=Ss(e,o),i=[];break;case"select":r=Te({},r,{value:void 0}),o=Te({},o,{value:void 0}),i=[];break;case"textarea":r=Is(e,r),o=Is(e,o),i=[];break;default:typeof r.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=jr)}ks(n,o);var l;n=null;for(d in r)if(!o.hasOwnProperty(d)&&r.hasOwnProperty(d)&&r[d]!=null)if(d==="style"){var u=r[d];for(l in u)u.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(bo.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in o){var c=o[d];if(u=r!=null?r[d]:void 0,o.hasOwnProperty(d)&&c!==u&&(c!=null||u!=null))if(d==="style")if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(bo.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&he("scroll",e),i||u===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};kp=function(e,t,n,o){n!==o&&(t.flags|=4)};function _o(e,t){if(!Ce)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,o=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,o|=r.subtreeFlags&14680064,o|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,o|=r.subtreeFlags,o|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=o,e.childLanes=n,t}function Xg(e,t,n){var o=t.pendingProps;switch(Wl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(t),null;case 1:return je(t.type)&&ei(),ze(t),null;case 3:return o=t.stateNode,io(),ye(Ze),ye(be),ta(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(_r(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,xt!==null&&(ul(xt),xt=null))),tl(e,t),ze(t),null;case 5:ea(t);var r=Cn(tr.current);if(n=t.type,e!==null&&t.stateNode!=null)Ap(e,t,n,o,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(M(166));return ze(t),null}if(e=Cn(Mt.current),_r(t)){o=t.stateNode,n=t.type;var i=t.memoizedProps;switch(o[Pt]=t,o[jo]=i,e=(t.mode&1)!==0,n){case"dialog":he("cancel",o),he("close",o);break;case"iframe":case"object":case"embed":he("load",o);break;case"video":case"audio":for(r=0;r<Po.length;r++)he(Po[r],o);break;case"source":he("error",o);break;case"img":case"image":case"link":he("error",o),he("load",o);break;case"details":he("toggle",o);break;case"input":Xa(o,i),he("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!i.multiple},he("invalid",o);break;case"textarea":Za(o,i),he("invalid",o)}ks(n,i),r=null;for(var l in i)if(i.hasOwnProperty(l)){var u=i[l];l==="children"?typeof u=="string"?o.textContent!==u&&(i.suppressHydrationWarning!==!0&&Sr(o.textContent,u,e),r=["children",u]):typeof u=="number"&&o.textContent!==""+u&&(i.suppressHydrationWarning!==!0&&Sr(o.textContent,u,e),r=["children",""+u]):bo.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&he("scroll",o)}switch(n){case"input":mr(o),Qa(o,i,!0);break;case"textarea":mr(o),ja(o);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(o.onclick=jr)}o=r,t.updateQueue=o,o!==null&&(t.flags|=4)}else{l=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=tf(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=l.createElement(n,{is:o.is}):(e=l.createElement(n),n==="select"&&(l=e,o.multiple?l.multiple=!0:o.size&&(l.size=o.size))):e=l.createElementNS(e,n),e[Pt]=t,e[jo]=o,Ip(e,t,!1,!1),t.stateNode=e;e:{switch(l=Ns(n,o),n){case"dialog":he("cancel",e),he("close",e),r=o;break;case"iframe":case"object":case"embed":he("load",e),r=o;break;case"video":case"audio":for(r=0;r<Po.length;r++)he(Po[r],e);r=o;break;case"source":he("error",e),r=o;break;case"img":case"image":case"link":he("error",e),he("load",e),r=o;break;case"details":he("toggle",e),r=o;break;case"input":Xa(e,o),r=Ss(e,o),he("invalid",e);break;case"option":r=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},r=Te({},o,{value:void 0}),he("invalid",e);break;case"textarea":Za(e,o),r=Is(e,o),he("invalid",e);break;default:r=o}ks(n,r),u=r;for(i in u)if(u.hasOwnProperty(i)){var c=u[i];i==="style"?rf(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&nf(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Jo(e,c):typeof c=="number"&&Jo(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(bo.hasOwnProperty(i)?c!=null&&i==="onScroll"&&he("scroll",e):c!=null&&Rl(e,i,c,l))}switch(n){case"input":mr(e),Qa(e,o,!1);break;case"textarea":mr(e),ja(e);break;case"option":o.value!=null&&e.setAttribute("value",""+un(o.value));break;case"select":e.multiple=!!o.multiple,i=o.value,i!=null?Wn(e,!!o.multiple,i,!1):o.defaultValue!=null&&Wn(e,!!o.multiple,o.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=jr)}switch(n){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ze(t),null;case 6:if(e&&t.stateNode!=null)kp(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(M(166));if(n=Cn(tr.current),Cn(Mt.current),_r(t)){if(o=t.stateNode,n=t.memoizedProps,o[Pt]=t,(i=o.nodeValue!==n)&&(e=rt,e!==null))switch(e.tag){case 3:Sr(o.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Sr(o.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else o=(n.nodeType===9?n:n.ownerDocument).createTextNode(o),o[Pt]=t,t.stateNode=o}return ze(t),null;case 13:if(ye(Ee),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ce&&ot!==null&&t.mode&1&&!(t.flags&128))Wf(),oo(),t.flags|=98560,i=!1;else if(i=_r(t),o!==null&&o.dehydrated!==null){if(e===null){if(!i)throw Error(M(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(M(317));i[Pt]=t}else oo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ze(t),i=!1}else xt!==null&&(ul(xt),xt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,t.mode&1&&(e===null||Ee.current&1?Re===0&&(Re=3):pa())),t.updateQueue!==null&&(t.flags|=4),ze(t),null);case 4:return io(),tl(e,t),e===null&&Qo(t.stateNode.containerInfo),ze(t),null;case 10:return Xl(t.type._context),ze(t),null;case 17:return je(t.type)&&ei(),ze(t),null;case 19:if(ye(Ee),i=t.memoizedState,i===null)return ze(t),null;if(o=(t.flags&128)!==0,l=i.rendering,l===null)if(o)_o(i,!1);else{if(Re!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=li(e),l!==null){for(t.flags|=128,_o(i,!1),o=l.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=n,n=t.child;n!==null;)i=n,e=o,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return pe(Ee,Ee.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ie()>lo&&(t.flags|=128,o=!0,_o(i,!1),t.lanes=4194304)}else{if(!o)if(e=li(l),e!==null){if(t.flags|=128,o=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),_o(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!Ce)return ze(t),null}else 2*Ie()-i.renderingStartTime>lo&&n!==1073741824&&(t.flags|=128,o=!0,_o(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(n=i.last,n!==null?n.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ie(),t.sibling=null,n=Ee.current,pe(Ee,o?n&1|2:n&1),t):(ze(t),null);case 22:case 23:return fa(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&t.mode&1?nt&1073741824&&(ze(t),t.subtreeFlags&6&&(t.flags|=8192)):ze(t),null;case 24:return null;case 25:return null}throw Error(M(156,t.tag))}function Qg(e,t){switch(Wl(t),t.tag){case 1:return je(t.type)&&ei(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return io(),ye(Ze),ye(be),ta(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ea(t),null;case 13:if(ye(Ee),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(M(340));oo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ye(Ee),null;case 4:return io(),null;case 10:return Xl(t.type._context),null;case 22:case 23:return fa(),null;case 24:return null;default:return null}}var Ar=!1,qe=!1,Zg=typeof WeakSet=="function"?WeakSet:Set,z=null;function bn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(o){_e(e,t,o)}else n.current=null}function nl(e,t,n){try{n()}catch(o){_e(e,t,o)}}var Bu=!1;function jg(e,t){if(Gs=Xr,e=Df(),Jl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var o=n.getSelection&&n.getSelection();if(o&&o.rangeCount!==0){n=o.anchorNode;var r=o.anchorOffset,i=o.focusNode;o=o.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,u=-1,c=-1,d=0,f=0,h=e,p=null;t:for(;;){for(var y;h!==n||r!==0&&h.nodeType!==3||(u=l+r),h!==i||o!==0&&h.nodeType!==3||(c=l+o),h.nodeType===3&&(l+=h.nodeValue.length),(y=h.firstChild)!==null;)p=h,h=y;for(;;){if(h===e)break t;if(p===n&&++d===r&&(u=l),p===i&&++f===o&&(c=l),(y=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=y}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(zs={focusedElem:e,selectionRange:n},Xr=!1,z=t;z!==null;)if(t=z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,z=e;else for(;z!==null;){t=z;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var E=x.memoizedProps,N=x.memoizedState,C=t.stateNode,v=C.getSnapshotBeforeUpdate(t.elementType===t.type?E:Ct(t.type,E),N);C.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(T){_e(t,t.return,T)}if(e=t.sibling,e!==null){e.return=t.return,z=e;break}z=t.return}return x=Bu,Bu=!1,x}function Go(e,t,n){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var r=o=o.next;do{if((r.tag&e)===e){var i=r.destroy;r.destroy=void 0,i!==void 0&&nl(t,n,i)}r=r.next}while(r!==o)}}function Mi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var o=n.create;n.destroy=o()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Np(e){var t=e.alternate;t!==null&&(e.alternate=null,Np(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Pt],delete t[jo],delete t[bs],delete t[Ug],delete t[Fg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Pp(e){return e.tag===5||e.tag===3||e.tag===4}function bu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Pp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function rl(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=jr));else if(o!==4&&(e=e.child,e!==null))for(rl(e,t,n),e=e.sibling;e!==null;)rl(e,t,n),e=e.sibling}function il(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(il(e,t,n),e=e.sibling;e!==null;)il(e,t,n),e=e.sibling}var Le=null,Et=!1;function Wt(e,t,n){for(n=n.child;n!==null;)Rp(e,t,n),n=n.sibling}function Rp(e,t,n){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(_i,n)}catch{}switch(n.tag){case 5:qe||bn(n,t);case 6:var o=Le,r=Et;Le=null,Wt(e,t,n),Le=o,Et=r,Le!==null&&(Et?(e=Le,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Le.removeChild(n.stateNode));break;case 18:Le!==null&&(Et?(e=Le,n=n.stateNode,e.nodeType===8?ls(e.parentNode,n):e.nodeType===1&&ls(e,n),Oo(e)):ls(Le,n.stateNode));break;case 4:o=Le,r=Et,Le=n.stateNode.containerInfo,Et=!0,Wt(e,t,n),Le=o,Et=r;break;case 0:case 11:case 14:case 15:if(!qe&&(o=n.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){r=o=o.next;do{var i=r,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&nl(n,t,l),r=r.next}while(r!==o)}Wt(e,t,n);break;case 1:if(!qe&&(bn(n,t),o=n.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=n.memoizedProps,o.state=n.memoizedState,o.componentWillUnmount()}catch(u){_e(n,t,u)}Wt(e,t,n);break;case 21:Wt(e,t,n);break;case 22:n.mode&1?(qe=(o=qe)||n.memoizedState!==null,Wt(e,t,n),qe=o):Wt(e,t,n);break;default:Wt(e,t,n)}}function Ju(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Zg),t.forEach(function(o){var r=ay.bind(null,e,o);n.has(o)||(n.add(o),o.then(r,r))})}}function vt(e,t){var n=t.deletions;if(n!==null)for(var o=0;o<n.length;o++){var r=n[o];try{var i=e,l=t,u=l;e:for(;u!==null;){switch(u.tag){case 5:Le=u.stateNode,Et=!1;break e;case 3:Le=u.stateNode.containerInfo,Et=!0;break e;case 4:Le=u.stateNode.containerInfo,Et=!0;break e}u=u.return}if(Le===null)throw Error(M(160));Rp(i,l,r),Le=null,Et=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(d){_e(r,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Mp(t,e),t=t.sibling}function Mp(e,t){var n=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vt(t,e),kt(e),o&4){try{Go(3,e,e.return),Mi(3,e)}catch(E){_e(e,e.return,E)}try{Go(5,e,e.return)}catch(E){_e(e,e.return,E)}}break;case 1:vt(t,e),kt(e),o&512&&n!==null&&bn(n,n.return);break;case 5:if(vt(t,e),kt(e),o&512&&n!==null&&bn(n,n.return),e.flags&32){var r=e.stateNode;try{Jo(r,"")}catch(E){_e(e,e.return,E)}}if(o&4&&(r=e.stateNode,r!=null)){var i=e.memoizedProps,l=n!==null?n.memoizedProps:i,u=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{u==="input"&&i.type==="radio"&&i.name!=null&&jd(r,i),Ns(u,l);var d=Ns(u,i);for(l=0;l<c.length;l+=2){var f=c[l],h=c[l+1];f==="style"?rf(r,h):f==="dangerouslySetInnerHTML"?nf(r,h):f==="children"?Jo(r,h):Rl(r,f,h,d)}switch(u){case"input":_s(r,i);break;case"textarea":ef(r,i);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Wn(r,!!i.multiple,y,!1):p!==!!i.multiple&&(i.defaultValue!=null?Wn(r,!!i.multiple,i.defaultValue,!0):Wn(r,!!i.multiple,i.multiple?[]:"",!1))}r[jo]=i}catch(E){_e(e,e.return,E)}}break;case 6:if(vt(t,e),kt(e),o&4){if(e.stateNode===null)throw Error(M(162));r=e.stateNode,i=e.memoizedProps;try{r.nodeValue=i}catch(E){_e(e,e.return,E)}}break;case 3:if(vt(t,e),kt(e),o&4&&n!==null&&n.memoizedState.isDehydrated)try{Oo(t.containerInfo)}catch(E){_e(e,e.return,E)}break;case 4:vt(t,e),kt(e);break;case 13:vt(t,e),kt(e),r=e.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(ca=Ie())),o&4&&Ju(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(qe=(d=qe)||f,vt(t,e),qe=d):vt(t,e),kt(e),o&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!f&&e.mode&1)for(z=e,f=e.child;f!==null;){for(h=z=f;z!==null;){switch(p=z,y=p.child,p.tag){case 0:case 11:case 14:case 15:Go(4,p,p.return);break;case 1:bn(p,p.return);var x=p.stateNode;if(typeof x.componentWillUnmount=="function"){o=p,n=p.return;try{t=o,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(E){_e(o,n,E)}}break;case 5:bn(p,p.return);break;case 22:if(p.memoizedState!==null){Wu(h);continue}}y!==null?(y.return=p,z=y):Wu(h)}f=f.sibling}e:for(f=null,h=e;;){if(h.tag===5){if(f===null){f=h;try{r=h.stateNode,d?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(u=h.stateNode,c=h.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=of("display",l))}catch(E){_e(e,e.return,E)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(E){_e(e,e.return,E)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vt(t,e),kt(e),o&4&&Ju(e);break;case 21:break;default:vt(t,e),kt(e)}}function kt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Pp(n)){var o=n;break e}n=n.return}throw Error(M(160))}switch(o.tag){case 5:var r=o.stateNode;o.flags&32&&(Jo(r,""),o.flags&=-33);var i=bu(e);il(e,i,r);break;case 3:case 4:var l=o.stateNode.containerInfo,u=bu(e);rl(e,u,l);break;default:throw Error(M(161))}}catch(c){_e(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ey(e,t,n){z=e,Dp(e)}function Dp(e,t,n){for(var o=(e.mode&1)!==0;z!==null;){var r=z,i=r.child;if(r.tag===22&&o){var l=r.memoizedState!==null||Ar;if(!l){var u=r.alternate,c=u!==null&&u.memoizedState!==null||qe;u=Ar;var d=qe;if(Ar=l,(qe=c)&&!d)for(z=r;z!==null;)l=z,c=l.child,l.tag===22&&l.memoizedState!==null?Yu(r):c!==null?(c.return=l,z=c):Yu(r);for(;i!==null;)z=i,Dp(i),i=i.sibling;z=r,Ar=u,qe=d}$u(e)}else r.subtreeFlags&8772&&i!==null?(i.return=r,z=i):$u(e)}}function $u(e){for(;z!==null;){var t=z;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:qe||Mi(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!qe)if(n===null)o.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:Ct(t.type,n.memoizedProps);o.componentDidUpdate(r,n.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Nu(t,i,o);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Nu(t,l,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&Oo(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}qe||t.flags&512&&ol(t)}catch(p){_e(t,t.return,p)}}if(t===e){z=null;break}if(n=t.sibling,n!==null){n.return=t.return,z=n;break}z=t.return}}function Wu(e){for(;z!==null;){var t=z;if(t===e){z=null;break}var n=t.sibling;if(n!==null){n.return=t.return,z=n;break}z=t.return}}function Yu(e){for(;z!==null;){var t=z;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Mi(4,t)}catch(c){_e(t,n,c)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var r=t.return;try{o.componentDidMount()}catch(c){_e(t,r,c)}}var i=t.return;try{ol(t)}catch(c){_e(t,i,c)}break;case 5:var l=t.return;try{ol(t)}catch(c){_e(t,l,c)}}}catch(c){_e(t,t.return,c)}if(t===e){z=null;break}var u=t.sibling;if(u!==null){u.return=t.return,z=u;break}z=t.return}}var ty=Math.ceil,ci=bt.ReactCurrentDispatcher,aa=bt.ReactCurrentOwner,ft=bt.ReactCurrentBatchConfig,ne=0,De=null,Ne=null,Ue=0,nt=0,Jn=fn(0),Re=0,ir=null,wn=0,Di=0,ua=0,zo=null,Xe=null,ca=0,lo=1/0,Dt=null,di=!1,sl=null,sn=null,kr=!1,Zt=null,fi=0,qo=0,ll=null,Gr=-1,zr=0;function We(){return ne&6?Ie():Gr!==-1?Gr:Gr=Ie()}function ln(e){return e.mode&1?ne&2&&Ue!==0?Ue&-Ue:Hg.transition!==null?(zr===0&&(zr=yf()),zr):(e=ae,e!==0||(e=window.event,e=e===void 0?16:_f(e.type)),e):1}function St(e,t,n,o){if(50<qo)throw qo=0,ll=null,Error(M(185));lr(e,n,o),(!(ne&2)||e!==De)&&(e===De&&(!(ne&2)&&(Di|=n),Re===4&&Xt(e,Ue)),et(e,o),n===1&&ne===0&&!(t.mode&1)&&(lo=Ie()+500,Ni&&pn()))}function et(e,t){var n=e.callbackNode;Hm(e,t);var o=Kr(e,e===De?Ue:0);if(o===0)n!==null&&nu(n),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(n!=null&&nu(n),t===1)e.tag===0?Vg(Ou.bind(null,e)):bf(Ou.bind(null,e)),Dg(function(){!(ne&6)&&pn()}),n=null;else{switch(vf(o)){case 1:n=Fl;break;case 4:n=mf;break;case 16:n=Or;break;case 536870912:n=gf;break;default:n=Or}n=qp(n,Lp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Lp(e,t){if(Gr=-1,zr=0,ne&6)throw Error(M(327));var n=e.callbackNode;if(Qn()&&e.callbackNode!==n)return null;var o=Kr(e,e===De?Ue:0);if(o===0)return null;if(o&30||o&e.expiredLanes||t)t=pi(e,o);else{t=o;var r=ne;ne|=2;var i=Fp();(De!==e||Ue!==t)&&(Dt=null,lo=Ie()+500,En(e,t));do try{ry();break}catch(u){Up(e,u)}while(!0);Kl(),ci.current=i,ne=r,Ne!==null?t=0:(De=null,Ue=0,t=Re)}if(t!==0){if(t===2&&(r=Ls(e),r!==0&&(o=r,t=al(e,r))),t===1)throw n=ir,En(e,0),Xt(e,o),et(e,Ie()),n;if(t===6)Xt(e,o);else{if(r=e.current.alternate,!(o&30)&&!ny(r)&&(t=pi(e,o),t===2&&(i=Ls(e),i!==0&&(o=i,t=al(e,i))),t===1))throw n=ir,En(e,0),Xt(e,o),et(e,Ie()),n;switch(e.finishedWork=r,e.finishedLanes=o,t){case 0:case 1:throw Error(M(345));case 2:gn(e,Xe,Dt);break;case 3:if(Xt(e,o),(o&130023424)===o&&(t=ca+500-Ie(),10<t)){if(Kr(e,0)!==0)break;if(r=e.suspendedLanes,(r&o)!==o){We(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=Bs(gn.bind(null,e,Xe,Dt),t);break}gn(e,Xe,Dt);break;case 4:if(Xt(e,o),(o&4194240)===o)break;for(t=e.eventTimes,r=-1;0<o;){var l=31-Tt(o);i=1<<l,l=t[l],l>r&&(r=l),o&=~i}if(o=r,o=Ie()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*ty(o/1960))-o,10<o){e.timeoutHandle=Bs(gn.bind(null,e,Xe,Dt),o);break}gn(e,Xe,Dt);break;case 5:gn(e,Xe,Dt);break;default:throw Error(M(329))}}}return et(e,Ie()),e.callbackNode===n?Lp.bind(null,e):null}function al(e,t){var n=zo;return e.current.memoizedState.isDehydrated&&(En(e,t).flags|=256),e=pi(e,t),e!==2&&(t=Xe,Xe=n,t!==null&&ul(t)),e}function ul(e){Xe===null?Xe=e:Xe.push.apply(Xe,e)}function ny(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var o=0;o<n.length;o++){var r=n[o],i=r.getSnapshot;r=r.value;try{if(!_t(i(),r))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xt(e,t){for(t&=~ua,t&=~Di,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Tt(t),o=1<<n;e[n]=-1,t&=~o}}function Ou(e){if(ne&6)throw Error(M(327));Qn();var t=Kr(e,0);if(!(t&1))return et(e,Ie()),null;var n=pi(e,t);if(e.tag!==0&&n===2){var o=Ls(e);o!==0&&(t=o,n=al(e,o))}if(n===1)throw n=ir,En(e,0),Xt(e,t),et(e,Ie()),n;if(n===6)throw Error(M(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gn(e,Xe,Dt),et(e,Ie()),null}function da(e,t){var n=ne;ne|=1;try{return e(t)}finally{ne=n,ne===0&&(lo=Ie()+500,Ni&&pn())}}function In(e){Zt!==null&&Zt.tag===0&&!(ne&6)&&Qn();var t=ne;ne|=1;var n=ft.transition,o=ae;try{if(ft.transition=null,ae=1,e)return e()}finally{ae=o,ft.transition=n,ne=t,!(ne&6)&&pn()}}function fa(){nt=Jn.current,ye(Jn)}function En(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Mg(n)),Ne!==null)for(n=Ne.return;n!==null;){var o=n;switch(Wl(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&ei();break;case 3:io(),ye(Ze),ye(be),ta();break;case 5:ea(o);break;case 4:io();break;case 13:ye(Ee);break;case 19:ye(Ee);break;case 10:Xl(o.type._context);break;case 22:case 23:fa()}n=n.return}if(De=e,Ne=e=an(e.current,null),Ue=nt=t,Re=0,ir=null,ua=Di=wn=0,Xe=zo=null,vn!==null){for(t=0;t<vn.length;t++)if(n=vn[t],o=n.interleaved,o!==null){n.interleaved=null;var r=o.next,i=n.pending;if(i!==null){var l=i.next;i.next=r,o.next=l}n.pending=o}vn=null}return e}function Up(e,t){do{var n=Ne;try{if(Kl(),Fr.current=ui,ai){for(var o=xe.memoizedState;o!==null;){var r=o.queue;r!==null&&(r.pending=null),o=o.next}ai=!1}if(_n=0,Me=Pe=xe=null,Ho=!1,nr=0,aa.current=null,n===null||n.return===null){Re=1,ir=t,Ne=null;break}e:{var i=e,l=n.return,u=n,c=t;if(t=Ue,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,f=u,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var y=Uu(l);if(y!==null){y.flags&=-257,Fu(y,l,u,i,t),y.mode&1&&Lu(i,d,t),t=y,c=d;var x=t.updateQueue;if(x===null){var E=new Set;E.add(c),t.updateQueue=E}else x.add(c);break e}else{if(!(t&1)){Lu(i,d,t),pa();break e}c=Error(M(426))}}else if(Ce&&u.mode&1){var N=Uu(l);if(N!==null){!(N.flags&65536)&&(N.flags|=256),Fu(N,l,u,i,t),Yl(so(c,u));break e}}i=c=so(c,u),Re!==4&&(Re=2),zo===null?zo=[i]:zo.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var C=vp(i,c,t);ku(i,C);break e;case 1:u=c;var v=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(sn===null||!sn.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var T=Cp(i,u,t);ku(i,T);break e}}i=i.return}while(i!==null)}Hp(n)}catch(_){t=_,Ne===n&&n!==null&&(Ne=n=n.return);continue}break}while(!0)}function Fp(){var e=ci.current;return ci.current=ui,e===null?ui:e}function pa(){(Re===0||Re===3||Re===2)&&(Re=4),De===null||!(wn&268435455)&&!(Di&268435455)||Xt(De,Ue)}function pi(e,t){var n=ne;ne|=2;var o=Fp();(De!==e||Ue!==t)&&(Dt=null,En(e,t));do try{oy();break}catch(r){Up(e,r)}while(!0);if(Kl(),ne=n,ci.current=o,Ne!==null)throw Error(M(261));return De=null,Ue=0,Re}function oy(){for(;Ne!==null;)Vp(Ne)}function ry(){for(;Ne!==null&&!Nm();)Vp(Ne)}function Vp(e){var t=zp(e.alternate,e,nt);e.memoizedProps=e.pendingProps,t===null?Hp(e):Ne=t,aa.current=null}function Hp(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Qg(n,t),n!==null){n.flags&=32767,Ne=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Re=6,Ne=null;return}}else if(n=Xg(n,t,nt),n!==null){Ne=n;return}if(t=t.sibling,t!==null){Ne=t;return}Ne=t=e}while(t!==null);Re===0&&(Re=5)}function gn(e,t,n){var o=ae,r=ft.transition;try{ft.transition=null,ae=1,iy(e,t,n,o)}finally{ft.transition=r,ae=o}return null}function iy(e,t,n,o){do Qn();while(Zt!==null);if(ne&6)throw Error(M(327));n=e.finishedWork;var r=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(M(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Gm(e,i),e===De&&(Ne=De=null,Ue=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||kr||(kr=!0,qp(Or,function(){return Qn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ft.transition,ft.transition=null;var l=ae;ae=1;var u=ne;ne|=4,aa.current=null,jg(e,n),Mp(n,e),wg(zs),Xr=!!Gs,zs=Gs=null,e.current=n,ey(n),Pm(),ne=u,ae=l,ft.transition=i}else e.current=n;if(kr&&(kr=!1,Zt=e,fi=r),i=e.pendingLanes,i===0&&(sn=null),Dm(n.stateNode),et(e,Ie()),t!==null)for(o=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],o(r.value,{componentStack:r.stack,digest:r.digest});if(di)throw di=!1,e=sl,sl=null,e;return fi&1&&e.tag!==0&&Qn(),i=e.pendingLanes,i&1?e===ll?qo++:(qo=0,ll=e):qo=0,pn(),null}function Qn(){if(Zt!==null){var e=vf(fi),t=ft.transition,n=ae;try{if(ft.transition=null,ae=16>e?16:e,Zt===null)var o=!1;else{if(e=Zt,Zt=null,fi=0,ne&6)throw Error(M(331));var r=ne;for(ne|=4,z=e.current;z!==null;){var i=z,l=i.child;if(z.flags&16){var u=i.deletions;if(u!==null){for(var c=0;c<u.length;c++){var d=u[c];for(z=d;z!==null;){var f=z;switch(f.tag){case 0:case 11:case 15:Go(8,f,i)}var h=f.child;if(h!==null)h.return=f,z=h;else for(;z!==null;){f=z;var p=f.sibling,y=f.return;if(Np(f),f===d){z=null;break}if(p!==null){p.return=y,z=p;break}z=y}}}var x=i.alternate;if(x!==null){var E=x.child;if(E!==null){x.child=null;do{var N=E.sibling;E.sibling=null,E=N}while(E!==null)}}z=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,z=l;else e:for(;z!==null;){if(i=z,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Go(9,i,i.return)}var C=i.sibling;if(C!==null){C.return=i.return,z=C;break e}z=i.return}}var v=e.current;for(z=v;z!==null;){l=z;var g=l.child;if(l.subtreeFlags&2064&&g!==null)g.return=l,z=g;else e:for(l=v;z!==null;){if(u=z,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Mi(9,u)}}catch(_){_e(u,u.return,_)}if(u===l){z=null;break e}var T=u.sibling;if(T!==null){T.return=u.return,z=T;break e}z=u.return}}if(ne=r,pn(),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(_i,e)}catch{}o=!0}return o}finally{ae=n,ft.transition=t}}return!1}function Ku(e,t,n){t=so(n,t),t=vp(e,t,1),e=rn(e,t,1),t=We(),e!==null&&(lr(e,1,t),et(e,t))}function _e(e,t,n){if(e.tag===3)Ku(e,e,n);else for(;t!==null;){if(t.tag===3){Ku(t,e,n);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(sn===null||!sn.has(o))){e=so(n,e),e=Cp(t,e,1),t=rn(t,e,1),e=We(),t!==null&&(lr(t,1,e),et(t,e));break}}t=t.return}}function sy(e,t,n){var o=e.pingCache;o!==null&&o.delete(t),t=We(),e.pingedLanes|=e.suspendedLanes&n,De===e&&(Ue&n)===n&&(Re===4||Re===3&&(Ue&130023424)===Ue&&500>Ie()-ca?En(e,0):ua|=n),et(e,t)}function Gp(e,t){t===0&&(e.mode&1?(t=vr,vr<<=1,!(vr&130023424)&&(vr=4194304)):t=1);var n=We();e=zt(e,t),e!==null&&(lr(e,t,n),et(e,n))}function ly(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Gp(e,n)}function ay(e,t){var n=0;switch(e.tag){case 13:var o=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(M(314))}o!==null&&o.delete(t),Gp(e,n)}var zp;zp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ze.current)Qe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Qe=!1,Kg(e,t,n);Qe=!!(e.flags&131072)}else Qe=!1,Ce&&t.flags&1048576&&Jf(t,oi,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;Hr(e,t),e=t.pendingProps;var r=no(t,be.current);Xn(t,n),r=oa(null,t,o,e,r,n);var i=ra();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,je(o)?(i=!0,ti(t)):i=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Zl(t),r.updater=Ri,t.stateNode=r,r._reactInternals=t,Ks(t,o,e,n),t=Zs(null,t,o,!0,i,n)):(t.tag=0,Ce&&i&&$l(t),$e(null,t,r,n),t=t.child),t;case 16:o=t.elementType;e:{switch(Hr(e,t),e=t.pendingProps,r=o._init,o=r(o._payload),t.type=o,r=t.tag=cy(o),e=Ct(o,e),r){case 0:t=Qs(null,t,o,e,n);break e;case 1:t=Gu(null,t,o,e,n);break e;case 11:t=Vu(null,t,o,e,n);break e;case 14:t=Hu(null,t,o,Ct(o.type,e),n);break e}throw Error(M(306,o,""))}return t;case 0:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:Ct(o,r),Qs(e,t,o,r,n);case 1:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:Ct(o,r),Gu(e,t,o,r,n);case 3:e:{if(Sp(t),e===null)throw Error(M(387));o=t.pendingProps,i=t.memoizedState,r=i.element,Xf(e,t),si(t,o,null,n);var l=t.memoizedState;if(o=l.element,i.isDehydrated)if(i={element:o,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){r=so(Error(M(423)),t),t=zu(e,t,o,n,r);break e}else if(o!==r){r=so(Error(M(424)),t),t=zu(e,t,o,n,r);break e}else for(ot=on(t.stateNode.containerInfo.firstChild),rt=t,Ce=!0,xt=null,n=Of(t,null,o,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(oo(),o===r){t=qt(e,t,n);break e}$e(e,t,o,n)}t=t.child}return t;case 5:return Qf(t),e===null&&Ws(t),o=t.type,r=t.pendingProps,i=e!==null?e.memoizedProps:null,l=r.children,qs(o,r)?l=null:i!==null&&qs(o,i)&&(t.flags|=32),Tp(e,t),$e(e,t,l,n),t.child;case 6:return e===null&&Ws(t),null;case 13:return _p(e,t,n);case 4:return jl(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=ro(t,null,o,n):$e(e,t,o,n),t.child;case 11:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:Ct(o,r),Vu(e,t,o,r,n);case 7:return $e(e,t,t.pendingProps,n),t.child;case 8:return $e(e,t,t.pendingProps.children,n),t.child;case 12:return $e(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(o=t.type._context,r=t.pendingProps,i=t.memoizedProps,l=r.value,pe(ri,o._currentValue),o._currentValue=l,i!==null)if(_t(i.value,l)){if(i.children===r.children&&!Ze.current){t=qt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var u=i.dependencies;if(u!==null){l=i.child;for(var c=u.firstContext;c!==null;){if(c.context===o){if(i.tag===1){c=Vt(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?c.next=c:(c.next=f.next,f.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Ys(i.return,n,t),u.lanes|=n;break}c=c.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(M(341));l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),Ys(l,n,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}$e(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,o=t.pendingProps.children,Xn(t,n),r=ht(r),o=o(r),t.flags|=1,$e(e,t,o,n),t.child;case 14:return o=t.type,r=Ct(o,t.pendingProps),r=Ct(o.type,r),Hu(e,t,o,r,n);case 15:return Ep(e,t,t.type,t.pendingProps,n);case 17:return o=t.type,r=t.pendingProps,r=t.elementType===o?r:Ct(o,r),Hr(e,t),t.tag=1,je(o)?(e=!0,ti(t)):e=!1,Xn(t,n),yp(t,o,r),Ks(t,o,r,n),Zs(null,t,o,!0,e,n);case 19:return wp(e,t,n);case 22:return xp(e,t,n)}throw Error(M(156,t.tag))};function qp(e,t){return hf(e,t)}function uy(e,t,n,o){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dt(e,t,n,o){return new uy(e,t,n,o)}function ha(e){return e=e.prototype,!(!e||!e.isReactComponent)}function cy(e){if(typeof e=="function")return ha(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Dl)return 11;if(e===Ll)return 14}return 2}function an(e,t){var n=e.alternate;return n===null?(n=dt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function qr(e,t,n,o,r,i){var l=2;if(o=e,typeof e=="function")ha(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Ln:return xn(n.children,r,i,t);case Ml:l=8,r|=8;break;case Cs:return e=dt(12,n,t,r|2),e.elementType=Cs,e.lanes=i,e;case Es:return e=dt(13,n,t,r),e.elementType=Es,e.lanes=i,e;case xs:return e=dt(19,n,t,r),e.elementType=xs,e.lanes=i,e;case Xd:return Li(n,r,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Od:l=10;break e;case Kd:l=9;break e;case Dl:l=11;break e;case Ll:l=14;break e;case Yt:l=16,o=null;break e}throw Error(M(130,e==null?e:typeof e,""))}return t=dt(l,n,t,r),t.elementType=e,t.type=o,t.lanes=i,t}function xn(e,t,n,o){return e=dt(7,e,o,t),e.lanes=n,e}function Li(e,t,n,o){return e=dt(22,e,o,t),e.elementType=Xd,e.lanes=n,e.stateNode={isHidden:!1},e}function ms(e,t,n){return e=dt(6,e,null,t),e.lanes=n,e}function gs(e,t,n){return t=dt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function dy(e,t,n,o,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xi(0),this.expirationTimes=Xi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xi(0),this.identifierPrefix=o,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function ma(e,t,n,o,r,i,l,u,c){return e=new dy(e,t,n,u,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=dt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:o,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zl(i),e}function fy(e,t,n){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Dn,key:o==null?null:""+o,children:e,containerInfo:t,implementation:n}}function Bp(e){if(!e)return cn;e=e._reactInternals;e:{if(kn(e)!==e||e.tag!==1)throw Error(M(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(je(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(M(171))}if(e.tag===1){var n=e.type;if(je(n))return Bf(e,n,t)}return t}function bp(e,t,n,o,r,i,l,u,c){return e=ma(n,o,!0,e,r,i,l,u,c),e.context=Bp(null),n=e.current,o=We(),r=ln(n),i=Vt(o,r),i.callback=t??null,rn(n,i,r),e.current.lanes=r,lr(e,r,o),et(e,o),e}function Ui(e,t,n,o){var r=t.current,i=We(),l=ln(r);return n=Bp(n),t.context===null?t.context=n:t.pendingContext=n,t=Vt(i,l),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=rn(r,t,l),e!==null&&(St(e,r,l,i),Ur(e,r,l)),l}function hi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Xu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ga(e,t){Xu(e,t),(e=e.alternate)&&Xu(e,t)}function py(){return null}var Jp=typeof reportError=="function"?reportError:function(e){console.error(e)};function ya(e){this._internalRoot=e}Fi.prototype.render=ya.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(M(409));Ui(e,t,null,null)};Fi.prototype.unmount=ya.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;In(function(){Ui(null,e,null,null)}),t[Gt]=null}};function Fi(e){this._internalRoot=e}Fi.prototype.unstable_scheduleHydration=function(e){if(e){var t=xf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Kt.length&&t!==0&&t<Kt[n].priority;n++);Kt.splice(n,0,e),n===0&&Sf(e)}};function va(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Vi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Qu(){}function hy(e,t,n,o,r){if(r){if(typeof o=="function"){var i=o;o=function(){var d=hi(l);i.call(d)}}var l=bp(t,o,e,0,null,!1,!1,"",Qu);return e._reactRootContainer=l,e[Gt]=l.current,Qo(e.nodeType===8?e.parentNode:e),In(),l}for(;r=e.lastChild;)e.removeChild(r);if(typeof o=="function"){var u=o;o=function(){var d=hi(c);u.call(d)}}var c=ma(e,0,!1,null,null,!1,!1,"",Qu);return e._reactRootContainer=c,e[Gt]=c.current,Qo(e.nodeType===8?e.parentNode:e),In(function(){Ui(t,c,n,o)}),c}function Hi(e,t,n,o,r){var i=n._reactRootContainer;if(i){var l=i;if(typeof r=="function"){var u=r;r=function(){var c=hi(l);u.call(c)}}Ui(t,l,e,r)}else l=hy(n,t,e,r,o);return hi(l)}Cf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=No(t.pendingLanes);n!==0&&(Vl(t,n|1),et(t,Ie()),!(ne&6)&&(lo=Ie()+500,pn()))}break;case 13:In(function(){var o=zt(e,1);if(o!==null){var r=We();St(o,e,1,r)}}),ga(e,1)}};Hl=function(e){if(e.tag===13){var t=zt(e,134217728);if(t!==null){var n=We();St(t,e,134217728,n)}ga(e,134217728)}};Ef=function(e){if(e.tag===13){var t=ln(e),n=zt(e,t);if(n!==null){var o=We();St(n,e,t,o)}ga(e,t)}};xf=function(){return ae};Tf=function(e,t){var n=ae;try{return ae=e,t()}finally{ae=n}};Rs=function(e,t,n){switch(t){case"input":if(_s(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var r=ki(o);if(!r)throw Error(M(90));Zd(o),_s(o,r)}}}break;case"textarea":ef(e,n);break;case"select":t=n.value,t!=null&&Wn(e,!!n.multiple,t,!1)}};af=da;uf=In;var my={usingClientEntryPoint:!1,Events:[ur,Hn,ki,sf,lf,da]},wo={findFiberByHostInstance:yn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gy={bundleType:wo.bundleType,version:wo.version,rendererPackageName:wo.rendererPackageName,rendererConfig:wo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ff(e),e===null?null:e.stateNode},findFiberByHostInstance:wo.findFiberByHostInstance||py,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nr.isDisabled&&Nr.supportsFiber)try{_i=Nr.inject(gy),Rt=Nr}catch{}}st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=my;st.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!va(t))throw Error(M(200));return fy(e,t,null,n)};st.createRoot=function(e,t){if(!va(e))throw Error(M(299));var n=!1,o="",r=Jp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=ma(e,1,!1,null,null,n,!1,o,r),e[Gt]=t.current,Qo(e.nodeType===8?e.parentNode:e),new ya(t)};st.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(M(188)):(e=Object.keys(e).join(","),Error(M(268,e)));return e=ff(t),e=e===null?null:e.stateNode,e};st.flushSync=function(e){return In(e)};st.hydrate=function(e,t,n){if(!Vi(t))throw Error(M(200));return Hi(null,e,t,!0,n)};st.hydrateRoot=function(e,t,n){if(!va(e))throw Error(M(405));var o=n!=null&&n.hydratedSources||null,r=!1,i="",l=Jp;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=bp(t,null,e,1,n??null,r,!1,i,l),e[Gt]=t.current,Qo(e),o)for(e=0;e<o.length;e++)n=o[e],r=n._getVersion,r=r(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Fi(t)};st.render=function(e,t,n){if(!Vi(t))throw Error(M(200));return Hi(null,e,t,!1,n)};st.unmountComponentAtNode=function(e){if(!Vi(e))throw Error(M(40));return e._reactRootContainer?(In(function(){Hi(null,null,e,!1,function(){e._reactRootContainer=null,e[Gt]=null})}),!0):!1};st.unstable_batchedUpdates=da;st.unstable_renderSubtreeIntoContainer=function(e,t,n,o){if(!Vi(n))throw Error(M(200));if(e==null||e._reactInternals===void 0)throw Error(M(38));return Hi(e,t,n,!1,o)};st.version="18.3.1-next-f1338f8080-20240426";function $p(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($p)}catch(e){console.error(e)}}$p(),Jd.exports=st;var yy=Jd.exports,Zu=yy;ys.createRoot=Zu.createRoot,ys.hydrateRoot=Zu.hydrateRoot;var q=(e=>(e.TEXT="TEXT",e.IMAGE="IMAGE",e.SHAPE_RECT="SHAPE_RECT",e.SHAPE_CIRCLE="SHAPE_CIRCLE",e.SHAPE_TRIANGLE="SHAPE_TRIANGLE",e.SHAPE_STAR="SHAPE_STAR",e.SHAPE_HEART="SHAPE_HEART",e.SHAPE_DIAMOND="SHAPE_DIAMOND",e))(q||{});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),X=(e,t)=>{const n=L.forwardRef(({color:o="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:u="",children:c,...d},f)=>L.createElement("svg",{ref:f,...vy,width:r,height:r,stroke:o,strokeWidth:l?Number(i)*24/Number(r):i,className:["lucide",`lucide-${Cy(e)}`,u].join(" "),...d},[...t.map(([h,p])=>L.createElement(h,p)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=X("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=X("AlignCenter",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"17",x2:"7",y1:"12",y2:"12",key:"rsh8ii"}],["line",{x1:"19",x2:"5",y1:"18",y2:"18",key:"1t0tuv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=X("AlignJustify",[["line",{x1:"3",x2:"21",y1:"6",y2:"6",key:"4m8b97"}],["line",{x1:"3",x2:"21",y1:"12",y2:"12",key:"10d38w"}],["line",{x1:"3",x2:"21",y1:"18",y2:"18",key:"kwyyxn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ju=X("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=X("AlignRight",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}],["line",{x1:"21",x2:"7",y1:"18",y2:"18",key:"1g9eri"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=X("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=X("Brush",[["path",{d:"m9.06 11.9 8.07-8.06a2.85 2.85 0 1 1 4.03 4.03l-8.06 8.08",key:"1styjt"}],["path",{d:"M7.07 14.94c-1.66 0-3 1.35-3 3.02 0 1.33-2.5 1.52-2 2.02 1.08 1.1 2.49 2.02 4 2.02 2.2 0 4-1.8 4-4.04a3.01 3.01 0 0 0-3-3.02z",key:"z0l1mu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=X("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ec=X("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=X("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=X("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=X("CornerUpLeft",[["polyline",{points:"9 14 4 9 9 4",key:"881910"}],["path",{d:"M20 20v-7a4 4 0 0 0-4-4H4",key:"1nkjon"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yp=X("Crop",[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ky=X("Diamond",[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Op=X("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=X("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=X("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tc=X("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nc=X("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=X("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=X("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=X("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=X("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kp=X("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xp=X("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=X("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qp=X("MousePointer2",[["path",{d:"m4 4 7.07 17 2.51-7.39L21 11.07z",key:"1vqm48"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oc=X("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=X("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=X("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=X("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=X("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=X("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=X("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=X("Shapes",[["path",{d:"M8.3 10a.7.7 0 0 1-.626-1.079L11.4 3a.7.7 0 0 1 1.198-.043L16.3 8.9a.7.7 0 0 1-.572 1.1Z",key:"1bo67w"}],["rect",{x:"3",y:"14",width:"7",height:"7",rx:"1",key:"1bkyp8"}],["circle",{cx:"17.5",cy:"17.5",r:"3.5",key:"w3z12y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=X("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hy=X("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=X("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=X("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=X("Triangle",[["path",{d:"M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"14u9p9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=X("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zp=X("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=X("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=X("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=X("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=X("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),By=({element:e,isSelected:t,canvasScale:n,canvasRotation:o,onSelect:r,onUpdate:i,onInteractionEnd:l,onDelete:u})=>{const[c,d]=L.useState(!1),f=L.useRef(null),h=(g,T)=>{const _=g/n,w=T/n,A=-o*(Math.PI/180),R=Math.cos(A),P=Math.sin(A);return{x:_*R-w*P,y:_*P+w*R}},p=g=>{if(e.locked||"touches"in g&&g.touches.length>1)return;g.stopPropagation(),r(e.id),d(!0);const T="touches"in g?g.touches[0].clientX:g.clientX,_="touches"in g?g.touches[0].clientY:g.clientY,w=T,A=_,R=e.x,P=e.y;let D=!1;const Y=Z=>{if("touches"in Z&&Z.touches.length>1){Q();return}const Se="touches"in Z?Z.touches[0].clientX:Z.clientX,V="touches"in Z?Z.touches[0].clientY:Z.clientY,b=Se-w,J=V-A;(Math.abs(b)>2||Math.abs(J)>2)&&(D=!0);const{x:k,y:H}=h(b,J);i(e.id,{x:R+k,y:P+H})},Q=()=>{d(!1),D&&l(),document.removeEventListener("mousemove",Y),document.removeEventListener("mouseup",Q),document.removeEventListener("touchmove",Y),document.removeEventListener("touchend",Q)};document.addEventListener("mousemove",Y),document.addEventListener("mouseup",Q),document.addEventListener("touchmove",Y,{passive:!1}),document.addEventListener("touchend",Q)},y=(g,T)=>{if(g.stopPropagation(),e.locked||"touches"in g&&g.touches.length>1)return;const _="touches"in g?g.touches[0].clientX:g.clientX,w="touches"in g?g.touches[0].clientY:g.clientY,A=_,R=w,P=e.width,D=e.height,Y=e.x,Q=e.y,Z=e.style.fontSize??48;let Se=!1;const V=J=>{if("touches"in J&&J.touches.length>1){b();return}Se=!0;const k="touches"in J?J.touches[0].clientX:J.clientX,H="touches"in J?J.touches[0].clientY:J.clientY,U=k-A,O=H-R,{x:K,y:ue}=h(U,O),re=-e.rotation*(Math.PI/180),ce=Math.cos(re),B=Math.sin(re),ee=K*ce-ue*B;let fe=0;T==="nw"||T==="sw"?fe=-ee:fe=ee;const we=Math.max(20,P+fe),Ke=we/P,Ve=D*Ke,Je=we-P,de=Ve-D,te=e.rotation*(Math.PI/180),It=Math.cos(te),At=Math.sin(te);let gt=0,le=0;T==="nw"?(gt=-(Je*It-de*At),le=-(Je*At+de*It)):T==="ne"?(gt=-(-de*At),le=-(de*It)):T==="sw"&&(gt=-(Je*It),le=-(Je*At));const Pn={width:we,height:Ve,x:Y+gt,y:Q+le};e.type===q.TEXT&&(Pn.style={...e.style,fontSize:Math.max(12,Z*Ke)}),i(e.id,Pn)},b=()=>{Se&&l(),document.removeEventListener("mousemove",V),document.removeEventListener("mouseup",b),document.removeEventListener("touchmove",V),document.removeEventListener("touchend",b)};document.addEventListener("mousemove",V),document.addEventListener("mouseup",b),document.addEventListener("touchmove",V,{passive:!1}),document.addEventListener("touchend",b)},x=(g,T)=>{if(g.stopPropagation(),e.locked||"touches"in g&&g.touches.length>1)return;const _="touches"in g?g.touches[0].clientX:g.clientX,w="touches"in g?g.touches[0].clientY:g.clientY,A=_,R=w,P=e.width,D=e.x,Y=e.y;let Q=!1;const Z=V=>{if("touches"in V&&V.touches.length>1)return;Q=!0;const b="touches"in V?V.touches[0].clientX:V.clientX,J="touches"in V?V.touches[0].clientY:V.clientY,k=b-A,H=J-R,{x:U,y:O}=h(k,H),K=-e.rotation*(Math.PI/180),ue=Math.cos(K),re=Math.sin(K),ce=U*ue-O*re;if(T==="right"){const B=Math.max(50,P+ce);i(e.id,{width:B})}else{const B=Math.max(50,P-ce),ee=ce*Math.cos(e.rotation*Math.PI/180),fe=ce*Math.sin(e.rotation*Math.PI/180);i(e.id,{width:B,x:D+ee,y:Y+fe})}},Se=()=>{Q&&l(),document.removeEventListener("mousemove",Z),document.removeEventListener("mouseup",Se),document.removeEventListener("touchmove",Z),document.removeEventListener("touchend",Se)};document.addEventListener("mousemove",Z),document.addEventListener("mouseup",Se),document.addEventListener("touchmove",Z,{passive:!1}),document.addEventListener("touchend",Se)},E=g=>{var D;if(g.stopPropagation(),e.locked||"touches"in g&&g.touches.length>1)return;const T=(D=f.current)==null?void 0:D.getBoundingClientRect();if(!T)return;const _=T.left+T.width/2,w=T.top+T.height/2;let A=!1;const R=Y=>{if("touches"in Y&&Y.touches.length>1){P();return}A=!0;const Q="touches"in Y?Y.touches[0].clientX:Y.clientX,Z="touches"in Y?Y.touches[0].clientY:Y.clientY,b=Math.atan2(Z-w,Q-_)*(180/Math.PI)-o;i(e.id,{rotation:b+90})},P=()=>{A&&l(),document.removeEventListener("mousemove",R),document.removeEventListener("mouseup",P),document.removeEventListener("touchmove",R),document.removeEventListener("touchend",P)};document.addEventListener("mousemove",R),document.addEventListener("mouseup",P),document.addEventListener("touchmove",R,{passive:!1}),document.addEventListener("touchend",P)},N={position:"absolute",left:e.x,top:e.y,width:e.width,height:e.type===q.TEXT?"auto":e.height,transform:`rotate(${e.rotation}deg)`,cursor:e.locked?"default":c?"grabbing":"grab",boxShadow:t&&!e.locked?"0 0 0 2px #ffffff, 0 0 0 4px #0ea5e9":"none",boxSizing:"border-box",display:e.visible===!1?"none":"block",...e.style,userSelect:"none",touchAction:"none",pointerEvents:e.locked?"none":"auto"},C=e.type===q.SHAPE_RECT||e.type===q.SHAPE_CIRCLE,v=(g,T,_="0 0 100 100")=>m.jsx("svg",{viewBox:_,preserveAspectRatio:"none",style:{width:"100%",height:"100%",overflow:"visible"},children:T?m.jsx("path",{d:T,fill:e.style.backgroundColor,stroke:e.style.borderColor,strokeWidth:e.style.borderWidth?e.style.borderWidth/2:0}):m.jsx("polygon",{points:g||"",fill:e.style.backgroundColor,stroke:e.style.borderColor,strokeWidth:e.style.borderWidth?e.style.borderWidth/2:0})});return m.jsxs("div",{ref:f,style:{...N,backgroundColor:C?e.style.backgroundColor:"transparent",borderStyle:C&&e.style.borderWidth?"solid":"none",borderWidth:C?e.style.borderWidth:0,borderColor:C?e.style.borderColor:"transparent",borderRadius:e.type===q.SHAPE_CIRCLE?"50%":e.style.borderRadius},onMouseDown:p,onTouchStart:p,className:`group transition-shadow ${e.locked?"":"hover:ring-1 hover:ring-blue-300"}`,children:[(()=>{switch(e.type){case q.TEXT:const g=e.style.textAlign||"center",T=g==="left"?"flex-start":g==="right"?"flex-end":"center";return m.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:T,textAlign:g,overflow:"visible",whiteSpace:"pre-wrap",wordBreak:"break-word",padding:"4px",color:e.style.color,fontSize:`${e.style.fontSize}px`,fontWeight:e.style.fontWeight,fontFamily:e.style.fontFamily,lineHeight:1.2,minHeight:"1em",WebkitTextStrokeWidth:`${e.style.textStrokeWidth||0}px`,WebkitTextStrokeColor:e.style.textStrokeColor||"transparent"},children:e.content});case q.IMAGE:const _=e.maskImage&&e.maskEnabled;return m.jsx("div",{style:{width:"100%",height:"100%",borderRadius:`${e.style.borderRadius}px`,border:`${e.style.borderWidth||0}px solid ${e.style.borderColor||"transparent"}`,overflow:"hidden",WebkitMaskImage:_?`url(${e.maskImage})`:"none",maskImage:_?`url(${e.maskImage})`:"none",WebkitMaskSize:"100% 100%",maskSize:"100% 100%",WebkitMaskRepeat:"no-repeat",maskRepeat:"no-repeat"},children:m.jsx("img",{src:e.content,alt:"",className:"w-full h-full pointer-events-none",style:{objectFit:e.style.objectFit||"cover"}})});case q.SHAPE_RECT:return null;case q.SHAPE_CIRCLE:return null;case q.SHAPE_TRIANGLE:return v("50,0 0,100 100,100",null);case q.SHAPE_DIAMOND:return v("50,0 100,50 50,100 0,50",null);case q.SHAPE_STAR:return v("50,0 61,35 98,35 68,57 79,91 50,70 21,91 32,57 2,35 39,35",null);case q.SHAPE_HEART:return v(null,"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z","0 0 24 24");default:return null}})(),t&&!e.locked&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"absolute -top-4 -left-4 w-8 h-8 bg-white border-2 border-brand-500 rounded-full cursor-nw-resize flex items-center justify-center shadow-md z-50 touch-none",onMouseDown:g=>y(g,"nw"),onTouchStart:g=>y(g,"nw")}),m.jsx("div",{className:"absolute -top-4 -right-4 w-8 h-8 bg-white border-2 border-brand-500 rounded-full cursor-ne-resize flex items-center justify-center shadow-md z-50 touch-none",onMouseDown:g=>y(g,"ne"),onTouchStart:g=>y(g,"ne")}),m.jsx("div",{className:"absolute -bottom-4 -left-4 w-8 h-8 bg-white border-2 border-brand-500 rounded-full cursor-sw-resize flex items-center justify-center shadow-md z-50 touch-none",onMouseDown:g=>y(g,"sw"),onTouchStart:g=>y(g,"sw")}),m.jsx("div",{className:"absolute -bottom-4 -right-4 w-8 h-8 bg-white border-2 border-brand-500 rounded-full cursor-se-resize flex items-center justify-center shadow-md z-50 touch-none",onMouseDown:g=>y(g,"se"),onTouchStart:g=>y(g,"se")}),e.type===q.TEXT&&m.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 -right-4 w-4 h-10 bg-white border-2 border-brand-500 rounded-lg cursor-ew-resize flex items-center justify-center shadow-md z-50 touch-none",onMouseDown:g=>x(g,"right"),onTouchStart:g=>x(g,"right"),children:m.jsx("div",{className:"w-0.5 h-4 bg-brand-300"})}),e.type===q.TEXT&&m.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 -left-4 w-4 h-10 bg-white border-2 border-brand-500 rounded-lg cursor-ew-resize flex items-center justify-center shadow-md z-50 touch-none",onMouseDown:g=>x(g,"left"),onTouchStart:g=>x(g,"left"),children:m.jsx("div",{className:"w-0.5 h-4 bg-brand-300"})}),m.jsx("div",{className:"absolute -top-12 left-1/2 -translate-x-1/2 w-10 h-10 bg-white border border-brand-500 rounded-full cursor-crosshair flex items-center justify-center shadow-sm z-50 hover:bg-brand-50 touch-none",onMouseDown:E,onTouchStart:E,children:m.jsx(Uy,{size:20,className:"text-brand-600"})})]})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let by,Jy;function $y(){return{geminiUrl:by,vertexUrl:Jy}}function Wy(e,t,n,o){var r,i;if(!(e!=null&&e.baseUrl)){const l=$y();return t?(r=l.vertexUrl)!==null&&r!==void 0?r:n:(i=l.geminiUrl)!==null&&i!==void 0?i:o}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Jt{}function F(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(o,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const i=t[r];return i!=null?String(i):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function a(e,t,n){for(let i=0;i<t.length-1;i++){const l=t[i];if(l.endsWith("[]")){const u=l.slice(0,-2);if(!(u in e))if(Array.isArray(n))e[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(e[u])){const c=e[u];if(Array.isArray(n))for(let d=0;d<c.length;d++){const f=c[d];a(f,t.slice(i+1),n[d])}else for(const d of c)a(d,t.slice(i+1),n)}return}else if(l.endsWith("[0]")){const u=l.slice(0,-3);u in e||(e[u]=[{}]);const c=e[u];a(c[0],t.slice(i+1),n);return}(!e[l]||typeof e[l]!="object")&&(e[l]={}),e=e[l]}const o=t[t.length-1],r=e[o];if(r!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===r)return;if(typeof r=="object"&&typeof n=="object"&&r!==null&&n!==null)Object.assign(r,n);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[o]=n}function s(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let o=0;o<t.length;o++){if(typeof e!="object"||e===null)return n;const r=t[o];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in e){const l=e[i];return Array.isArray(l)?l.map(u=>s(u,t.slice(o+1),n)):n}else return n}else e=e[r]}return e}catch(o){if(o instanceof TypeError)return n;throw o}}function Yy(e,t){for(const[n,o]of Object.entries(t)){const r=n.split("."),i=o.split("."),l=new Set;let u=-1;for(let c=0;c<r.length;c++)if(r[c]==="*"){u=c;break}if(u!==-1&&i.length>u)for(let c=u;c<i.length;c++){const d=i[c];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&l.add(d)}gl(e,r,i,0,l)}}function gl(e,t,n,o,r){if(o>=t.length||typeof e!="object"||e===null)return;const i=t[o];if(i.endsWith("[]")){const l=i.slice(0,-2),u=e;if(l in u&&Array.isArray(u[l]))for(const c of u[l])gl(c,t,n,o+1,r)}else if(i==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const l=e,u=Object.keys(l).filter(d=>!d.startsWith("_")&&!r.has(d)),c={};for(const d of u)c[d]=l[d];for(const[d,f]of Object.entries(c)){const h=[];for(const p of n.slice(o))p==="*"?h.push(d):h.push(p);a(l,h,f)}for(const d of u)delete l[d]}}else{const l=e;i in l&&gl(l[i],t,n,o+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ea(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Oy(e){const t={},n=s(e,["operationName"]);n!=null&&a(t,["operationName"],n);const o=s(e,["resourceName"]);return o!=null&&a(t,["_url","resourceName"],o),t}function Ky(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const o=s(e,["metadata"]);o!=null&&a(t,["metadata"],o);const r=s(e,["done"]);r!=null&&a(t,["done"],r);const i=s(e,["error"]);i!=null&&a(t,["error"],i);const l=s(e,["response","generateVideoResponse"]);return l!=null&&a(t,["response"],Qy(l)),t}function Xy(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const o=s(e,["metadata"]);o!=null&&a(t,["metadata"],o);const r=s(e,["done"]);r!=null&&a(t,["done"],r);const i=s(e,["error"]);i!=null&&a(t,["error"],i);const l=s(e,["response"]);return l!=null&&a(t,["response"],Zy(l)),t}function Qy(e){const t={},n=s(e,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>jy(l))),a(t,["generatedVideos"],i)}const o=s(e,["raiMediaFilteredCount"]);o!=null&&a(t,["raiMediaFilteredCount"],o);const r=s(e,["raiMediaFilteredReasons"]);return r!=null&&a(t,["raiMediaFilteredReasons"],r),t}function Zy(e){const t={},n=s(e,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>e0(l))),a(t,["generatedVideos"],i)}const o=s(e,["raiMediaFilteredCount"]);o!=null&&a(t,["raiMediaFilteredCount"],o);const r=s(e,["raiMediaFilteredReasons"]);return r!=null&&a(t,["raiMediaFilteredReasons"],r),t}function jy(e){const t={},n=s(e,["video"]);return n!=null&&a(t,["video"],s0(n)),t}function e0(e){const t={},n=s(e,["_self"]);return n!=null&&a(t,["video"],l0(n)),t}function t0(e){const t={},n=s(e,["operationName"]);return n!=null&&a(t,["_url","operationName"],n),t}function n0(e){const t={},n=s(e,["operationName"]);return n!=null&&a(t,["_url","operationName"],n),t}function o0(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const o=s(e,["metadata"]);o!=null&&a(t,["metadata"],o);const r=s(e,["done"]);r!=null&&a(t,["done"],r);const i=s(e,["error"]);i!=null&&a(t,["error"],i);const l=s(e,["response"]);return l!=null&&a(t,["response"],r0(l)),t}function r0(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["parent"]);o!=null&&a(t,["parent"],o);const r=s(e,["documentName"]);return r!=null&&a(t,["documentName"],r),t}function eh(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const o=s(e,["metadata"]);o!=null&&a(t,["metadata"],o);const r=s(e,["done"]);r!=null&&a(t,["done"],r);const i=s(e,["error"]);i!=null&&a(t,["error"],i);const l=s(e,["response"]);return l!=null&&a(t,["response"],i0(l)),t}function i0(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["parent"]);o!=null&&a(t,["parent"],o);const r=s(e,["documentName"]);return r!=null&&a(t,["documentName"],r),t}function s0(e){const t={},n=s(e,["uri"]);n!=null&&a(t,["uri"],n);const o=s(e,["encodedVideo"]);o!=null&&a(t,["videoBytes"],Ea(o));const r=s(e,["encoding"]);return r!=null&&a(t,["mimeType"],r),t}function l0(e){const t={},n=s(e,["gcsUri"]);n!=null&&a(t,["uri"],n);const o=s(e,["bytesBase64Encoded"]);o!=null&&a(t,["videoBytes"],Ea(o));const r=s(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ic;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(ic||(ic={}));var sc;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(sc||(sc={}));var lc;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(lc||(lc={}));var jt;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(jt||(jt={}));var ac;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(ac||(ac={}));var uc;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(uc||(uc={}));var cc;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(cc||(cc={}));var dc;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(dc||(dc={}));var fc;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(fc||(fc={}));var pc;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.HIGH="HIGH"})(pc||(pc={}));var hc;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(hc||(hc={}));var mc;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(mc||(mc={}));var gc;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(gc||(gc={}));var yc;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE"})(yc||(yc={}));var vc;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(vc||(vc={}));var Cc;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Cc||(Cc={}));var Ec;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Ec||(Ec={}));var xc;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(xc||(xc={}));var Tc;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Tc||(Tc={}));var mi;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(mi||(mi={}));var Sc;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Sc||(Sc={}));var _c;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(_c||(_c={}));var wc;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(wc||(wc={}));var yl;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(yl||(yl={}));var Ic;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Ic||(Ic={}));var Ac;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Ac||(Ac={}));var kc;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(kc||(kc={}));var Nc;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(Nc||(Nc={}));var Pc;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Pc||(Pc={}));var Rc;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Rc||(Rc={}));var Mc;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(Mc||(Mc={}));var Dc;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(Dc||(Dc={}));var Lc;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(Lc||(Lc={}));var Uc;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(Uc||(Uc={}));var Fc;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Fc||(Fc={}));var Vc;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Vc||(Vc={}));var Hc;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Hc||(Hc={}));var Gc;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Gc||(Gc={}));var zc;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(zc||(zc={}));var qc;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(qc||(qc={}));var Bc;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(Bc||(Bc={}));var bc;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(bc||(bc={}));var Jc;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Jc||(Jc={}));var $c;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})($c||($c={}));var Wc;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(Wc||(Wc={}));var Yc;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(Yc||(Yc={}));var Oc;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Oc||(Oc={}));var Kc;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(Kc||(Kc={}));var Xc;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Xc||(Xc={}));var Qc;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Qc||(Qc={}));var Zc;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(Zc||(Zc={}));var jc;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(jc||(jc={}));var ed;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(ed||(ed={}));var td;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(td||(td={}));var $n;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})($n||($n={}));class vl{constructor(t){const n={};for(const o of t.headers.entries())n[o[0]]=o[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class Io{get text(){var t,n,o,r,i,l,u,c;if(((r=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",f=!1;const h=[];for(const p of(c=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[y,x]of Object.entries(p))y!=="text"&&y!=="thought"&&y!=="thoughtSignature"&&(x!==null||x!==void 0)&&h.push(y);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;f=!0,d+=p.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?d:void 0}get data(){var t,n,o,r,i,l,u,c;if(((r=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const f=[];for(const h of(c=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[p,y]of Object.entries(h))p!=="inlineData"&&(y!==null||y!==void 0)&&f.push(p);h.inlineData&&typeof h.inlineData.data=="string"&&(d+=atob(h.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var t,n,o,r,i,l,u,c;if(((r=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(c=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var t,n,o,r,i,l,u,c,d;if(((r=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const f=(c=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(h=>h.executableCode).map(h=>h.executableCode).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return(d=f==null?void 0:f[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var t,n,o,r,i,l,u,c,d;if(((r=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const f=(c=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(h=>h.codeExecutionResult).map(h=>h.codeExecutionResult).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return(d=f==null?void 0:f[0])===null||d===void 0?void 0:d.output}}class nd{}class od{}class a0{}class u0{}class c0{}class d0{}class rd{}class id{}class sd{}class f0{}class gi{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const o=new gi;let r;const i=t;return n?r=Xy(i):r=Ky(i),Object.assign(o,r),o}}class ld{}class ad{}class ud{}class cd{}class p0{}class h0{}class m0{}class xa{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const o=new xa,i=o0(t);return Object.assign(o,i),o}}class g0{}class y0{}class v0{}class dd{}class C0{get text(){var t,n,o;let r="",i=!1;const l=[];for(const u of(o=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[c,d]of Object.entries(u))c!=="text"&&c!=="thought"&&d!==null&&l.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;i=!0,r+=u.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?r:void 0}get data(){var t,n,o;let r="";const i=[];for(const l of(o=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[u,c]of Object.entries(l))u!=="inlineData"&&c!==null&&i.push(u);l.inlineData&&typeof l.inlineData.data=="string"&&(r+=atob(l.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class E0{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Ta{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const o=new Ta,i=eh(t);return Object.assign(o,i),o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oe(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function th(e,t){const n=oe(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function nh(e){return Array.isArray(e)?e.map(t=>yi(t)):[yi(e)]}function yi(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function oh(e){const t=yi(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function rh(e){const t=yi(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function fd(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function ih(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>fd(t)):[fd(e)]}function Cl(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function pd(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function hd(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function Be(e){if(e==null)throw new Error("ContentUnion is required");return Cl(e)?e:{role:"user",parts:ih(e)}}function Sa(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const o=Be(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(e.isVertexAI()){const n=Be(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>Be(n)):[Be(t)]}function pt(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(pd(e)||hd(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Be(e)]}const t=[],n=[],o=Cl(e[0]);for(const r of e){const i=Cl(r);if(i!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(i)t.push(r);else{if(pd(r)||hd(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(r)}}return o||t.push({role:"user",parts:ih(n)}),t}function x0(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(o=>o!=="null");if(n.length===1)t.type=Object.values(jt).includes(n[0].toUpperCase())?n[0].toUpperCase():jt.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const o of n)t.anyOf.push({type:Object.values(jt).includes(o.toUpperCase())?o.toUpperCase():jt.TYPE_UNSPECIFIED})}}function Zn(e){const t={},n=["items"],o=["anyOf"],r=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=e.anyOf;i!=null&&i.length==2&&(i[0].type==="null"?(t.nullable=!0,e=i[1]):i[1].type==="null"&&(t.nullable=!0,e=i[0])),e.type instanceof Array&&x0(e.type,t);for(const[l,u]of Object.entries(e))if(u!=null)if(l=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;t.type=Object.values(jt).includes(u.toUpperCase())?u.toUpperCase():jt.TYPE_UNSPECIFIED}else if(n.includes(l))t[l]=Zn(u);else if(o.includes(l)){const c=[];for(const d of u){if(d.type=="null"){t.nullable=!0;continue}c.push(Zn(d))}t[l]=c}else if(r.includes(l)){const c={};for(const[d,f]of Object.entries(u))c[d]=Zn(f);t[l]=c}else{if(l==="additionalProperties")continue;t[l]=u}return t}function _a(e){return Zn(e)}function wa(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function Ia(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function fo(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Zn(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Zn(t.response));return e}function po(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function T0(e,t,n,o=1){const r=!t.startsWith(`${n}/`)&&t.split("/").length===o;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:r?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:r?`${n}/${t}`:t}function $t(e,t){if(typeof t!="string")throw new Error("name must be a string");return T0(e,t,"cachedContents")}function sh(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function hn(e){return Ea(e)}function S0(e){return e!=null&&typeof e=="object"&&"name"in e}function _0(e){return e!=null&&typeof e=="object"&&"video"in e}function w0(e){return e!=null&&typeof e=="object"&&"uri"in e}function lh(e){var t;let n;if(S0(e)&&(n=e.name),!(w0(e)&&(n=e.uri,n===void 0))&&!(_0(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const r=n.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${n}`);n=r[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function ah(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function uh(e){for(const t of["models","tunedModels","publisherModels"])if(I0(e,t))return e[t];return[]}function I0(e,t){return e!==null&&typeof e=="object"&&t in e}function A0(e,t={}){const n=e,o={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(o.responseJsonSchema=n.outputSchema),t.behavior&&(o.behavior=t.behavior),{functionDeclarations:[o]}}function k0(e,t={}){const n=[],o=new Set;for(const r of e){const i=r.name;if(o.has(i))throw new Error(`Duplicate function name ${i} found in MCP tools. Please ensure function names are unique.`);o.add(i);const l=A0(r,t);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function ch(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const o=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,r=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(r>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function N0(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function dh(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const r=n.inlinedResponses;if(!Array.isArray(r)||r.length===0)return e;let i=!1;for(const l of r){if(typeof l!="object"||l===null)continue;const c=l.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){i=!0;break}}return i&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function ho(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function fh(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function P0(e){const t={},n=s(e,["responsesFile"]);n!=null&&a(t,["fileName"],n);const o=s(e,["inlinedResponses","inlinedResponses"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>cv(l))),a(t,["inlinedResponses"],i)}const r=s(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(t,["inlinedEmbedContentResponses"],i)}return t}function R0(e){const t={},n=s(e,["predictionsFormat"]);n!=null&&a(t,["format"],n);const o=s(e,["gcsDestination","outputUriPrefix"]);o!=null&&a(t,["gcsUri"],o);const r=s(e,["bigqueryDestination","outputUri"]);return r!=null&&a(t,["bigqueryUri"],r),t}function M0(e){const t={},n=s(e,["format"]);n!=null&&a(t,["predictionsFormat"],n);const o=s(e,["gcsUri"]);o!=null&&a(t,["gcsDestination","outputUriPrefix"],o);const r=s(e,["bigqueryUri"]);if(r!=null&&a(t,["bigqueryDestination","outputUri"],r),s(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(s(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function br(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const o=s(e,["metadata","displayName"]);o!=null&&a(t,["displayName"],o);const r=s(e,["metadata","state"]);r!=null&&a(t,["state"],fh(r));const i=s(e,["metadata","createTime"]);i!=null&&a(t,["createTime"],i);const l=s(e,["metadata","endTime"]);l!=null&&a(t,["endTime"],l);const u=s(e,["metadata","updateTime"]);u!=null&&a(t,["updateTime"],u);const c=s(e,["metadata","model"]);c!=null&&a(t,["model"],c);const d=s(e,["metadata","output"]);return d!=null&&a(t,["dest"],P0(dh(d))),t}function El(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const o=s(e,["displayName"]);o!=null&&a(t,["displayName"],o);const r=s(e,["state"]);r!=null&&a(t,["state"],fh(r));const i=s(e,["error"]);i!=null&&a(t,["error"],i);const l=s(e,["createTime"]);l!=null&&a(t,["createTime"],l);const u=s(e,["startTime"]);u!=null&&a(t,["startTime"],u);const c=s(e,["endTime"]);c!=null&&a(t,["endTime"],c);const d=s(e,["updateTime"]);d!=null&&a(t,["updateTime"],d);const f=s(e,["model"]);f!=null&&a(t,["model"],f);const h=s(e,["inputConfig"]);h!=null&&a(t,["src"],D0(h));const p=s(e,["outputConfig"]);p!=null&&a(t,["dest"],R0(dh(p)));const y=s(e,["completionStats"]);return y!=null&&a(t,["completionStats"],y),t}function D0(e){const t={},n=s(e,["instancesFormat"]);n!=null&&a(t,["format"],n);const o=s(e,["gcsSource","uris"]);o!=null&&a(t,["gcsUri"],o);const r=s(e,["bigquerySource","inputUri"]);return r!=null&&a(t,["bigqueryUri"],r),t}function L0(e,t){const n={};if(s(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(s(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=s(t,["fileName"]);o!=null&&a(n,["fileName"],o);const r=s(t,["inlinedRequests"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>uv(e,l))),a(n,["requests","requests"],i)}return n}function U0(e){const t={},n=s(e,["format"]);n!=null&&a(t,["instancesFormat"],n);const o=s(e,["gcsUri"]);o!=null&&a(t,["gcsSource","uris"],o);const r=s(e,["bigqueryUri"]);if(r!=null&&a(t,["bigquerySource","inputUri"],r),s(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function F0(e){const t={},n=s(e,["data"]);if(n!=null&&a(t,["data"],n),s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function V0(e,t){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],ho(e,o)),n}function H0(e,t){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],ho(e,o)),n}function G0(e){const t={},n=s(e,["content"]);n!=null&&a(t,["content"],n);const o=s(e,["citationMetadata"]);o!=null&&a(t,["citationMetadata"],z0(o));const r=s(e,["tokenCount"]);r!=null&&a(t,["tokenCount"],r);const i=s(e,["finishReason"]);i!=null&&a(t,["finishReason"],i);const l=s(e,["avgLogprobs"]);l!=null&&a(t,["avgLogprobs"],l);const u=s(e,["groundingMetadata"]);u!=null&&a(t,["groundingMetadata"],u);const c=s(e,["index"]);c!=null&&a(t,["index"],c);const d=s(e,["logprobsResult"]);d!=null&&a(t,["logprobsResult"],d);const f=s(e,["safetyRatings"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(y=>y)),a(t,["safetyRatings"],p)}const h=s(e,["urlContextMetadata"]);return h!=null&&a(t,["urlContextMetadata"],h),t}function z0(e){const t={},n=s(e,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),a(t,["citations"],o)}return t}function ph(e){const t={},n=s(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>yv(i))),a(t,["parts"],r)}const o=s(e,["role"]);return o!=null&&a(t,["role"],o),t}function q0(e,t){const n={},o=s(e,["displayName"]);if(t!==void 0&&o!=null&&a(t,["batch","displayName"],o),s(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function B0(e,t){const n={},o=s(e,["displayName"]);t!==void 0&&o!=null&&a(t,["displayName"],o);const r=s(e,["dest"]);return t!==void 0&&r!=null&&a(t,["outputConfig"],M0(N0(r))),n}function md(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],oe(e,o));const r=s(t,["src"]);r!=null&&a(n,["batch","inputConfig"],L0(e,ch(e,r)));const i=s(t,["config"]);return i!=null&&q0(i,n),n}function b0(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["model"],oe(e,o));const r=s(t,["src"]);r!=null&&a(n,["inputConfig"],U0(ch(e,r)));const i=s(t,["config"]);return i!=null&&B0(i,n),n}function J0(e,t){const n={},o=s(e,["displayName"]);return t!==void 0&&o!=null&&a(t,["batch","displayName"],o),n}function $0(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],oe(e,o));const r=s(t,["src"]);r!=null&&a(n,["batch","inputConfig"],Z0(e,r));const i=s(t,["config"]);return i!=null&&J0(i,n),n}function W0(e,t){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],ho(e,o)),n}function Y0(e,t){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],ho(e,o)),n}function O0(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["name"]);o!=null&&a(t,["name"],o);const r=s(e,["done"]);r!=null&&a(t,["done"],r);const i=s(e,["error"]);return i!=null&&a(t,["error"],i),t}function K0(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["name"]);o!=null&&a(t,["name"],o);const r=s(e,["done"]);r!=null&&a(t,["done"],r);const i=s(e,["error"]);return i!=null&&a(t,["error"],i),t}function X0(e,t){const n={},o=s(t,["contents"]);if(o!=null){let i=Sa(e,o);Array.isArray(i)&&(i=i.map(l=>l)),a(n,["requests[]","request","content"],i)}const r=s(t,["config"]);return r!=null&&(a(n,["_self"],Q0(r,n)),Yy(n,{"requests[].*":"requests[].request.*"})),n}function Q0(e,t){const n={},o=s(e,["taskType"]);t!==void 0&&o!=null&&a(t,["requests[]","taskType"],o);const r=s(e,["title"]);t!==void 0&&r!=null&&a(t,["requests[]","title"],r);const i=s(e,["outputDimensionality"]);if(t!==void 0&&i!=null&&a(t,["requests[]","outputDimensionality"],i),s(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Z0(e,t){const n={},o=s(t,["fileName"]);o!=null&&a(n,["file_name"],o);const r=s(t,["inlinedRequests"]);return r!=null&&a(n,["requests"],X0(e,r)),n}function j0(e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function ev(e){const t={},n=s(e,["id"]);n!=null&&a(t,["id"],n);const o=s(e,["args"]);o!=null&&a(t,["args"],o);const r=s(e,["name"]);if(r!=null&&a(t,["name"],r),s(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function tv(e){const t={},n=s(e,["mode"]);n!=null&&a(t,["mode"],n);const o=s(e,["allowedFunctionNames"]);if(o!=null&&a(t,["allowedFunctionNames"],o),s(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function nv(e,t,n){const o={},r=s(t,["systemInstruction"]);n!==void 0&&r!=null&&a(n,["systemInstruction"],ph(Be(r)));const i=s(t,["temperature"]);i!=null&&a(o,["temperature"],i);const l=s(t,["topP"]);l!=null&&a(o,["topP"],l);const u=s(t,["topK"]);u!=null&&a(o,["topK"],u);const c=s(t,["candidateCount"]);c!=null&&a(o,["candidateCount"],c);const d=s(t,["maxOutputTokens"]);d!=null&&a(o,["maxOutputTokens"],d);const f=s(t,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);const h=s(t,["responseLogprobs"]);h!=null&&a(o,["responseLogprobs"],h);const p=s(t,["logprobs"]);p!=null&&a(o,["logprobs"],p);const y=s(t,["presencePenalty"]);y!=null&&a(o,["presencePenalty"],y);const x=s(t,["frequencyPenalty"]);x!=null&&a(o,["frequencyPenalty"],x);const E=s(t,["seed"]);E!=null&&a(o,["seed"],E);const N=s(t,["responseMimeType"]);N!=null&&a(o,["responseMimeType"],N);const C=s(t,["responseSchema"]);C!=null&&a(o,["responseSchema"],_a(C));const v=s(t,["responseJsonSchema"]);if(v!=null&&a(o,["responseJsonSchema"],v),s(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const g=s(t,["safetySettings"]);if(n!==void 0&&g!=null){let Q=g;Array.isArray(Q)&&(Q=Q.map(Z=>vv(Z))),a(n,["safetySettings"],Q)}const T=s(t,["tools"]);if(n!==void 0&&T!=null){let Q=po(T);Array.isArray(Q)&&(Q=Q.map(Z=>Ev(fo(Z)))),a(n,["tools"],Q)}const _=s(t,["toolConfig"]);if(n!==void 0&&_!=null&&a(n,["toolConfig"],Cv(_)),s(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const w=s(t,["cachedContent"]);n!==void 0&&w!=null&&a(n,["cachedContent"],$t(e,w));const A=s(t,["responseModalities"]);A!=null&&a(o,["responseModalities"],A);const R=s(t,["mediaResolution"]);R!=null&&a(o,["mediaResolution"],R);const P=s(t,["speechConfig"]);if(P!=null&&a(o,["speechConfig"],wa(P)),s(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const D=s(t,["thinkingConfig"]);D!=null&&a(o,["thinkingConfig"],D);const Y=s(t,["imageConfig"]);return Y!=null&&a(o,["imageConfig"],av(Y)),o}function ov(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["candidates"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>G0(d))),a(t,["candidates"],c)}const r=s(e,["modelVersion"]);r!=null&&a(t,["modelVersion"],r);const i=s(e,["promptFeedback"]);i!=null&&a(t,["promptFeedback"],i);const l=s(e,["responseId"]);l!=null&&a(t,["responseId"],l);const u=s(e,["usageMetadata"]);return u!=null&&a(t,["usageMetadata"],u),t}function rv(e,t){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],ho(e,o)),n}function iv(e,t){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],ho(e,o)),n}function sv(e){const t={};if(s(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(e,["enableWidget"]);return n!=null&&a(t,["enableWidget"],n),t}function lv(e){const t={};if(s(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(e,["timeRangeFilter"]);return n!=null&&a(t,["timeRangeFilter"],n),t}function av(e){const t={},n=s(e,["aspectRatio"]);n!=null&&a(t,["aspectRatio"],n);const o=s(e,["imageSize"]);if(o!=null&&a(t,["imageSize"],o),s(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(s(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function uv(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["request","model"],oe(e,o));const r=s(t,["contents"]);if(r!=null){let u=pt(r);Array.isArray(u)&&(u=u.map(c=>ph(c))),a(n,["request","contents"],u)}const i=s(t,["metadata"]);i!=null&&a(n,["metadata"],i);const l=s(t,["config"]);return l!=null&&a(n,["request","generationConfig"],nv(e,l,s(n,["request"],{}))),n}function cv(e){const t={},n=s(e,["response"]);n!=null&&a(t,["response"],ov(n));const o=s(e,["error"]);return o!=null&&a(t,["error"],o),t}function dv(e,t){const n={},o=s(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const r=s(e,["pageToken"]);if(t!==void 0&&r!=null&&a(t,["_query","pageToken"],r),s(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function fv(e,t){const n={},o=s(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const r=s(e,["pageToken"]);t!==void 0&&r!=null&&a(t,["_query","pageToken"],r);const i=s(e,["filter"]);return t!==void 0&&i!=null&&a(t,["_query","filter"],i),n}function pv(e){const t={},n=s(e,["config"]);return n!=null&&dv(n,t),t}function hv(e){const t={},n=s(e,["config"]);return n!=null&&fv(n,t),t}function mv(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=s(e,["operations"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>br(l))),a(t,["batchJobs"],i)}return t}function gv(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=s(e,["batchPredictionJobs"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>El(l))),a(t,["batchJobs"],i)}return t}function yv(e){const t={},n=s(e,["mediaResolution"]);n!=null&&a(t,["mediaResolution"],n);const o=s(e,["codeExecutionResult"]);o!=null&&a(t,["codeExecutionResult"],o);const r=s(e,["executableCode"]);r!=null&&a(t,["executableCode"],r);const i=s(e,["fileData"]);i!=null&&a(t,["fileData"],j0(i));const l=s(e,["functionCall"]);l!=null&&a(t,["functionCall"],ev(l));const u=s(e,["functionResponse"]);u!=null&&a(t,["functionResponse"],u);const c=s(e,["inlineData"]);c!=null&&a(t,["inlineData"],F0(c));const d=s(e,["text"]);d!=null&&a(t,["text"],d);const f=s(e,["thought"]);f!=null&&a(t,["thought"],f);const h=s(e,["thoughtSignature"]);h!=null&&a(t,["thoughtSignature"],h);const p=s(e,["videoMetadata"]);return p!=null&&a(t,["videoMetadata"],p),t}function vv(e){const t={},n=s(e,["category"]);if(n!=null&&a(t,["category"],n),s(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=s(e,["threshold"]);return o!=null&&a(t,["threshold"],o),t}function Cv(e){const t={},n=s(e,["functionCallingConfig"]);n!=null&&a(t,["functionCallingConfig"],tv(n));const o=s(e,["retrievalConfig"]);return o!=null&&a(t,["retrievalConfig"],o),t}function Ev(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>h)),a(t,["functionDeclarations"],f)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(e,["googleSearchRetrieval"]);o!=null&&a(t,["googleSearchRetrieval"],o);const r=s(e,["computerUse"]);r!=null&&a(t,["computerUse"],r);const i=s(e,["fileSearch"]);i!=null&&a(t,["fileSearch"],i);const l=s(e,["codeExecution"]);if(l!=null&&a(t,["codeExecution"],l),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(e,["googleMaps"]);u!=null&&a(t,["googleMaps"],sv(u));const c=s(e,["googleSearch"]);c!=null&&a(t,["googleSearch"],lv(c));const d=s(e,["urlContext"]);return d!=null&&a(t,["urlContext"],d),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Bt;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(Bt||(Bt={}));class Nn{constructor(t,n,o,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,o,r)}init(t,n,o){var r,i;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!o||Object.keys(o).length===0?l={config:{}}:typeof o=="object"?l=Object.assign({},o):l=o,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(i=(r=l.config)===null||r===void 0?void 0:r.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xv extends Jt{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Nn(Bt.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(t){const n=md(this.apiClient,t),o=n._url,r=F("{model}:batchGenerateContent",o),u=n.batch.inputConfig.requests,c=u.requests,d=[];for(const f of c){const h=Object.assign({},f);if(h.systemInstruction){const p=h.systemInstruction;delete h.systemInstruction;const y=h.request;y.systemInstruction=p,h.request=y}d.push(h)}return u.requests=d,delete n.config,delete n._url,delete n._query,{path:r,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const o=n?Object.assign({},n):{},r=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${r}`),o.dest===void 0){const i=this.getGcsUri(t),l=this.getBigqueryUri(t);if(i)i.endsWith(".jsonl")?o.dest=`${i.slice(0,-6)}/dest`:o.dest=`${i}_dest_${r}`;else if(l)o.dest=`${l}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=b0(this.apiClient,t);return u=F("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>El(f))}else{const d=md(this.apiClient,t);return u=F("{model}:batchGenerateContent",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>br(f))}}async createEmbeddingsInternal(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=$0(this.apiClient,t);return i=F("{model}:asyncBatchEmbedContent",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>br(c))}}async get(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=iv(this.apiClient,t);return u=F("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>El(f))}else{const d=rv(this.apiClient,t);return u=F("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>br(f))}}async cancel(t){var n,o,r,i;let l="",u={};if(this.apiClient.isVertexAI()){const c=H0(this.apiClient,t);l=F("batchPredictionJobs/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}else{const c=V0(this.apiClient,t);l=F("batches/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=hv(t);return u=F("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=gv(f),p=new dd;return Object.assign(p,h),p})}else{const d=pv(t);return u=F("batches",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=mv(f),p=new dd;return Object.assign(p,h),p})}}async delete(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Y0(this.apiClient,t);return u=F("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>K0(f))}else{const d=W0(this.apiClient,t);return u=F("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>O0(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tv(e){const t={},n=s(e,["data"]);if(n!=null&&a(t,["data"],n),s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function gd(e){const t={},n=s(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>$v(i))),a(t,["parts"],r)}const o=s(e,["role"]);return o!=null&&a(t,["role"],o),t}function Sv(e,t){const n={},o=s(e,["ttl"]);t!==void 0&&o!=null&&a(t,["ttl"],o);const r=s(e,["expireTime"]);t!==void 0&&r!=null&&a(t,["expireTime"],r);const i=s(e,["displayName"]);t!==void 0&&i!=null&&a(t,["displayName"],i);const l=s(e,["contents"]);if(t!==void 0&&l!=null){let f=pt(l);Array.isArray(f)&&(f=f.map(h=>gd(h))),a(t,["contents"],f)}const u=s(e,["systemInstruction"]);t!==void 0&&u!=null&&a(t,["systemInstruction"],gd(Be(u)));const c=s(e,["tools"]);if(t!==void 0&&c!=null){let f=c;Array.isArray(f)&&(f=f.map(h=>Yv(h))),a(t,["tools"],f)}const d=s(e,["toolConfig"]);if(t!==void 0&&d!=null&&a(t,["toolConfig"],Wv(d)),s(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function _v(e,t){const n={},o=s(e,["ttl"]);t!==void 0&&o!=null&&a(t,["ttl"],o);const r=s(e,["expireTime"]);t!==void 0&&r!=null&&a(t,["expireTime"],r);const i=s(e,["displayName"]);t!==void 0&&i!=null&&a(t,["displayName"],i);const l=s(e,["contents"]);if(t!==void 0&&l!=null){let h=pt(l);Array.isArray(h)&&(h=h.map(p=>p)),a(t,["contents"],h)}const u=s(e,["systemInstruction"]);t!==void 0&&u!=null&&a(t,["systemInstruction"],Be(u));const c=s(e,["tools"]);if(t!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>Ov(p))),a(t,["tools"],h)}const d=s(e,["toolConfig"]);t!==void 0&&d!=null&&a(t,["toolConfig"],d);const f=s(e,["kmsKeyName"]);return t!==void 0&&f!=null&&a(t,["encryption_spec","kmsKeyName"],f),n}function wv(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["model"],th(e,o));const r=s(t,["config"]);return r!=null&&Sv(r,n),n}function Iv(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["model"],th(e,o));const r=s(t,["config"]);return r!=null&&_v(r,n),n}function Av(e,t){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],$t(e,o)),n}function kv(e,t){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],$t(e,o)),n}function Nv(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function Pv(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function Rv(e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function Mv(e){const t={},n=s(e,["id"]);n!=null&&a(t,["id"],n);const o=s(e,["args"]);o!=null&&a(t,["args"],o);const r=s(e,["name"]);if(r!=null&&a(t,["name"],r),s(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Dv(e){const t={},n=s(e,["mode"]);n!=null&&a(t,["mode"],n);const o=s(e,["allowedFunctionNames"]);if(o!=null&&a(t,["allowedFunctionNames"],o),s(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function Lv(e){const t={};if(s(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=s(e,["description"]);n!=null&&a(t,["description"],n);const o=s(e,["name"]);o!=null&&a(t,["name"],o);const r=s(e,["parameters"]);r!=null&&a(t,["parameters"],r);const i=s(e,["parametersJsonSchema"]);i!=null&&a(t,["parametersJsonSchema"],i);const l=s(e,["response"]);l!=null&&a(t,["response"],l);const u=s(e,["responseJsonSchema"]);return u!=null&&a(t,["responseJsonSchema"],u),t}function Uv(e,t){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],$t(e,o)),n}function Fv(e,t){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],$t(e,o)),n}function Vv(e){const t={};if(s(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(e,["enableWidget"]);return n!=null&&a(t,["enableWidget"],n),t}function Hv(e){const t={};if(s(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(e,["timeRangeFilter"]);return n!=null&&a(t,["timeRangeFilter"],n),t}function Gv(e,t){const n={},o=s(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const r=s(e,["pageToken"]);return t!==void 0&&r!=null&&a(t,["_query","pageToken"],r),n}function zv(e,t){const n={},o=s(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const r=s(e,["pageToken"]);return t!==void 0&&r!=null&&a(t,["_query","pageToken"],r),n}function qv(e){const t={},n=s(e,["config"]);return n!=null&&Gv(n,t),t}function Bv(e){const t={},n=s(e,["config"]);return n!=null&&zv(n,t),t}function bv(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=s(e,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(t,["cachedContents"],i)}return t}function Jv(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=s(e,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(t,["cachedContents"],i)}return t}function $v(e){const t={},n=s(e,["mediaResolution"]);n!=null&&a(t,["mediaResolution"],n);const o=s(e,["codeExecutionResult"]);o!=null&&a(t,["codeExecutionResult"],o);const r=s(e,["executableCode"]);r!=null&&a(t,["executableCode"],r);const i=s(e,["fileData"]);i!=null&&a(t,["fileData"],Rv(i));const l=s(e,["functionCall"]);l!=null&&a(t,["functionCall"],Mv(l));const u=s(e,["functionResponse"]);u!=null&&a(t,["functionResponse"],u);const c=s(e,["inlineData"]);c!=null&&a(t,["inlineData"],Tv(c));const d=s(e,["text"]);d!=null&&a(t,["text"],d);const f=s(e,["thought"]);f!=null&&a(t,["thought"],f);const h=s(e,["thoughtSignature"]);h!=null&&a(t,["thoughtSignature"],h);const p=s(e,["videoMetadata"]);return p!=null&&a(t,["videoMetadata"],p),t}function Wv(e){const t={},n=s(e,["functionCallingConfig"]);n!=null&&a(t,["functionCallingConfig"],Dv(n));const o=s(e,["retrievalConfig"]);return o!=null&&a(t,["retrievalConfig"],o),t}function Yv(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>h)),a(t,["functionDeclarations"],f)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(e,["googleSearchRetrieval"]);o!=null&&a(t,["googleSearchRetrieval"],o);const r=s(e,["computerUse"]);r!=null&&a(t,["computerUse"],r);const i=s(e,["fileSearch"]);i!=null&&a(t,["fileSearch"],i);const l=s(e,["codeExecution"]);if(l!=null&&a(t,["codeExecution"],l),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(e,["googleMaps"]);u!=null&&a(t,["googleMaps"],Vv(u));const c=s(e,["googleSearch"]);c!=null&&a(t,["googleSearch"],Hv(c));const d=s(e,["urlContext"]);return d!=null&&a(t,["urlContext"],d),t}function Ov(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>Lv(p))),a(t,["functionDeclarations"],h)}const o=s(e,["retrieval"]);o!=null&&a(t,["retrieval"],o);const r=s(e,["googleSearchRetrieval"]);r!=null&&a(t,["googleSearchRetrieval"],r);const i=s(e,["computerUse"]);if(i!=null&&a(t,["computerUse"],i),s(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=s(e,["codeExecution"]);l!=null&&a(t,["codeExecution"],l);const u=s(e,["enterpriseWebSearch"]);u!=null&&a(t,["enterpriseWebSearch"],u);const c=s(e,["googleMaps"]);c!=null&&a(t,["googleMaps"],c);const d=s(e,["googleSearch"]);d!=null&&a(t,["googleSearch"],d);const f=s(e,["urlContext"]);return f!=null&&a(t,["urlContext"],f),t}function Kv(e,t){const n={},o=s(e,["ttl"]);t!==void 0&&o!=null&&a(t,["ttl"],o);const r=s(e,["expireTime"]);return t!==void 0&&r!=null&&a(t,["expireTime"],r),n}function Xv(e,t){const n={},o=s(e,["ttl"]);t!==void 0&&o!=null&&a(t,["ttl"],o);const r=s(e,["expireTime"]);return t!==void 0&&r!=null&&a(t,["expireTime"],r),n}function Qv(e,t){const n={},o=s(t,["name"]);o!=null&&a(n,["_url","name"],$t(e,o));const r=s(t,["config"]);return r!=null&&Kv(r,n),n}function Zv(e,t){const n={},o=s(t,["name"]);o!=null&&a(n,["_url","name"],$t(e,o));const r=s(t,["config"]);return r!=null&&Xv(r,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jv extends Jt{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Nn(Bt.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(n),n)}async create(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Iv(this.apiClient,t);return u=F("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const d=wv(this.apiClient,t);return u=F("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async get(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Fv(this.apiClient,t);return u=F("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const d=Uv(this.apiClient,t);return u=F("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async delete(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=kv(this.apiClient,t);return u=F("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=Pv(f),p=new ud;return Object.assign(p,h),p})}else{const d=Av(this.apiClient,t);return u=F("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=Nv(f),p=new ud;return Object.assign(p,h),p})}}async update(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Zv(this.apiClient,t);return u=F("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const d=Qv(this.apiClient,t);return u=F("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async listInternal(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Bv(t);return u=F("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=Jv(f),p=new cd;return Object.assign(p,h),p})}else{const d=qv(t);return u=F("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=bv(f),p=new cd;return Object.assign(p,h),p})}}}function yd(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ge(e){return this instanceof ge?(this.v=e,this):new ge(e)}function jn(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(e,t||[]),r,i=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),r[Symbol.asyncIterator]=function(){return this},r;function l(y){return function(x){return Promise.resolve(x).then(y,h)}}function u(y,x){o[y]&&(r[y]=function(E){return new Promise(function(N,C){i.push([y,E,N,C])>1||c(y,E)})},x&&(r[y]=x(r[y])))}function c(y,x){try{d(o[y](x))}catch(E){p(i[0][3],E)}}function d(y){y.value instanceof ge?Promise.resolve(y.value.v).then(f,h):p(i[0][2],y)}function f(y){c("next",y)}function h(y){c("throw",y)}function p(y,x){y(x),i.shift(),i.length&&c(i[0][0],i[0][1])}}function Bo(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof yd=="function"?yd(e):e[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(i){n[i]=e[i]&&function(l){return new Promise(function(u,c){l=e[i](l),r(u,c,l.done,l.value)})}}function r(i,l,u,c){Promise.resolve(c).then(function(d){i({value:d,done:u})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eC(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:hh(n)}function hh(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function tC(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function vd(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let o=0;for(;o<n;)if(e[o].role==="user")t.push(e[o]),o++;else{const r=[];let i=!0;for(;o<n&&e[o].role==="model";)r.push(e[o]),i&&!hh(e[o])&&(i=!1),o++;i?t.push(...r):t.pop()}return t}class nC{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new oC(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class oC{constructor(t,n,o,r={},i=[]){this.apiClient=t,this.modelsModule=n,this.model=o,this.config=r,this.history=i,this.sendPromise=Promise.resolve(),tC(i)}async sendMessage(t){var n;await this.sendPromise;const o=Be(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var i,l,u;const c=await r,d=(l=(i=c.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content,f=c.automaticFunctionCallingHistory,h=this.getHistory(!0).length;let p=[];f!=null&&(p=(u=f.slice(h))!==null&&u!==void 0?u:[]);const y=d?[d]:[];this.recordHistory(o,y,p)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var n;await this.sendPromise;const o=Be(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const i=await r;return this.processStreamResponse(i,o)}getHistory(t=!1){const n=t?vd(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){var o,r;return jn(this,arguments,function*(){var l,u,c,d;const f=[];try{for(var h=!0,p=Bo(t),y;y=yield ge(p.next()),l=y.done,!l;h=!0){d=y.value,h=!1;const x=d;if(eC(x)){const E=(r=(o=x.candidates)===null||o===void 0?void 0:o[0])===null||r===void 0?void 0:r.content;E!==void 0&&f.push(E)}yield yield ge(x)}}catch(x){u={error:x}}finally{try{!h&&!l&&(c=p.return)&&(yield ge(c.call(p)))}finally{if(u)throw u.error}}this.recordHistory(n,f)})}recordHistory(t,n,o){let r=[];n.length>0&&n.every(i=>i.role!==void 0)?r=n:r.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...vd(o)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gi extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Gi.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rC(e){const t={},n=s(e,["file"]);return n!=null&&a(t,["file"],n),t}function iC(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function sC(e){const t={},n=s(e,["name"]);return n!=null&&a(t,["_url","file"],lh(n)),t}function lC(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function aC(e){const t={},n=s(e,["name"]);return n!=null&&a(t,["_url","file"],lh(n)),t}function uC(e,t){const n={},o=s(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const r=s(e,["pageToken"]);return t!==void 0&&r!=null&&a(t,["_query","pageToken"],r),n}function cC(e){const t={},n=s(e,["config"]);return n!=null&&uC(n,t),t}function dC(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=s(e,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(t,["files"],i)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fC extends Jt{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Nn(Bt.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=cC(t);return i=F("files",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=dC(c),f=new g0;return Object.assign(f,d),f})}}async createInternal(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=rC(t);return i=F("upload/v1beta/files",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=iC(c),f=new y0;return Object.assign(f,d),f})}}async get(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=aC(t);return i=F("files/{file}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async delete(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=sC(t);return i=F("files/{file}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=lC(c),f=new v0;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jr(e){const t={},n=s(e,["data"]);if(n!=null&&a(t,["data"],n),s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function pC(e){const t={},n=s(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>NC(i))),a(t,["parts"],r)}const o=s(e,["role"]);return o!=null&&a(t,["role"],o),t}function hC(e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function mC(e){const t={},n=s(e,["id"]);n!=null&&a(t,["id"],n);const o=s(e,["args"]);o!=null&&a(t,["args"],o);const r=s(e,["name"]);if(r!=null&&a(t,["name"],r),s(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function gC(e){const t={};if(s(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=s(e,["description"]);n!=null&&a(t,["description"],n);const o=s(e,["name"]);o!=null&&a(t,["name"],o);const r=s(e,["parameters"]);r!=null&&a(t,["parameters"],r);const i=s(e,["parametersJsonSchema"]);i!=null&&a(t,["parametersJsonSchema"],i);const l=s(e,["response"]);l!=null&&a(t,["response"],l);const u=s(e,["responseJsonSchema"]);return u!=null&&a(t,["responseJsonSchema"],u),t}function yC(e){const t={},n=s(e,["modelSelectionConfig"]);n!=null&&a(t,["modelConfig"],n);const o=s(e,["responseJsonSchema"]);o!=null&&a(t,["responseJsonSchema"],o);const r=s(e,["audioTimestamp"]);r!=null&&a(t,["audioTimestamp"],r);const i=s(e,["candidateCount"]);i!=null&&a(t,["candidateCount"],i);const l=s(e,["enableAffectiveDialog"]);l!=null&&a(t,["enableAffectiveDialog"],l);const u=s(e,["frequencyPenalty"]);u!=null&&a(t,["frequencyPenalty"],u);const c=s(e,["logprobs"]);c!=null&&a(t,["logprobs"],c);const d=s(e,["maxOutputTokens"]);d!=null&&a(t,["maxOutputTokens"],d);const f=s(e,["mediaResolution"]);f!=null&&a(t,["mediaResolution"],f);const h=s(e,["presencePenalty"]);h!=null&&a(t,["presencePenalty"],h);const p=s(e,["responseLogprobs"]);p!=null&&a(t,["responseLogprobs"],p);const y=s(e,["responseMimeType"]);y!=null&&a(t,["responseMimeType"],y);const x=s(e,["responseModalities"]);x!=null&&a(t,["responseModalities"],x);const E=s(e,["responseSchema"]);E!=null&&a(t,["responseSchema"],E);const N=s(e,["routingConfig"]);N!=null&&a(t,["routingConfig"],N);const C=s(e,["seed"]);C!=null&&a(t,["seed"],C);const v=s(e,["speechConfig"]);v!=null&&a(t,["speechConfig"],mh(v));const g=s(e,["stopSequences"]);g!=null&&a(t,["stopSequences"],g);const T=s(e,["temperature"]);T!=null&&a(t,["temperature"],T);const _=s(e,["thinkingConfig"]);_!=null&&a(t,["thinkingConfig"],_);const w=s(e,["topK"]);w!=null&&a(t,["topK"],w);const A=s(e,["topP"]);if(A!=null&&a(t,["topP"],A),s(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function vC(e){const t={};if(s(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(e,["enableWidget"]);return n!=null&&a(t,["enableWidget"],n),t}function CC(e){const t={};if(s(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(e,["timeRangeFilter"]);return n!=null&&a(t,["timeRangeFilter"],n),t}function EC(e,t){const n={},o=s(e,["generationConfig"]);t!==void 0&&o!=null&&a(t,["setup","generationConfig"],o);const r=s(e,["responseModalities"]);t!==void 0&&r!=null&&a(t,["setup","generationConfig","responseModalities"],r);const i=s(e,["temperature"]);t!==void 0&&i!=null&&a(t,["setup","generationConfig","temperature"],i);const l=s(e,["topP"]);t!==void 0&&l!=null&&a(t,["setup","generationConfig","topP"],l);const u=s(e,["topK"]);t!==void 0&&u!=null&&a(t,["setup","generationConfig","topK"],u);const c=s(e,["maxOutputTokens"]);t!==void 0&&c!=null&&a(t,["setup","generationConfig","maxOutputTokens"],c);const d=s(e,["mediaResolution"]);t!==void 0&&d!=null&&a(t,["setup","generationConfig","mediaResolution"],d);const f=s(e,["seed"]);t!==void 0&&f!=null&&a(t,["setup","generationConfig","seed"],f);const h=s(e,["speechConfig"]);t!==void 0&&h!=null&&a(t,["setup","generationConfig","speechConfig"],Ia(h));const p=s(e,["thinkingConfig"]);t!==void 0&&p!=null&&a(t,["setup","generationConfig","thinkingConfig"],p);const y=s(e,["enableAffectiveDialog"]);t!==void 0&&y!=null&&a(t,["setup","generationConfig","enableAffectiveDialog"],y);const x=s(e,["systemInstruction"]);t!==void 0&&x!=null&&a(t,["setup","systemInstruction"],pC(Be(x)));const E=s(e,["tools"]);if(t!==void 0&&E!=null){let w=po(E);Array.isArray(w)&&(w=w.map(A=>RC(fo(A)))),a(t,["setup","tools"],w)}const N=s(e,["sessionResumption"]);t!==void 0&&N!=null&&a(t,["setup","sessionResumption"],PC(N));const C=s(e,["inputAudioTranscription"]);t!==void 0&&C!=null&&a(t,["setup","inputAudioTranscription"],C);const v=s(e,["outputAudioTranscription"]);t!==void 0&&v!=null&&a(t,["setup","outputAudioTranscription"],v);const g=s(e,["realtimeInputConfig"]);t!==void 0&&g!=null&&a(t,["setup","realtimeInputConfig"],g);const T=s(e,["contextWindowCompression"]);t!==void 0&&T!=null&&a(t,["setup","contextWindowCompression"],T);const _=s(e,["proactivity"]);return t!==void 0&&_!=null&&a(t,["setup","proactivity"],_),n}function xC(e,t){const n={},o=s(e,["generationConfig"]);t!==void 0&&o!=null&&a(t,["setup","generationConfig"],yC(o));const r=s(e,["responseModalities"]);t!==void 0&&r!=null&&a(t,["setup","generationConfig","responseModalities"],r);const i=s(e,["temperature"]);t!==void 0&&i!=null&&a(t,["setup","generationConfig","temperature"],i);const l=s(e,["topP"]);t!==void 0&&l!=null&&a(t,["setup","generationConfig","topP"],l);const u=s(e,["topK"]);t!==void 0&&u!=null&&a(t,["setup","generationConfig","topK"],u);const c=s(e,["maxOutputTokens"]);t!==void 0&&c!=null&&a(t,["setup","generationConfig","maxOutputTokens"],c);const d=s(e,["mediaResolution"]);t!==void 0&&d!=null&&a(t,["setup","generationConfig","mediaResolution"],d);const f=s(e,["seed"]);t!==void 0&&f!=null&&a(t,["setup","generationConfig","seed"],f);const h=s(e,["speechConfig"]);t!==void 0&&h!=null&&a(t,["setup","generationConfig","speechConfig"],mh(Ia(h)));const p=s(e,["thinkingConfig"]);t!==void 0&&p!=null&&a(t,["setup","generationConfig","thinkingConfig"],p);const y=s(e,["enableAffectiveDialog"]);t!==void 0&&y!=null&&a(t,["setup","generationConfig","enableAffectiveDialog"],y);const x=s(e,["systemInstruction"]);t!==void 0&&x!=null&&a(t,["setup","systemInstruction"],Be(x));const E=s(e,["tools"]);if(t!==void 0&&E!=null){let w=po(E);Array.isArray(w)&&(w=w.map(A=>MC(fo(A)))),a(t,["setup","tools"],w)}const N=s(e,["sessionResumption"]);t!==void 0&&N!=null&&a(t,["setup","sessionResumption"],N);const C=s(e,["inputAudioTranscription"]);t!==void 0&&C!=null&&a(t,["setup","inputAudioTranscription"],C);const v=s(e,["outputAudioTranscription"]);t!==void 0&&v!=null&&a(t,["setup","outputAudioTranscription"],v);const g=s(e,["realtimeInputConfig"]);t!==void 0&&g!=null&&a(t,["setup","realtimeInputConfig"],g);const T=s(e,["contextWindowCompression"]);t!==void 0&&T!=null&&a(t,["setup","contextWindowCompression"],T);const _=s(e,["proactivity"]);return t!==void 0&&_!=null&&a(t,["setup","proactivity"],_),n}function TC(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["setup","model"],oe(e,o));const r=s(t,["config"]);return r!=null&&a(n,["config"],EC(r,n)),n}function SC(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["setup","model"],oe(e,o));const r=s(t,["config"]);return r!=null&&a(n,["config"],xC(r,n)),n}function _C(e){const t={},n=s(e,["musicGenerationConfig"]);return n!=null&&a(t,["musicGenerationConfig"],n),t}function wC(e){const t={},n=s(e,["weightedPrompts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),a(t,["weightedPrompts"],o)}return t}function IC(e){const t={},n=s(e,["media"]);if(n!=null){let d=nh(n);Array.isArray(d)&&(d=d.map(f=>Jr(f))),a(t,["mediaChunks"],d)}const o=s(e,["audio"]);o!=null&&a(t,["audio"],Jr(rh(o)));const r=s(e,["audioStreamEnd"]);r!=null&&a(t,["audioStreamEnd"],r);const i=s(e,["video"]);i!=null&&a(t,["video"],Jr(oh(i)));const l=s(e,["text"]);l!=null&&a(t,["text"],l);const u=s(e,["activityStart"]);u!=null&&a(t,["activityStart"],u);const c=s(e,["activityEnd"]);return c!=null&&a(t,["activityEnd"],c),t}function AC(e){const t={},n=s(e,["media"]);if(n!=null){let d=nh(n);Array.isArray(d)&&(d=d.map(f=>f)),a(t,["mediaChunks"],d)}const o=s(e,["audio"]);o!=null&&a(t,["audio"],rh(o));const r=s(e,["audioStreamEnd"]);r!=null&&a(t,["audioStreamEnd"],r);const i=s(e,["video"]);i!=null&&a(t,["video"],oh(i));const l=s(e,["text"]);l!=null&&a(t,["text"],l);const u=s(e,["activityStart"]);u!=null&&a(t,["activityStart"],u);const c=s(e,["activityEnd"]);return c!=null&&a(t,["activityEnd"],c),t}function kC(e){const t={},n=s(e,["setupComplete"]);n!=null&&a(t,["setupComplete"],n);const o=s(e,["serverContent"]);o!=null&&a(t,["serverContent"],o);const r=s(e,["toolCall"]);r!=null&&a(t,["toolCall"],r);const i=s(e,["toolCallCancellation"]);i!=null&&a(t,["toolCallCancellation"],i);const l=s(e,["usageMetadata"]);l!=null&&a(t,["usageMetadata"],DC(l));const u=s(e,["goAway"]);u!=null&&a(t,["goAway"],u);const c=s(e,["sessionResumptionUpdate"]);return c!=null&&a(t,["sessionResumptionUpdate"],c),t}function NC(e){const t={},n=s(e,["mediaResolution"]);n!=null&&a(t,["mediaResolution"],n);const o=s(e,["codeExecutionResult"]);o!=null&&a(t,["codeExecutionResult"],o);const r=s(e,["executableCode"]);r!=null&&a(t,["executableCode"],r);const i=s(e,["fileData"]);i!=null&&a(t,["fileData"],hC(i));const l=s(e,["functionCall"]);l!=null&&a(t,["functionCall"],mC(l));const u=s(e,["functionResponse"]);u!=null&&a(t,["functionResponse"],u);const c=s(e,["inlineData"]);c!=null&&a(t,["inlineData"],Jr(c));const d=s(e,["text"]);d!=null&&a(t,["text"],d);const f=s(e,["thought"]);f!=null&&a(t,["thought"],f);const h=s(e,["thoughtSignature"]);h!=null&&a(t,["thoughtSignature"],h);const p=s(e,["videoMetadata"]);return p!=null&&a(t,["videoMetadata"],p),t}function PC(e){const t={},n=s(e,["handle"]);if(n!=null&&a(t,["handle"],n),s(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function mh(e){const t={},n=s(e,["languageCode"]);n!=null&&a(t,["languageCode"],n);const o=s(e,["voiceConfig"]);if(o!=null&&a(t,["voiceConfig"],o),s(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function RC(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>h)),a(t,["functionDeclarations"],f)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(e,["googleSearchRetrieval"]);o!=null&&a(t,["googleSearchRetrieval"],o);const r=s(e,["computerUse"]);r!=null&&a(t,["computerUse"],r);const i=s(e,["fileSearch"]);i!=null&&a(t,["fileSearch"],i);const l=s(e,["codeExecution"]);if(l!=null&&a(t,["codeExecution"],l),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(e,["googleMaps"]);u!=null&&a(t,["googleMaps"],vC(u));const c=s(e,["googleSearch"]);c!=null&&a(t,["googleSearch"],CC(c));const d=s(e,["urlContext"]);return d!=null&&a(t,["urlContext"],d),t}function MC(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>gC(p))),a(t,["functionDeclarations"],h)}const o=s(e,["retrieval"]);o!=null&&a(t,["retrieval"],o);const r=s(e,["googleSearchRetrieval"]);r!=null&&a(t,["googleSearchRetrieval"],r);const i=s(e,["computerUse"]);if(i!=null&&a(t,["computerUse"],i),s(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=s(e,["codeExecution"]);l!=null&&a(t,["codeExecution"],l);const u=s(e,["enterpriseWebSearch"]);u!=null&&a(t,["enterpriseWebSearch"],u);const c=s(e,["googleMaps"]);c!=null&&a(t,["googleMaps"],c);const d=s(e,["googleSearch"]);d!=null&&a(t,["googleSearch"],d);const f=s(e,["urlContext"]);return f!=null&&a(t,["urlContext"],f),t}function DC(e){const t={},n=s(e,["promptTokenCount"]);n!=null&&a(t,["promptTokenCount"],n);const o=s(e,["cachedContentTokenCount"]);o!=null&&a(t,["cachedContentTokenCount"],o);const r=s(e,["candidatesTokenCount"]);r!=null&&a(t,["responseTokenCount"],r);const i=s(e,["toolUsePromptTokenCount"]);i!=null&&a(t,["toolUsePromptTokenCount"],i);const l=s(e,["thoughtsTokenCount"]);l!=null&&a(t,["thoughtsTokenCount"],l);const u=s(e,["totalTokenCount"]);u!=null&&a(t,["totalTokenCount"],u);const c=s(e,["promptTokensDetails"]);if(c!=null){let y=c;Array.isArray(y)&&(y=y.map(x=>x)),a(t,["promptTokensDetails"],y)}const d=s(e,["cacheTokensDetails"]);if(d!=null){let y=d;Array.isArray(y)&&(y=y.map(x=>x)),a(t,["cacheTokensDetails"],y)}const f=s(e,["candidatesTokensDetails"]);if(f!=null){let y=f;Array.isArray(y)&&(y=y.map(x=>x)),a(t,["responseTokensDetails"],y)}const h=s(e,["toolUsePromptTokensDetails"]);if(h!=null){let y=h;Array.isArray(y)&&(y=y.map(x=>x)),a(t,["toolUsePromptTokensDetails"],y)}const p=s(e,["trafficType"]);return p!=null&&a(t,["trafficType"],p),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function LC(e){const t={},n=s(e,["data"]);if(n!=null&&a(t,["data"],n),s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function UC(e){const t={},n=s(e,["content"]);n!=null&&a(t,["content"],n);const o=s(e,["citationMetadata"]);o!=null&&a(t,["citationMetadata"],FC(o));const r=s(e,["tokenCount"]);r!=null&&a(t,["tokenCount"],r);const i=s(e,["finishReason"]);i!=null&&a(t,["finishReason"],i);const l=s(e,["avgLogprobs"]);l!=null&&a(t,["avgLogprobs"],l);const u=s(e,["groundingMetadata"]);u!=null&&a(t,["groundingMetadata"],u);const c=s(e,["index"]);c!=null&&a(t,["index"],c);const d=s(e,["logprobsResult"]);d!=null&&a(t,["logprobsResult"],d);const f=s(e,["safetyRatings"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(y=>y)),a(t,["safetyRatings"],p)}const h=s(e,["urlContextMetadata"]);return h!=null&&a(t,["urlContextMetadata"],h),t}function FC(e){const t={},n=s(e,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),a(t,["citations"],o)}return t}function VC(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],oe(e,o));const r=s(t,["contents"]);if(r!=null){let i=pt(r);Array.isArray(i)&&(i=i.map(l=>l)),a(n,["contents"],i)}return n}function HC(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["tokensInfo"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),a(t,["tokensInfo"],r)}return t}function GC(e){const t={},n=s(e,["values"]);n!=null&&a(t,["values"],n);const o=s(e,["statistics"]);return o!=null&&a(t,["statistics"],zC(o)),t}function zC(e){const t={},n=s(e,["truncated"]);n!=null&&a(t,["truncated"],n);const o=s(e,["token_count"]);return o!=null&&a(t,["tokenCount"],o),t}function zi(e){const t={},n=s(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>KE(i))),a(t,["parts"],r)}const o=s(e,["role"]);return o!=null&&a(t,["role"],o),t}function qC(e){const t={},n=s(e,["controlType"]);n!=null&&a(t,["controlType"],n);const o=s(e,["enableControlImageComputation"]);return o!=null&&a(t,["computeControl"],o),t}function BC(e){const t={};if(s(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(s(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(s(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function bC(e,t){const n={},o=s(e,["systemInstruction"]);t!==void 0&&o!=null&&a(t,["systemInstruction"],Be(o));const r=s(e,["tools"]);if(t!==void 0&&r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Eh(u))),a(t,["tools"],l)}const i=s(e,["generationConfig"]);return t!==void 0&&i!=null&&a(t,["generationConfig"],LE(i)),n}function JC(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],oe(e,o));const r=s(t,["contents"]);if(r!=null){let l=pt(r);Array.isArray(l)&&(l=l.map(u=>zi(u))),a(n,["contents"],l)}const i=s(t,["config"]);return i!=null&&BC(i),n}function $C(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],oe(e,o));const r=s(t,["contents"]);if(r!=null){let l=pt(r);Array.isArray(l)&&(l=l.map(u=>u)),a(n,["contents"],l)}const i=s(t,["config"]);return i!=null&&bC(i,n),n}function WC(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["totalTokens"]);o!=null&&a(t,["totalTokens"],o);const r=s(e,["cachedContentTokenCount"]);return r!=null&&a(t,["cachedContentTokenCount"],r),t}function YC(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["totalTokens"]);return o!=null&&a(t,["totalTokens"],o),t}function OC(e,t){const n={},o=s(t,["model"]);return o!=null&&a(n,["_url","name"],oe(e,o)),n}function KC(e,t){const n={},o=s(t,["model"]);return o!=null&&a(n,["_url","name"],oe(e,o)),n}function XC(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function QC(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function ZC(e,t){const n={},o=s(e,["outputGcsUri"]);t!==void 0&&o!=null&&a(t,["parameters","storageUri"],o);const r=s(e,["negativePrompt"]);t!==void 0&&r!=null&&a(t,["parameters","negativePrompt"],r);const i=s(e,["numberOfImages"]);t!==void 0&&i!=null&&a(t,["parameters","sampleCount"],i);const l=s(e,["aspectRatio"]);t!==void 0&&l!=null&&a(t,["parameters","aspectRatio"],l);const u=s(e,["guidanceScale"]);t!==void 0&&u!=null&&a(t,["parameters","guidanceScale"],u);const c=s(e,["seed"]);t!==void 0&&c!=null&&a(t,["parameters","seed"],c);const d=s(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&a(t,["parameters","safetySetting"],d);const f=s(e,["personGeneration"]);t!==void 0&&f!=null&&a(t,["parameters","personGeneration"],f);const h=s(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&a(t,["parameters","includeSafetyAttributes"],h);const p=s(e,["includeRaiReason"]);t!==void 0&&p!=null&&a(t,["parameters","includeRaiReason"],p);const y=s(e,["language"]);t!==void 0&&y!=null&&a(t,["parameters","language"],y);const x=s(e,["outputMimeType"]);t!==void 0&&x!=null&&a(t,["parameters","outputOptions","mimeType"],x);const E=s(e,["outputCompressionQuality"]);t!==void 0&&E!=null&&a(t,["parameters","outputOptions","compressionQuality"],E);const N=s(e,["addWatermark"]);t!==void 0&&N!=null&&a(t,["parameters","addWatermark"],N);const C=s(e,["labels"]);t!==void 0&&C!=null&&a(t,["labels"],C);const v=s(e,["editMode"]);t!==void 0&&v!=null&&a(t,["parameters","editMode"],v);const g=s(e,["baseSteps"]);return t!==void 0&&g!=null&&a(t,["parameters","editConfig","baseSteps"],g),n}function jC(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],oe(e,o));const r=s(t,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=s(t,["referenceImages"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>tx(c))),a(n,["instances[0]","referenceImages"],u)}const l=s(t,["config"]);return l!=null&&ZC(l,n),n}function eE(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>qi(i))),a(t,["generatedImages"],r)}return t}function tE(e,t){const n={},o=s(e,["taskType"]);t!==void 0&&o!=null&&a(t,["requests[]","taskType"],o);const r=s(e,["title"]);t!==void 0&&r!=null&&a(t,["requests[]","title"],r);const i=s(e,["outputDimensionality"]);if(t!==void 0&&i!=null&&a(t,["requests[]","outputDimensionality"],i),s(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function nE(e,t){const n={},o=s(e,["taskType"]);t!==void 0&&o!=null&&a(t,["instances[]","task_type"],o);const r=s(e,["title"]);t!==void 0&&r!=null&&a(t,["instances[]","title"],r);const i=s(e,["outputDimensionality"]);t!==void 0&&i!=null&&a(t,["parameters","outputDimensionality"],i);const l=s(e,["mimeType"]);t!==void 0&&l!=null&&a(t,["instances[]","mimeType"],l);const u=s(e,["autoTruncate"]);return t!==void 0&&u!=null&&a(t,["parameters","autoTruncate"],u),n}function oE(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],oe(e,o));const r=s(t,["contents"]);if(r!=null){let u=Sa(e,r);Array.isArray(u)&&(u=u.map(c=>c)),a(n,["requests[]","content"],u)}const i=s(t,["config"]);i!=null&&tE(i,n);const l=s(t,["model"]);return l!==void 0&&a(n,["requests[]","model"],oe(e,l)),n}function rE(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],oe(e,o));const r=s(t,["contents"]);if(r!=null){let l=Sa(e,r);Array.isArray(l)&&(l=l.map(u=>u)),a(n,["instances[]","content"],l)}const i=s(t,["config"]);return i!=null&&nE(i,n),n}function iE(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["embeddings"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>l)),a(t,["embeddings"],i)}const r=s(e,["metadata"]);return r!=null&&a(t,["metadata"],r),t}function sE(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["predictions[]","embeddings"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>GC(l))),a(t,["embeddings"],i)}const r=s(e,["metadata"]);return r!=null&&a(t,["metadata"],r),t}function lE(e){const t={},n=s(e,["endpoint"]);n!=null&&a(t,["name"],n);const o=s(e,["deployedModelId"]);return o!=null&&a(t,["deployedModelId"],o),t}function aE(e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function uE(e){const t={},n=s(e,["id"]);n!=null&&a(t,["id"],n);const o=s(e,["args"]);o!=null&&a(t,["args"],o);const r=s(e,["name"]);if(r!=null&&a(t,["name"],r),s(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function cE(e){const t={},n=s(e,["mode"]);n!=null&&a(t,["mode"],n);const o=s(e,["allowedFunctionNames"]);if(o!=null&&a(t,["allowedFunctionNames"],o),s(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function dE(e){const t={};if(s(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=s(e,["description"]);n!=null&&a(t,["description"],n);const o=s(e,["name"]);o!=null&&a(t,["name"],o);const r=s(e,["parameters"]);r!=null&&a(t,["parameters"],r);const i=s(e,["parametersJsonSchema"]);i!=null&&a(t,["parametersJsonSchema"],i);const l=s(e,["response"]);l!=null&&a(t,["response"],l);const u=s(e,["responseJsonSchema"]);return u!=null&&a(t,["responseJsonSchema"],u),t}function fE(e,t,n){const o={},r=s(t,["systemInstruction"]);n!==void 0&&r!=null&&a(n,["systemInstruction"],zi(Be(r)));const i=s(t,["temperature"]);i!=null&&a(o,["temperature"],i);const l=s(t,["topP"]);l!=null&&a(o,["topP"],l);const u=s(t,["topK"]);u!=null&&a(o,["topK"],u);const c=s(t,["candidateCount"]);c!=null&&a(o,["candidateCount"],c);const d=s(t,["maxOutputTokens"]);d!=null&&a(o,["maxOutputTokens"],d);const f=s(t,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);const h=s(t,["responseLogprobs"]);h!=null&&a(o,["responseLogprobs"],h);const p=s(t,["logprobs"]);p!=null&&a(o,["logprobs"],p);const y=s(t,["presencePenalty"]);y!=null&&a(o,["presencePenalty"],y);const x=s(t,["frequencyPenalty"]);x!=null&&a(o,["frequencyPenalty"],x);const E=s(t,["seed"]);E!=null&&a(o,["seed"],E);const N=s(t,["responseMimeType"]);N!=null&&a(o,["responseMimeType"],N);const C=s(t,["responseSchema"]);C!=null&&a(o,["responseSchema"],_a(C));const v=s(t,["responseJsonSchema"]);if(v!=null&&a(o,["responseJsonSchema"],v),s(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const g=s(t,["safetySettings"]);if(n!==void 0&&g!=null){let Q=g;Array.isArray(Q)&&(Q=Q.map(Z=>nx(Z))),a(n,["safetySettings"],Q)}const T=s(t,["tools"]);if(n!==void 0&&T!=null){let Q=po(T);Array.isArray(Q)&&(Q=Q.map(Z=>ux(fo(Z)))),a(n,["tools"],Q)}const _=s(t,["toolConfig"]);if(n!==void 0&&_!=null&&a(n,["toolConfig"],ax(_)),s(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const w=s(t,["cachedContent"]);n!==void 0&&w!=null&&a(n,["cachedContent"],$t(e,w));const A=s(t,["responseModalities"]);A!=null&&a(o,["responseModalities"],A);const R=s(t,["mediaResolution"]);R!=null&&a(o,["mediaResolution"],R);const P=s(t,["speechConfig"]);if(P!=null&&a(o,["speechConfig"],wa(P)),s(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const D=s(t,["thinkingConfig"]);D!=null&&a(o,["thinkingConfig"],D);const Y=s(t,["imageConfig"]);return Y!=null&&a(o,["imageConfig"],GE(Y)),o}function pE(e,t,n){const o={},r=s(t,["systemInstruction"]);n!==void 0&&r!=null&&a(n,["systemInstruction"],Be(r));const i=s(t,["temperature"]);i!=null&&a(o,["temperature"],i);const l=s(t,["topP"]);l!=null&&a(o,["topP"],l);const u=s(t,["topK"]);u!=null&&a(o,["topK"],u);const c=s(t,["candidateCount"]);c!=null&&a(o,["candidateCount"],c);const d=s(t,["maxOutputTokens"]);d!=null&&a(o,["maxOutputTokens"],d);const f=s(t,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);const h=s(t,["responseLogprobs"]);h!=null&&a(o,["responseLogprobs"],h);const p=s(t,["logprobs"]);p!=null&&a(o,["logprobs"],p);const y=s(t,["presencePenalty"]);y!=null&&a(o,["presencePenalty"],y);const x=s(t,["frequencyPenalty"]);x!=null&&a(o,["frequencyPenalty"],x);const E=s(t,["seed"]);E!=null&&a(o,["seed"],E);const N=s(t,["responseMimeType"]);N!=null&&a(o,["responseMimeType"],N);const C=s(t,["responseSchema"]);C!=null&&a(o,["responseSchema"],_a(C));const v=s(t,["responseJsonSchema"]);v!=null&&a(o,["responseJsonSchema"],v);const g=s(t,["routingConfig"]);g!=null&&a(o,["routingConfig"],g);const T=s(t,["modelSelectionConfig"]);T!=null&&a(o,["modelConfig"],T);const _=s(t,["safetySettings"]);if(n!==void 0&&_!=null){let b=_;Array.isArray(b)&&(b=b.map(J=>J)),a(n,["safetySettings"],b)}const w=s(t,["tools"]);if(n!==void 0&&w!=null){let b=po(w);Array.isArray(b)&&(b=b.map(J=>Eh(fo(J)))),a(n,["tools"],b)}const A=s(t,["toolConfig"]);n!==void 0&&A!=null&&a(n,["toolConfig"],A);const R=s(t,["labels"]);n!==void 0&&R!=null&&a(n,["labels"],R);const P=s(t,["cachedContent"]);n!==void 0&&P!=null&&a(n,["cachedContent"],$t(e,P));const D=s(t,["responseModalities"]);D!=null&&a(o,["responseModalities"],D);const Y=s(t,["mediaResolution"]);Y!=null&&a(o,["mediaResolution"],Y);const Q=s(t,["speechConfig"]);Q!=null&&a(o,["speechConfig"],Ch(wa(Q)));const Z=s(t,["audioTimestamp"]);Z!=null&&a(o,["audioTimestamp"],Z);const Se=s(t,["thinkingConfig"]);Se!=null&&a(o,["thinkingConfig"],Se);const V=s(t,["imageConfig"]);return V!=null&&a(o,["imageConfig"],zE(V)),o}function Cd(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],oe(e,o));const r=s(t,["contents"]);if(r!=null){let l=pt(r);Array.isArray(l)&&(l=l.map(u=>zi(u))),a(n,["contents"],l)}const i=s(t,["config"]);return i!=null&&a(n,["generationConfig"],fE(e,i,n)),n}function Ed(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],oe(e,o));const r=s(t,["contents"]);if(r!=null){let l=pt(r);Array.isArray(l)&&(l=l.map(u=>u)),a(n,["contents"],l)}const i=s(t,["config"]);return i!=null&&a(n,["generationConfig"],pE(e,i,n)),n}function xd(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["candidates"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>UC(d))),a(t,["candidates"],c)}const r=s(e,["modelVersion"]);r!=null&&a(t,["modelVersion"],r);const i=s(e,["promptFeedback"]);i!=null&&a(t,["promptFeedback"],i);const l=s(e,["responseId"]);l!=null&&a(t,["responseId"],l);const u=s(e,["usageMetadata"]);return u!=null&&a(t,["usageMetadata"],u),t}function Td(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["candidates"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>f)),a(t,["candidates"],d)}const r=s(e,["createTime"]);r!=null&&a(t,["createTime"],r);const i=s(e,["modelVersion"]);i!=null&&a(t,["modelVersion"],i);const l=s(e,["promptFeedback"]);l!=null&&a(t,["promptFeedback"],l);const u=s(e,["responseId"]);u!=null&&a(t,["responseId"],u);const c=s(e,["usageMetadata"]);return c!=null&&a(t,["usageMetadata"],c),t}function hE(e,t){const n={};if(s(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=s(e,["numberOfImages"]);t!==void 0&&o!=null&&a(t,["parameters","sampleCount"],o);const r=s(e,["aspectRatio"]);t!==void 0&&r!=null&&a(t,["parameters","aspectRatio"],r);const i=s(e,["guidanceScale"]);if(t!==void 0&&i!=null&&a(t,["parameters","guidanceScale"],i),s(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=s(e,["safetyFilterLevel"]);t!==void 0&&l!=null&&a(t,["parameters","safetySetting"],l);const u=s(e,["personGeneration"]);t!==void 0&&u!=null&&a(t,["parameters","personGeneration"],u);const c=s(e,["includeSafetyAttributes"]);t!==void 0&&c!=null&&a(t,["parameters","includeSafetyAttributes"],c);const d=s(e,["includeRaiReason"]);t!==void 0&&d!=null&&a(t,["parameters","includeRaiReason"],d);const f=s(e,["language"]);t!==void 0&&f!=null&&a(t,["parameters","language"],f);const h=s(e,["outputMimeType"]);t!==void 0&&h!=null&&a(t,["parameters","outputOptions","mimeType"],h);const p=s(e,["outputCompressionQuality"]);if(t!==void 0&&p!=null&&a(t,["parameters","outputOptions","compressionQuality"],p),s(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const y=s(e,["imageSize"]);if(t!==void 0&&y!=null&&a(t,["parameters","sampleImageSize"],y),s(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function mE(e,t){const n={},o=s(e,["outputGcsUri"]);t!==void 0&&o!=null&&a(t,["parameters","storageUri"],o);const r=s(e,["negativePrompt"]);t!==void 0&&r!=null&&a(t,["parameters","negativePrompt"],r);const i=s(e,["numberOfImages"]);t!==void 0&&i!=null&&a(t,["parameters","sampleCount"],i);const l=s(e,["aspectRatio"]);t!==void 0&&l!=null&&a(t,["parameters","aspectRatio"],l);const u=s(e,["guidanceScale"]);t!==void 0&&u!=null&&a(t,["parameters","guidanceScale"],u);const c=s(e,["seed"]);t!==void 0&&c!=null&&a(t,["parameters","seed"],c);const d=s(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&a(t,["parameters","safetySetting"],d);const f=s(e,["personGeneration"]);t!==void 0&&f!=null&&a(t,["parameters","personGeneration"],f);const h=s(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&a(t,["parameters","includeSafetyAttributes"],h);const p=s(e,["includeRaiReason"]);t!==void 0&&p!=null&&a(t,["parameters","includeRaiReason"],p);const y=s(e,["language"]);t!==void 0&&y!=null&&a(t,["parameters","language"],y);const x=s(e,["outputMimeType"]);t!==void 0&&x!=null&&a(t,["parameters","outputOptions","mimeType"],x);const E=s(e,["outputCompressionQuality"]);t!==void 0&&E!=null&&a(t,["parameters","outputOptions","compressionQuality"],E);const N=s(e,["addWatermark"]);t!==void 0&&N!=null&&a(t,["parameters","addWatermark"],N);const C=s(e,["labels"]);t!==void 0&&C!=null&&a(t,["labels"],C);const v=s(e,["imageSize"]);t!==void 0&&v!=null&&a(t,["parameters","sampleImageSize"],v);const g=s(e,["enhancePrompt"]);return t!==void 0&&g!=null&&a(t,["parameters","enhancePrompt"],g),n}function gE(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],oe(e,o));const r=s(t,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=s(t,["config"]);return i!=null&&hE(i,n),n}function yE(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],oe(e,o));const r=s(t,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=s(t,["config"]);return i!=null&&mE(i,n),n}function vE(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>PE(l))),a(t,["generatedImages"],i)}const r=s(e,["positivePromptSafetyAttributes"]);return r!=null&&a(t,["positivePromptSafetyAttributes"],yh(r)),t}function CE(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>qi(l))),a(t,["generatedImages"],i)}const r=s(e,["positivePromptSafetyAttributes"]);return r!=null&&a(t,["positivePromptSafetyAttributes"],vh(r)),t}function EE(e,t){const n={},o=s(e,["numberOfVideos"]);if(t!==void 0&&o!=null&&a(t,["parameters","sampleCount"],o),s(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=s(e,["durationSeconds"]);if(t!==void 0&&r!=null&&a(t,["parameters","durationSeconds"],r),s(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const i=s(e,["aspectRatio"]);t!==void 0&&i!=null&&a(t,["parameters","aspectRatio"],i);const l=s(e,["resolution"]);t!==void 0&&l!=null&&a(t,["parameters","resolution"],l);const u=s(e,["personGeneration"]);if(t!==void 0&&u!=null&&a(t,["parameters","personGeneration"],u),s(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=s(e,["negativePrompt"]);t!==void 0&&c!=null&&a(t,["parameters","negativePrompt"],c);const d=s(e,["enhancePrompt"]);if(t!==void 0&&d!=null&&a(t,["parameters","enhancePrompt"],d),s(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const f=s(e,["lastFrame"]);t!==void 0&&f!=null&&a(t,["instances[0]","lastFrame"],Bi(f));const h=s(e,["referenceImages"]);if(t!==void 0&&h!=null){let p=h;Array.isArray(p)&&(p=p.map(y=>Tx(y))),a(t,["instances[0]","referenceImages"],p)}if(s(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(s(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function xE(e,t){const n={},o=s(e,["numberOfVideos"]);t!==void 0&&o!=null&&a(t,["parameters","sampleCount"],o);const r=s(e,["outputGcsUri"]);t!==void 0&&r!=null&&a(t,["parameters","storageUri"],r);const i=s(e,["fps"]);t!==void 0&&i!=null&&a(t,["parameters","fps"],i);const l=s(e,["durationSeconds"]);t!==void 0&&l!=null&&a(t,["parameters","durationSeconds"],l);const u=s(e,["seed"]);t!==void 0&&u!=null&&a(t,["parameters","seed"],u);const c=s(e,["aspectRatio"]);t!==void 0&&c!=null&&a(t,["parameters","aspectRatio"],c);const d=s(e,["resolution"]);t!==void 0&&d!=null&&a(t,["parameters","resolution"],d);const f=s(e,["personGeneration"]);t!==void 0&&f!=null&&a(t,["parameters","personGeneration"],f);const h=s(e,["pubsubTopic"]);t!==void 0&&h!=null&&a(t,["parameters","pubsubTopic"],h);const p=s(e,["negativePrompt"]);t!==void 0&&p!=null&&a(t,["parameters","negativePrompt"],p);const y=s(e,["enhancePrompt"]);t!==void 0&&y!=null&&a(t,["parameters","enhancePrompt"],y);const x=s(e,["generateAudio"]);t!==void 0&&x!=null&&a(t,["parameters","generateAudio"],x);const E=s(e,["lastFrame"]);t!==void 0&&E!=null&&a(t,["instances[0]","lastFrame"],wt(E));const N=s(e,["referenceImages"]);if(t!==void 0&&N!=null){let g=N;Array.isArray(g)&&(g=g.map(T=>Sx(T))),a(t,["instances[0]","referenceImages"],g)}const C=s(e,["mask"]);t!==void 0&&C!=null&&a(t,["instances[0]","mask"],xx(C));const v=s(e,["compressionQuality"]);return t!==void 0&&v!=null&&a(t,["parameters","compressionQuality"],v),n}function TE(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const o=s(e,["metadata"]);o!=null&&a(t,["metadata"],o);const r=s(e,["done"]);r!=null&&a(t,["done"],r);const i=s(e,["error"]);i!=null&&a(t,["error"],i);const l=s(e,["response","generateVideoResponse"]);return l!=null&&a(t,["response"],IE(l)),t}function SE(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const o=s(e,["metadata"]);o!=null&&a(t,["metadata"],o);const r=s(e,["done"]);r!=null&&a(t,["done"],r);const i=s(e,["error"]);i!=null&&a(t,["error"],i);const l=s(e,["response"]);return l!=null&&a(t,["response"],AE(l)),t}function _E(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],oe(e,o));const r=s(t,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=s(t,["image"]);i!=null&&a(n,["instances[0]","image"],Bi(i));const l=s(t,["video"]);l!=null&&a(n,["instances[0]","video"],xh(l));const u=s(t,["source"]);u!=null&&kE(u,n);const c=s(t,["config"]);return c!=null&&EE(c,n),n}function wE(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],oe(e,o));const r=s(t,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=s(t,["image"]);i!=null&&a(n,["instances[0]","image"],wt(i));const l=s(t,["video"]);l!=null&&a(n,["instances[0]","video"],Th(l));const u=s(t,["source"]);u!=null&&NE(u,n);const c=s(t,["config"]);return c!=null&&xE(c,n),n}function IE(e){const t={},n=s(e,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>ME(l))),a(t,["generatedVideos"],i)}const o=s(e,["raiMediaFilteredCount"]);o!=null&&a(t,["raiMediaFilteredCount"],o);const r=s(e,["raiMediaFilteredReasons"]);return r!=null&&a(t,["raiMediaFilteredReasons"],r),t}function AE(e){const t={},n=s(e,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>DE(l))),a(t,["generatedVideos"],i)}const o=s(e,["raiMediaFilteredCount"]);o!=null&&a(t,["raiMediaFilteredCount"],o);const r=s(e,["raiMediaFilteredReasons"]);return r!=null&&a(t,["raiMediaFilteredReasons"],r),t}function kE(e,t){const n={},o=s(e,["prompt"]);t!==void 0&&o!=null&&a(t,["instances[0]","prompt"],o);const r=s(e,["image"]);t!==void 0&&r!=null&&a(t,["instances[0]","image"],Bi(r));const i=s(e,["video"]);return t!==void 0&&i!=null&&a(t,["instances[0]","video"],xh(i)),n}function NE(e,t){const n={},o=s(e,["prompt"]);t!==void 0&&o!=null&&a(t,["instances[0]","prompt"],o);const r=s(e,["image"]);t!==void 0&&r!=null&&a(t,["instances[0]","image"],wt(r));const i=s(e,["video"]);return t!==void 0&&i!=null&&a(t,["instances[0]","video"],Th(i)),n}function PE(e){const t={},n=s(e,["_self"]);n!=null&&a(t,["image"],qE(n));const o=s(e,["raiFilteredReason"]);o!=null&&a(t,["raiFilteredReason"],o);const r=s(e,["_self"]);return r!=null&&a(t,["safetyAttributes"],yh(r)),t}function qi(e){const t={},n=s(e,["_self"]);n!=null&&a(t,["image"],gh(n));const o=s(e,["raiFilteredReason"]);o!=null&&a(t,["raiFilteredReason"],o);const r=s(e,["_self"]);r!=null&&a(t,["safetyAttributes"],vh(r));const i=s(e,["prompt"]);return i!=null&&a(t,["enhancedPrompt"],i),t}function RE(e){const t={},n=s(e,["_self"]);n!=null&&a(t,["mask"],gh(n));const o=s(e,["labels"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),a(t,["labels"],r)}return t}function ME(e){const t={},n=s(e,["video"]);return n!=null&&a(t,["video"],Cx(n)),t}function DE(e){const t={},n=s(e,["_self"]);return n!=null&&a(t,["video"],Ex(n)),t}function LE(e){const t={},n=s(e,["modelSelectionConfig"]);n!=null&&a(t,["modelConfig"],n);const o=s(e,["responseJsonSchema"]);o!=null&&a(t,["responseJsonSchema"],o);const r=s(e,["audioTimestamp"]);r!=null&&a(t,["audioTimestamp"],r);const i=s(e,["candidateCount"]);i!=null&&a(t,["candidateCount"],i);const l=s(e,["enableAffectiveDialog"]);l!=null&&a(t,["enableAffectiveDialog"],l);const u=s(e,["frequencyPenalty"]);u!=null&&a(t,["frequencyPenalty"],u);const c=s(e,["logprobs"]);c!=null&&a(t,["logprobs"],c);const d=s(e,["maxOutputTokens"]);d!=null&&a(t,["maxOutputTokens"],d);const f=s(e,["mediaResolution"]);f!=null&&a(t,["mediaResolution"],f);const h=s(e,["presencePenalty"]);h!=null&&a(t,["presencePenalty"],h);const p=s(e,["responseLogprobs"]);p!=null&&a(t,["responseLogprobs"],p);const y=s(e,["responseMimeType"]);y!=null&&a(t,["responseMimeType"],y);const x=s(e,["responseModalities"]);x!=null&&a(t,["responseModalities"],x);const E=s(e,["responseSchema"]);E!=null&&a(t,["responseSchema"],E);const N=s(e,["routingConfig"]);N!=null&&a(t,["routingConfig"],N);const C=s(e,["seed"]);C!=null&&a(t,["seed"],C);const v=s(e,["speechConfig"]);v!=null&&a(t,["speechConfig"],Ch(v));const g=s(e,["stopSequences"]);g!=null&&a(t,["stopSequences"],g);const T=s(e,["temperature"]);T!=null&&a(t,["temperature"],T);const _=s(e,["thinkingConfig"]);_!=null&&a(t,["thinkingConfig"],_);const w=s(e,["topK"]);w!=null&&a(t,["topK"],w);const A=s(e,["topP"]);if(A!=null&&a(t,["topP"],A),s(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function UE(e,t){const n={},o=s(t,["model"]);return o!=null&&a(n,["_url","name"],oe(e,o)),n}function FE(e,t){const n={},o=s(t,["model"]);return o!=null&&a(n,["_url","name"],oe(e,o)),n}function VE(e){const t={};if(s(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(e,["enableWidget"]);return n!=null&&a(t,["enableWidget"],n),t}function HE(e){const t={};if(s(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(e,["timeRangeFilter"]);return n!=null&&a(t,["timeRangeFilter"],n),t}function GE(e){const t={},n=s(e,["aspectRatio"]);n!=null&&a(t,["aspectRatio"],n);const o=s(e,["imageSize"]);if(o!=null&&a(t,["imageSize"],o),s(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(s(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function zE(e){const t={},n=s(e,["aspectRatio"]);n!=null&&a(t,["aspectRatio"],n);const o=s(e,["imageSize"]);o!=null&&a(t,["imageSize"],o);const r=s(e,["outputMimeType"]);r!=null&&a(t,["imageOutputOptions","mimeType"],r);const i=s(e,["outputCompressionQuality"]);return i!=null&&a(t,["imageOutputOptions","compressionQuality"],i),t}function qE(e){const t={},n=s(e,["bytesBase64Encoded"]);n!=null&&a(t,["imageBytes"],hn(n));const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function gh(e){const t={},n=s(e,["gcsUri"]);n!=null&&a(t,["gcsUri"],n);const o=s(e,["bytesBase64Encoded"]);o!=null&&a(t,["imageBytes"],hn(o));const r=s(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function Bi(e){const t={};if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=s(e,["imageBytes"]);n!=null&&a(t,["bytesBase64Encoded"],hn(n));const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function wt(e){const t={},n=s(e,["gcsUri"]);n!=null&&a(t,["gcsUri"],n);const o=s(e,["imageBytes"]);o!=null&&a(t,["bytesBase64Encoded"],hn(o));const r=s(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function BE(e,t,n){const o={},r=s(t,["pageSize"]);n!==void 0&&r!=null&&a(n,["_query","pageSize"],r);const i=s(t,["pageToken"]);n!==void 0&&i!=null&&a(n,["_query","pageToken"],i);const l=s(t,["filter"]);n!==void 0&&l!=null&&a(n,["_query","filter"],l);const u=s(t,["queryBase"]);return n!==void 0&&u!=null&&a(n,["_url","models_url"],ah(e,u)),o}function bE(e,t,n){const o={},r=s(t,["pageSize"]);n!==void 0&&r!=null&&a(n,["_query","pageSize"],r);const i=s(t,["pageToken"]);n!==void 0&&i!=null&&a(n,["_query","pageToken"],i);const l=s(t,["filter"]);n!==void 0&&l!=null&&a(n,["_query","filter"],l);const u=s(t,["queryBase"]);return n!==void 0&&u!=null&&a(n,["_url","models_url"],ah(e,u)),o}function JE(e,t){const n={},o=s(t,["config"]);return o!=null&&BE(e,o,n),n}function $E(e,t){const n={},o=s(t,["config"]);return o!=null&&bE(e,o,n),n}function WE(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=s(e,["_self"]);if(r!=null){let i=uh(r);Array.isArray(i)&&(i=i.map(l=>xl(l))),a(t,["models"],i)}return t}function YE(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=s(e,["_self"]);if(r!=null){let i=uh(r);Array.isArray(i)&&(i=i.map(l=>Tl(l))),a(t,["models"],i)}return t}function OE(e){const t={},n=s(e,["maskMode"]);n!=null&&a(t,["maskMode"],n);const o=s(e,["segmentationClasses"]);o!=null&&a(t,["maskClasses"],o);const r=s(e,["maskDilation"]);return r!=null&&a(t,["dilation"],r),t}function xl(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const o=s(e,["displayName"]);o!=null&&a(t,["displayName"],o);const r=s(e,["description"]);r!=null&&a(t,["description"],r);const i=s(e,["version"]);i!=null&&a(t,["version"],i);const l=s(e,["_self"]);l!=null&&a(t,["tunedModelInfo"],cx(l));const u=s(e,["inputTokenLimit"]);u!=null&&a(t,["inputTokenLimit"],u);const c=s(e,["outputTokenLimit"]);c!=null&&a(t,["outputTokenLimit"],c);const d=s(e,["supportedGenerationMethods"]);d!=null&&a(t,["supportedActions"],d);const f=s(e,["temperature"]);f!=null&&a(t,["temperature"],f);const h=s(e,["maxTemperature"]);h!=null&&a(t,["maxTemperature"],h);const p=s(e,["topP"]);p!=null&&a(t,["topP"],p);const y=s(e,["topK"]);y!=null&&a(t,["topK"],y);const x=s(e,["thinking"]);return x!=null&&a(t,["thinking"],x),t}function Tl(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const o=s(e,["displayName"]);o!=null&&a(t,["displayName"],o);const r=s(e,["description"]);r!=null&&a(t,["description"],r);const i=s(e,["versionId"]);i!=null&&a(t,["version"],i);const l=s(e,["deployedModels"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(p=>lE(p))),a(t,["endpoints"],h)}const u=s(e,["labels"]);u!=null&&a(t,["labels"],u);const c=s(e,["_self"]);c!=null&&a(t,["tunedModelInfo"],dx(c));const d=s(e,["defaultCheckpointId"]);d!=null&&a(t,["defaultCheckpointId"],d);const f=s(e,["checkpoints"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(p=>p)),a(t,["checkpoints"],h)}return t}function KE(e){const t={},n=s(e,["mediaResolution"]);n!=null&&a(t,["mediaResolution"],n);const o=s(e,["codeExecutionResult"]);o!=null&&a(t,["codeExecutionResult"],o);const r=s(e,["executableCode"]);r!=null&&a(t,["executableCode"],r);const i=s(e,["fileData"]);i!=null&&a(t,["fileData"],aE(i));const l=s(e,["functionCall"]);l!=null&&a(t,["functionCall"],uE(l));const u=s(e,["functionResponse"]);u!=null&&a(t,["functionResponse"],u);const c=s(e,["inlineData"]);c!=null&&a(t,["inlineData"],LC(c));const d=s(e,["text"]);d!=null&&a(t,["text"],d);const f=s(e,["thought"]);f!=null&&a(t,["thought"],f);const h=s(e,["thoughtSignature"]);h!=null&&a(t,["thoughtSignature"],h);const p=s(e,["videoMetadata"]);return p!=null&&a(t,["videoMetadata"],p),t}function XE(e){const t={},n=s(e,["productImage"]);return n!=null&&a(t,["image"],wt(n)),t}function QE(e,t){const n={},o=s(e,["numberOfImages"]);t!==void 0&&o!=null&&a(t,["parameters","sampleCount"],o);const r=s(e,["baseSteps"]);t!==void 0&&r!=null&&a(t,["parameters","baseSteps"],r);const i=s(e,["outputGcsUri"]);t!==void 0&&i!=null&&a(t,["parameters","storageUri"],i);const l=s(e,["seed"]);t!==void 0&&l!=null&&a(t,["parameters","seed"],l);const u=s(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&a(t,["parameters","safetySetting"],u);const c=s(e,["personGeneration"]);t!==void 0&&c!=null&&a(t,["parameters","personGeneration"],c);const d=s(e,["addWatermark"]);t!==void 0&&d!=null&&a(t,["parameters","addWatermark"],d);const f=s(e,["outputMimeType"]);t!==void 0&&f!=null&&a(t,["parameters","outputOptions","mimeType"],f);const h=s(e,["outputCompressionQuality"]);t!==void 0&&h!=null&&a(t,["parameters","outputOptions","compressionQuality"],h);const p=s(e,["enhancePrompt"]);t!==void 0&&p!=null&&a(t,["parameters","enhancePrompt"],p);const y=s(e,["labels"]);return t!==void 0&&y!=null&&a(t,["labels"],y),n}function ZE(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],oe(e,o));const r=s(t,["source"]);r!=null&&ex(r,n);const i=s(t,["config"]);return i!=null&&QE(i,n),n}function jE(e){const t={},n=s(e,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>qi(r))),a(t,["generatedImages"],o)}return t}function ex(e,t){const n={},o=s(e,["prompt"]);t!==void 0&&o!=null&&a(t,["instances[0]","prompt"],o);const r=s(e,["personImage"]);t!==void 0&&r!=null&&a(t,["instances[0]","personImage","image"],wt(r));const i=s(e,["productImages"]);if(t!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>XE(u))),a(t,["instances[0]","productImages"],l)}return n}function tx(e){const t={},n=s(e,["referenceImage"]);n!=null&&a(t,["referenceImage"],wt(n));const o=s(e,["referenceId"]);o!=null&&a(t,["referenceId"],o);const r=s(e,["referenceType"]);r!=null&&a(t,["referenceType"],r);const i=s(e,["maskImageConfig"]);i!=null&&a(t,["maskImageConfig"],OE(i));const l=s(e,["controlImageConfig"]);l!=null&&a(t,["controlImageConfig"],qC(l));const u=s(e,["styleImageConfig"]);u!=null&&a(t,["styleImageConfig"],u);const c=s(e,["subjectImageConfig"]);return c!=null&&a(t,["subjectImageConfig"],c),t}function yh(e){const t={},n=s(e,["safetyAttributes","categories"]);n!=null&&a(t,["categories"],n);const o=s(e,["safetyAttributes","scores"]);o!=null&&a(t,["scores"],o);const r=s(e,["contentType"]);return r!=null&&a(t,["contentType"],r),t}function vh(e){const t={},n=s(e,["safetyAttributes","categories"]);n!=null&&a(t,["categories"],n);const o=s(e,["safetyAttributes","scores"]);o!=null&&a(t,["scores"],o);const r=s(e,["contentType"]);return r!=null&&a(t,["contentType"],r),t}function nx(e){const t={},n=s(e,["category"]);if(n!=null&&a(t,["category"],n),s(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=s(e,["threshold"]);return o!=null&&a(t,["threshold"],o),t}function ox(e){const t={},n=s(e,["image"]);return n!=null&&a(t,["image"],wt(n)),t}function rx(e,t){const n={},o=s(e,["mode"]);t!==void 0&&o!=null&&a(t,["parameters","mode"],o);const r=s(e,["maxPredictions"]);t!==void 0&&r!=null&&a(t,["parameters","maxPredictions"],r);const i=s(e,["confidenceThreshold"]);t!==void 0&&i!=null&&a(t,["parameters","confidenceThreshold"],i);const l=s(e,["maskDilation"]);t!==void 0&&l!=null&&a(t,["parameters","maskDilation"],l);const u=s(e,["binaryColorThreshold"]);t!==void 0&&u!=null&&a(t,["parameters","binaryColorThreshold"],u);const c=s(e,["labels"]);return t!==void 0&&c!=null&&a(t,["labels"],c),n}function ix(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],oe(e,o));const r=s(t,["source"]);r!=null&&lx(r,n);const i=s(t,["config"]);return i!=null&&rx(i,n),n}function sx(e){const t={},n=s(e,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>RE(r))),a(t,["generatedMasks"],o)}return t}function lx(e,t){const n={},o=s(e,["prompt"]);t!==void 0&&o!=null&&a(t,["instances[0]","prompt"],o);const r=s(e,["image"]);t!==void 0&&r!=null&&a(t,["instances[0]","image"],wt(r));const i=s(e,["scribbleImage"]);return t!==void 0&&i!=null&&a(t,["instances[0]","scribble"],ox(i)),n}function Ch(e){const t={},n=s(e,["languageCode"]);n!=null&&a(t,["languageCode"],n);const o=s(e,["voiceConfig"]);if(o!=null&&a(t,["voiceConfig"],o),s(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function ax(e){const t={},n=s(e,["functionCallingConfig"]);n!=null&&a(t,["functionCallingConfig"],cE(n));const o=s(e,["retrievalConfig"]);return o!=null&&a(t,["retrievalConfig"],o),t}function ux(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>h)),a(t,["functionDeclarations"],f)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(e,["googleSearchRetrieval"]);o!=null&&a(t,["googleSearchRetrieval"],o);const r=s(e,["computerUse"]);r!=null&&a(t,["computerUse"],r);const i=s(e,["fileSearch"]);i!=null&&a(t,["fileSearch"],i);const l=s(e,["codeExecution"]);if(l!=null&&a(t,["codeExecution"],l),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(e,["googleMaps"]);u!=null&&a(t,["googleMaps"],VE(u));const c=s(e,["googleSearch"]);c!=null&&a(t,["googleSearch"],HE(c));const d=s(e,["urlContext"]);return d!=null&&a(t,["urlContext"],d),t}function Eh(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(p=>dE(p))),a(t,["functionDeclarations"],h)}const o=s(e,["retrieval"]);o!=null&&a(t,["retrieval"],o);const r=s(e,["googleSearchRetrieval"]);r!=null&&a(t,["googleSearchRetrieval"],r);const i=s(e,["computerUse"]);if(i!=null&&a(t,["computerUse"],i),s(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=s(e,["codeExecution"]);l!=null&&a(t,["codeExecution"],l);const u=s(e,["enterpriseWebSearch"]);u!=null&&a(t,["enterpriseWebSearch"],u);const c=s(e,["googleMaps"]);c!=null&&a(t,["googleMaps"],c);const d=s(e,["googleSearch"]);d!=null&&a(t,["googleSearch"],d);const f=s(e,["urlContext"]);return f!=null&&a(t,["urlContext"],f),t}function cx(e){const t={},n=s(e,["baseModel"]);n!=null&&a(t,["baseModel"],n);const o=s(e,["createTime"]);o!=null&&a(t,["createTime"],o);const r=s(e,["updateTime"]);return r!=null&&a(t,["updateTime"],r),t}function dx(e){const t={},n=s(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&a(t,["baseModel"],n);const o=s(e,["createTime"]);o!=null&&a(t,["createTime"],o);const r=s(e,["updateTime"]);return r!=null&&a(t,["updateTime"],r),t}function fx(e,t){const n={},o=s(e,["displayName"]);t!==void 0&&o!=null&&a(t,["displayName"],o);const r=s(e,["description"]);t!==void 0&&r!=null&&a(t,["description"],r);const i=s(e,["defaultCheckpointId"]);return t!==void 0&&i!=null&&a(t,["defaultCheckpointId"],i),n}function px(e,t){const n={},o=s(e,["displayName"]);t!==void 0&&o!=null&&a(t,["displayName"],o);const r=s(e,["description"]);t!==void 0&&r!=null&&a(t,["description"],r);const i=s(e,["defaultCheckpointId"]);return t!==void 0&&i!=null&&a(t,["defaultCheckpointId"],i),n}function hx(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","name"],oe(e,o));const r=s(t,["config"]);return r!=null&&fx(r,n),n}function mx(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],oe(e,o));const r=s(t,["config"]);return r!=null&&px(r,n),n}function gx(e,t){const n={},o=s(e,["outputGcsUri"]);t!==void 0&&o!=null&&a(t,["parameters","storageUri"],o);const r=s(e,["safetyFilterLevel"]);t!==void 0&&r!=null&&a(t,["parameters","safetySetting"],r);const i=s(e,["personGeneration"]);t!==void 0&&i!=null&&a(t,["parameters","personGeneration"],i);const l=s(e,["includeRaiReason"]);t!==void 0&&l!=null&&a(t,["parameters","includeRaiReason"],l);const u=s(e,["outputMimeType"]);t!==void 0&&u!=null&&a(t,["parameters","outputOptions","mimeType"],u);const c=s(e,["outputCompressionQuality"]);t!==void 0&&c!=null&&a(t,["parameters","outputOptions","compressionQuality"],c);const d=s(e,["enhanceInputImage"]);t!==void 0&&d!=null&&a(t,["parameters","upscaleConfig","enhanceInputImage"],d);const f=s(e,["imagePreservationFactor"]);t!==void 0&&f!=null&&a(t,["parameters","upscaleConfig","imagePreservationFactor"],f);const h=s(e,["labels"]);t!==void 0&&h!=null&&a(t,["labels"],h);const p=s(e,["numberOfImages"]);t!==void 0&&p!=null&&a(t,["parameters","sampleCount"],p);const y=s(e,["mode"]);return t!==void 0&&y!=null&&a(t,["parameters","mode"],y),n}function yx(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["_url","model"],oe(e,o));const r=s(t,["image"]);r!=null&&a(n,["instances[0]","image"],wt(r));const i=s(t,["upscaleFactor"]);i!=null&&a(n,["parameters","upscaleConfig","upscaleFactor"],i);const l=s(t,["config"]);return l!=null&&gx(l,n),n}function vx(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>qi(i))),a(t,["generatedImages"],r)}return t}function Cx(e){const t={},n=s(e,["uri"]);n!=null&&a(t,["uri"],n);const o=s(e,["encodedVideo"]);o!=null&&a(t,["videoBytes"],hn(o));const r=s(e,["encoding"]);return r!=null&&a(t,["mimeType"],r),t}function Ex(e){const t={},n=s(e,["gcsUri"]);n!=null&&a(t,["uri"],n);const o=s(e,["bytesBase64Encoded"]);o!=null&&a(t,["videoBytes"],hn(o));const r=s(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}function xx(e){const t={},n=s(e,["image"]);n!=null&&a(t,["_self"],wt(n));const o=s(e,["maskMode"]);return o!=null&&a(t,["maskMode"],o),t}function Tx(e){const t={},n=s(e,["image"]);n!=null&&a(t,["image"],Bi(n));const o=s(e,["referenceType"]);return o!=null&&a(t,["referenceType"],o),t}function Sx(e){const t={},n=s(e,["image"]);n!=null&&a(t,["image"],wt(n));const o=s(e,["referenceType"]);return o!=null&&a(t,["referenceType"],o),t}function xh(e){const t={},n=s(e,["uri"]);n!=null&&a(t,["uri"],n);const o=s(e,["videoBytes"]);o!=null&&a(t,["encodedVideo"],hn(o));const r=s(e,["mimeType"]);return r!=null&&a(t,["encoding"],r),t}function Th(e){const t={},n=s(e,["uri"]);n!=null&&a(t,["gcsUri"],n);const o=s(e,["videoBytes"]);o!=null&&a(t,["bytesBase64Encoded"],hn(o));const r=s(e,["mimeType"]);return r!=null&&a(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _x(e,t){const n={},o=s(e,["displayName"]);return t!==void 0&&o!=null&&a(t,["displayName"],o),n}function wx(e){const t={},n=s(e,["config"]);return n!=null&&_x(n,t),t}function Ix(e,t){const n={},o=s(e,["force"]);return t!==void 0&&o!=null&&a(t,["_query","force"],o),n}function Ax(e){const t={},n=s(e,["name"]);n!=null&&a(t,["_url","name"],n);const o=s(e,["config"]);return o!=null&&Ix(o,t),t}function kx(e){const t={},n=s(e,["name"]);return n!=null&&a(t,["_url","name"],n),t}function Nx(e,t){const n={},o=s(e,["customMetadata"]);if(t!==void 0&&o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>l)),a(t,["customMetadata"],i)}const r=s(e,["chunkingConfig"]);return t!==void 0&&r!=null&&a(t,["chunkingConfig"],r),n}function Px(e){const t={},n=s(e,["name"]);n!=null&&a(t,["name"],n);const o=s(e,["metadata"]);o!=null&&a(t,["metadata"],o);const r=s(e,["done"]);r!=null&&a(t,["done"],r);const i=s(e,["error"]);i!=null&&a(t,["error"],i);const l=s(e,["response"]);return l!=null&&a(t,["response"],Mx(l)),t}function Rx(e){const t={},n=s(e,["fileSearchStoreName"]);n!=null&&a(t,["_url","file_search_store_name"],n);const o=s(e,["fileName"]);o!=null&&a(t,["fileName"],o);const r=s(e,["config"]);return r!=null&&Nx(r,t),t}function Mx(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["parent"]);o!=null&&a(t,["parent"],o);const r=s(e,["documentName"]);return r!=null&&a(t,["documentName"],r),t}function Dx(e,t){const n={},o=s(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const r=s(e,["pageToken"]);return t!==void 0&&r!=null&&a(t,["_query","pageToken"],r),n}function Lx(e){const t={},n=s(e,["config"]);return n!=null&&Dx(n,t),t}function Ux(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=s(e,["fileSearchStores"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(t,["fileSearchStores"],i)}return t}function Sh(e,t){const n={},o=s(e,["mimeType"]);t!==void 0&&o!=null&&a(t,["mimeType"],o);const r=s(e,["displayName"]);t!==void 0&&r!=null&&a(t,["displayName"],r);const i=s(e,["customMetadata"]);if(t!==void 0&&i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>c)),a(t,["customMetadata"],u)}const l=s(e,["chunkingConfig"]);return t!==void 0&&l!=null&&a(t,["chunkingConfig"],l),n}function Fx(e){const t={},n=s(e,["fileSearchStoreName"]);n!=null&&a(t,["_url","file_search_store_name"],n);const o=s(e,["config"]);return o!=null&&Sh(o,t),t}function Vx(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Hx="Content-Type",Gx="X-Server-Timeout",zx="User-Agent",Sl="x-goog-api-client",qx="1.31.0",Bx=`google-genai-sdk/${qx}`,bx="v1beta1",Jx="v1beta",Sd=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class $x{constructor(t){var n,o;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:bx,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:Jx,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&o.push(t.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,o){const r=[this.getRequestUrlInternal(n)];return o&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const o=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,n,o);if(t.queryParams)for(const[l,u]of Object.entries(t.queryParams))r.searchParams.append(l,String(u));let i={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=t.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,n,r.toString(),t.abortSignal),this.unaryApiCall(r,i,t.httpMethod)}patchHttpOptions(t,n){const o=JSON.parse(JSON.stringify(t));for(const[r,i]of Object.entries(n))typeof i=="object"?o[r]=Object.assign(Object.assign({},o[r]),i):i!==void 0&&(o[r]=i);return o}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const o=this.shouldPrependVertexProjectPath(t),r=this.constructUrl(t.path,n,o);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let i={};return i.body=t.body,i=await this.includeExtraHttpOptionsToRequestInit(i,n,r.toString(),t.abortSignal),this.streamApiCall(r,i,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,o,r){if(n&&n.timeout||r){const i=new AbortController,l=i.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>i.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}r&&r.addEventListener("abort",()=>{i.abort()}),t.signal=l}return n&&n.extraBody!==null&&Wx(t,n.extraBody),t.headers=await this.getHeadersInternal(n,o),t}async unaryApiCall(t,n,o){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await _d(r),new vl(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,n,o){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await _d(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){var n;return jn(this,arguments,function*(){const r=(n=t==null?void 0:t.body)===null||n===void 0?void 0:n.getReader(),i=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let l="";for(;;){const{done:u,value:c}=yield ge(r.read());if(u){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=i.decode(c,{stream:!0});try{const h=JSON.parse(d);if("error"in h){const p=JSON.parse(JSON.stringify(h.error)),y=p.status,x=p.code,E=`got status: ${y}. ${JSON.stringify(h)}`;if(x>=400&&x<600)throw new Gi({message:E,status:x})}}catch(h){if(h.name==="ApiError")throw h}l+=d;let f=l.match(Sd);for(;f;){const h=f[1];try{const p=new Response(h,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield ge(new vl(p)),l=l.slice(f[0].length),f=l.match(Sd)}catch(p){throw new Error(`exception parsing stream chunk ${h}. ${p}`)}}}}finally{r.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const t={},n=Bx+" "+this.clientOptions.userAgentExtra;return t[zx]=n,t[Sl]=n,t[Hx]="application/json",t}async getHeadersInternal(t,n){const o=new Headers;if(t&&t.headers){for(const[r,i]of Object.entries(t.headers))o.append(r,i);t.timeout&&t.timeout>0&&o.append(Gx,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,n),o}getFileName(t){var n;let o="";return typeof t=="string"&&(o=t.replace(/[/\\]+$/,""),o=(n=o.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),o}async uploadFile(t,n){var o;const r={};n!=null&&(r.mimeType=n.mimeType,r.name=n.name,r.displayName=n.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const i=this.clientOptions.uploader,l=await i.stat(t);r.sizeBytes=String(l.size);const u=(o=n==null?void 0:n.mimeType)!==null&&o!==void 0?o:l.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=u;const c={file:r},d=this.getFileName(t),f=F("upload/v1beta/files",c._url),h=await this.fetchUploadUrl(f,r.sizeBytes,r.mimeType,d,c,n==null?void 0:n.httpOptions);return i.upload(t,h,this)}async uploadFileToFileSearchStore(t,n,o){var r;const i=this.clientOptions.uploader,l=await i.stat(n),u=String(l.size),c=(r=o==null?void 0:o.mimeType)!==null&&r!==void 0?r:l.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${t}:uploadToFileSearchStore`,f=this.getFileName(n),h={};o!=null&&Sh(o,h);const p=await this.fetchUploadUrl(d,u,c,f,h,o==null?void 0:o.httpOptions);return i.uploadToFileSearchStore(n,p,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,o,r,i,l){var u;let c={};l?c=l:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${o}`},r?{"X-Goog-Upload-File-Name":r}:{})};const d=await this.request({path:t,body:JSON.stringify(i),httpMethod:"POST",httpOptions:c});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const f=(u=d==null?void 0:d.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}}async function _d(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let o;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?o=await e.json():o={error:{message:await e.text(),code:e.status,status:e.statusText}};const r=JSON.stringify(o);throw n>=400&&n<600?new Gi({message:r,status:n}):new Error(r)}}function Wx(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const i=JSON.parse(e.body);if(typeof i=="object"&&i!==null&&!Array.isArray(i))n=i;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(i,l){const u=Object.assign({},i);for(const c in l)if(Object.prototype.hasOwnProperty.call(l,c)){const d=l[c],f=u[c];d&&typeof d=="object"&&!Array.isArray(d)&&f&&typeof f=="object"&&!Array.isArray(f)?u[c]=o(f,d):(f&&d&&typeof f!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof f}, New type: ${typeof d}. Overwriting.`),u[c]=d)}return u}const r=o(n,t);e.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Yx="mcp_used/unknown";let Ox=!1;function _h(e){for(const t of e)if(Kx(t)||typeof t=="object"&&"inputSchema"in t)return!0;return Ox}function wh(e){var t;const n=(t=e[Sl])!==null&&t!==void 0?t:"";e[Sl]=(n+` ${Yx}`).trimStart()}function Kx(e){return e!==null&&typeof e=="object"&&e instanceof Aa}function Xx(e,t=100){return jn(this,arguments,function*(){let o,r=0;for(;r<t;){const i=yield ge(e.listTools({cursor:o}));for(const l of i.tools)yield yield ge(l),r++;if(!i.nextCursor)break;o=i.nextCursor}})}class Aa{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new Aa(t,n)}async initialize(){var t,n,o,r;if(this.mcpTools.length>0)return;const i={},l=[];for(const f of this.mcpClients)try{for(var u=!0,c=(n=void 0,Bo(Xx(f))),d;d=await c.next(),t=d.done,!t;u=!0){r=d.value,u=!1;const h=r;l.push(h);const p=h.name;if(i[p])throw new Error(`Duplicate function name ${p} found in MCP tools. Please ensure function names are unique.`);i[p]=f}}catch(h){n={error:h}}finally{try{!u&&!t&&(o=c.return)&&await o.call(c)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),k0(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const o of t)if(o.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[o.name];let i;this.config.timeout&&(i={timeout:this.config.timeout});const l=await r.callTool({name:o.name,arguments:o.args},void 0,i);n.push({functionResponse:{name:o.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Qx(e,t,n){const o=new E0;let r;n.data instanceof Blob?r=JSON.parse(await n.data.text()):r=JSON.parse(n.data),Object.assign(o,r),t(o)}class Zx{constructor(t,n,o){this.apiClient=t,this.auth=n,this.webSocketFactory=o}async connect(t){var n,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),l=tT(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${r}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${u}`;let d=()=>{};const f=new Promise(g=>{d=g}),h=t.callbacks,p=function(){d({})},y=this.apiClient,x={onopen:p,onmessage:g=>{Qx(y,h.onmessage,g)},onerror:(n=h==null?void 0:h.onerror)!==null&&n!==void 0?n:function(g){},onclose:(o=h==null?void 0:h.onclose)!==null&&o!==void 0?o:function(g){}},E=this.webSocketFactory.create(c,eT(l),x);E.connect(),await f;const v={setup:{model:oe(this.apiClient,t.model)}};return E.send(JSON.stringify(v)),new jx(E,this.apiClient)}}class jx{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=wC(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=_C(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl($n.PLAY)}pause(){this.sendPlaybackControl($n.PAUSE)}stop(){this.sendPlaybackControl($n.STOP)}resetContext(){this.sendPlaybackControl($n.RESET_CONTEXT)}close(){this.conn.close()}}function eT(e){const t={};return e.forEach((n,o)=>{t[o]=n}),t}function tT(e){const t=new Headers;for(const[n,o]of Object.entries(e))t.append(n,o);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nT="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function oT(e,t,n){const o=new C0;let r;n.data instanceof Blob?r=await n.data.text():n.data instanceof ArrayBuffer?r=new TextDecoder().decode(n.data):r=n.data;const i=JSON.parse(r);if(e.isVertexAI()){const l=kC(i);Object.assign(o,l)}else Object.assign(o,i);t(o)}class rT{constructor(t,n,o){this.apiClient=t,this.auth=n,this.webSocketFactory=o,this.music=new Zx(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,o,r,i,l,u;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let f;const h=this.apiClient.getHeaders();t.config&&t.config.tools&&_h(t.config.tools)&&wh(h);const p=aT(h);if(this.apiClient.isVertexAI())f=`${c}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(p,f);else{const P=this.apiClient.getApiKey();let D="BidiGenerateContent",Y="key";P!=null&&P.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),D="BidiGenerateContentConstrained",Y="access_token"),f=`${c}/ws/google.ai.generativelanguage.${d}.GenerativeService.${D}?${Y}=${P}`}let y=()=>{};const x=new Promise(P=>{y=P}),E=t.callbacks,N=function(){var P;(P=E==null?void 0:E.onopen)===null||P===void 0||P.call(E),y({})},C=this.apiClient,v={onopen:N,onmessage:P=>{oT(C,E.onmessage,P)},onerror:(n=E==null?void 0:E.onerror)!==null&&n!==void 0?n:function(P){},onclose:(o=E==null?void 0:E.onclose)!==null&&o!==void 0?o:function(P){}},g=this.webSocketFactory.create(f,lT(p),v);g.connect(),await x;let T=oe(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&T.startsWith("publishers/")){const P=this.apiClient.getProject(),D=this.apiClient.getLocation();T=`projects/${P}/locations/${D}/`+T}let _={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[mi.AUDIO]}:t.config.responseModalities=[mi.AUDIO]),!((i=t.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const w=(u=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[],A=[];for(const P of w)if(this.isCallableTool(P)){const D=P;A.push(await D.tool())}else A.push(P);A.length>0&&(t.config.tools=A);const R={model:T,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?_=SC(this.apiClient,R):_=TC(this.apiClient,R),delete _.config,g.send(JSON.stringify(_)),new sT(g,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const iT={turnComplete:!0};class sT{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let o=[];try{o=pt(n.turns),t.isVertexAI()||(o=o.map(r=>zi(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:o,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let o=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?o=n.functionResponses:o=[n.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const i of o){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!t.isVertexAI()&&!("id"in i))throw new Error(nT)}return{toolResponse:{functionResponses:o}}}sendClientContent(t){t=Object.assign(Object.assign({},iT),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:AC(t)}:n={realtimeInput:IC(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function lT(e){const t={};return e.forEach((n,o)=>{t[o]=n}),t}function aT(e){const t=new Headers;for(const[n,o]of Object.entries(e))t.append(n,o);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wd=10;function Id(e){var t,n,o;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const l of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(eo(l)){r=!0;break}if(!r)return!0;const i=(o=e==null?void 0:e.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return i&&(i<0||!Number.isInteger(i))||i==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0):!1}function eo(e){return"callTool"in e&&typeof e.callTool=="function"}function uT(e){var t,n,o;return(o=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(r=>eo(r)))!==null&&o!==void 0?o:!1}function Ad(e){var t;const n=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((o,r)=>{if(eo(o))return;const i=o;i.functionDeclarations&&i.functionDeclarations.length>0&&n.push(r)}),n}function kd(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cT extends Jt{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var o,r,i,l,u;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!uT(n)||Id(n.config))return await this.generateContentInternal(c);const d=Ad(n);if(d.length>0){const E=d.map(N=>`tools[${N}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${E}.`)}let f,h;const p=pt(c.contents),y=(i=(r=(o=c.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:wd;let x=0;for(;x<y&&(f=await this.generateContentInternal(c),!(!f.functionCalls||f.functionCalls.length===0));){const E=f.candidates[0].content,N=[];for(const C of(u=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[])if(eo(C)){const g=await C.callTool(f.functionCalls);N.push(...g)}x++,h={role:"user",parts:N},c.contents=pt(c.contents),c.contents.push(E),c.contents.push(h),kd(c.config)&&(p.push(E),p.push(h))}return kd(c.config)&&(f.automaticFunctionCallingHistory=p),f},this.generateContentStream=async n=>{var o,r,i,l,u;if(this.maybeMoveToResponseJsonSchem(n),Id(n.config)){const h=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(h)}const c=Ad(n);if(c.length>0){const h=c.map(p=>`tools[${p}]`).join(", ");throw new Error(`Incompatible tools found at ${h}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(i=(r=(o=n==null?void 0:n.config)===null||o===void 0?void 0:o.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||i===void 0?void 0:i.streamFunctionCallArguments,f=(u=(l=n==null?void 0:n.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(d&&!f)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(o=>{var r;let i;const l=[];if(o!=null&&o.generatedImages)for(const c of o.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((r=c==null?void 0:c.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?i=c==null?void 0:c.safetyAttributes:l.push(c);let u;return i?u={generatedImages:l,positivePromptSafetyAttributes:i,sdkHttpResponse:o.sdkHttpResponse}:u={generatedImages:l,sdkHttpResponse:o.sdkHttpResponse},u}),this.list=async n=>{var o;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((o=l.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new Nn(Bt.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(l),l)},this.editImage=async n=>{const o={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(o.referenceImages=n.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async n=>{let o={numberOfImages:1,mode:"upscale"};n.config&&(o=Object.assign(Object.assign({},o),n.config));const r={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:o};return await this.upscaleImageInternal(r)},this.generateVideos=async n=>{var o,r,i,l,u,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=n.video)===null||o===void 0)&&o.uri&&(!((r=n.video)===null||r===void 0)&&r.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(i=n.source)===null||i===void 0?void 0:i.video)===null||l===void 0)&&l.uri&&(!((c=(u=n.source)===null||u===void 0?void 0:u.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,o,r;const i=(n=t.config)===null||n===void 0?void 0:n.tools;if(!i)return t;const l=await Promise.all(i.map(async c=>eo(c)?await c.tool():c)),u={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:l})};if(u.config.tools=l,t.config&&t.config.tools&&_h(t.config.tools)){const c=(r=(o=t.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&r!==void 0?r:{};let d=Object.assign({},c);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),wh(d),u.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:d})}return u}async initAfcToolsMap(t){var n,o,r;const i=new Map;for(const l of(o=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&o!==void 0?o:[])if(eo(l)){const u=l,c=await u.tool();for(const d of(r=c.functionDeclarations)!==null&&r!==void 0?r:[]){if(!d.name)throw new Error("Function declaration name is required.");if(i.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);i.set(d.name,u)}}return i}async processAfcStream(t){var n,o,r;const i=(r=(o=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&r!==void 0?r:wd;let l=!1,u=0;const c=await this.initAfcToolsMap(t);return function(d,f,h){var p,y;return jn(this,arguments,function*(){for(var x,E,N,C;u<i;){l&&(u++,l=!1);const _=yield ge(d.processParamsMaybeAddMcpUsage(h)),w=yield ge(d.generateContentStreamInternal(_)),A=[],R=[];try{for(var v=!0,g=(E=void 0,Bo(w)),T;T=yield ge(g.next()),x=T.done,!x;v=!0){C=T.value,v=!1;const P=C;if(yield yield ge(P),P.candidates&&(!((p=P.candidates[0])===null||p===void 0)&&p.content)){R.push(P.candidates[0].content);for(const D of(y=P.candidates[0].content.parts)!==null&&y!==void 0?y:[])if(u<i&&D.functionCall){if(!D.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(D.functionCall.name)){const Y=yield ge(f.get(D.functionCall.name).callTool([D.functionCall]));A.push(...Y)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${D.functionCall.name}`)}}}}catch(P){E={error:P}}finally{try{!v&&!x&&(N=g.return)&&(yield ge(N.call(g)))}finally{if(E)throw E.error}}if(A.length>0){l=!0;const P=new Io;P.candidates=[{content:{role:"user",parts:A}}],yield yield ge(P);const D=[];D.push(...R),D.push({role:"user",parts:A});const Y=pt(h.contents).concat(D);h.contents=Y}else break}})}(this,c,t)}async generateContentInternal(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Ed(this.apiClient,t);return u=F("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=Td(f),p=new Io;return Object.assign(p,h),p})}else{const d=Cd(this.apiClient,t);return u=F("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=xd(f),p=new Io;return Object.assign(p,h),p})}}async generateContentStreamInternal(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Ed(this.apiClient,t);return u=F("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}),l.then(function(h){return jn(this,arguments,function*(){var p,y,x,E;try{for(var N=!0,C=Bo(h),v;v=yield ge(C.next()),p=v.done,!p;N=!0){E=v.value,N=!1;const g=E,T=Td(yield ge(g.json()));T.sdkHttpResponse={headers:g.headers};const _=new Io;Object.assign(_,T),yield yield ge(_)}}catch(g){y={error:g}}finally{try{!N&&!p&&(x=C.return)&&(yield ge(x.call(C)))}finally{if(y)throw y.error}}})})}else{const d=Cd(this.apiClient,t);return u=F("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}),l.then(function(h){return jn(this,arguments,function*(){var p,y,x,E;try{for(var N=!0,C=Bo(h),v;v=yield ge(C.next()),p=v.done,!p;N=!0){E=v.value,N=!1;const g=E,T=xd(yield ge(g.json()));T.sdkHttpResponse={headers:g.headers};const _=new Io;Object.assign(_,T),yield yield ge(_)}}catch(g){y={error:g}}finally{try{!N&&!p&&(x=C.return)&&(yield ge(x.call(C)))}finally{if(y)throw y.error}}})})}}async embedContent(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=rE(this.apiClient,t);return u=F("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=sE(f),p=new nd;return Object.assign(p,h),p})}else{const d=oE(this.apiClient,t);return u=F("{model}:batchEmbedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=iE(f),p=new nd;return Object.assign(p,h),p})}}async generateImagesInternal(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=yE(this.apiClient,t);return u=F("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=CE(f),p=new od;return Object.assign(p,h),p})}else{const d=gE(this.apiClient,t);return u=F("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=vE(f),p=new od;return Object.assign(p,h),p})}}async editImageInternal(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=jC(this.apiClient,t);return i=F("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=eE(c),f=new a0;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=yx(this.apiClient,t);return i=F("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=vx(c),f=new u0;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=ZE(this.apiClient,t);return i=F("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=jE(c),f=new c0;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=ix(this.apiClient,t);return i=F("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=sx(c),f=new d0;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=FE(this.apiClient,t);return u=F("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>Tl(f))}else{const d=UE(this.apiClient,t);return u=F("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>xl(f))}}async listInternal(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=$E(this.apiClient,t);return u=F("{models_url}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=YE(f),p=new rd;return Object.assign(p,h),p})}else{const d=JE(this.apiClient,t);return u=F("{models_url}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=WE(f),p=new rd;return Object.assign(p,h),p})}}async update(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=mx(this.apiClient,t);return u=F("{model}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>Tl(f))}else{const d=hx(this.apiClient,t);return u=F("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>xl(f))}}async delete(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=KC(this.apiClient,t);return u=F("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=QC(f),p=new id;return Object.assign(p,h),p})}else{const d=OC(this.apiClient,t);return u=F("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=XC(f),p=new id;return Object.assign(p,h),p})}}async countTokens(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=$C(this.apiClient,t);return u=F("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=YC(f),p=new sd;return Object.assign(p,h),p})}else{const d=JC(this.apiClient,t);return u=F("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=WC(f),p=new sd;return Object.assign(p,h),p})}}async computeTokens(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=VC(this.apiClient,t);return i=F("{model}:computeTokens",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=HC(c),f=new f0;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=wE(this.apiClient,t);return u=F("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>{const h=SE(f),p=new gi;return Object.assign(p,h),p})}else{const d=_E(this.apiClient,t);return u=F("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>{const h=TE(f),p=new gi;return Object.assign(p,h),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dT extends Jt{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,o=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let i;o&&"httpOptions"in o&&(i=o.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const n=t.operation,o=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let i;o&&"httpOptions"in o&&(i=o.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=n0(t);return u=F("{operationName}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l}else{const d=t0(t);return u=F("{operationName}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l}}async fetchPredictVideosOperationInternal(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=Oy(t);return i=F("{resourceName}:fetchPredictOperation",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fT(e){const t={},n=s(e,["data"]);if(n!=null&&a(t,["data"],n),s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function pT(e){const t={},n=s(e,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>TT(i))),a(t,["parts"],r)}const o=s(e,["role"]);return o!=null&&a(t,["role"],o),t}function hT(e,t,n){const o={},r=s(t,["expireTime"]);n!==void 0&&r!=null&&a(n,["expireTime"],r);const i=s(t,["newSessionExpireTime"]);n!==void 0&&i!=null&&a(n,["newSessionExpireTime"],i);const l=s(t,["uses"]);n!==void 0&&l!=null&&a(n,["uses"],l);const u=s(t,["liveConnectConstraints"]);n!==void 0&&u!=null&&a(n,["bidiGenerateContentSetup"],xT(e,u));const c=s(t,["lockAdditionalFields"]);return n!==void 0&&c!=null&&a(n,["fieldMask"],c),o}function mT(e,t){const n={},o=s(t,["config"]);return o!=null&&a(n,["config"],hT(e,o,n)),n}function gT(e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const o=s(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function yT(e){const t={},n=s(e,["id"]);n!=null&&a(t,["id"],n);const o=s(e,["args"]);o!=null&&a(t,["args"],o);const r=s(e,["name"]);if(r!=null&&a(t,["name"],r),s(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function vT(e){const t={};if(s(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(e,["enableWidget"]);return n!=null&&a(t,["enableWidget"],n),t}function CT(e){const t={};if(s(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(e,["timeRangeFilter"]);return n!=null&&a(t,["timeRangeFilter"],n),t}function ET(e,t){const n={},o=s(e,["generationConfig"]);t!==void 0&&o!=null&&a(t,["setup","generationConfig"],o);const r=s(e,["responseModalities"]);t!==void 0&&r!=null&&a(t,["setup","generationConfig","responseModalities"],r);const i=s(e,["temperature"]);t!==void 0&&i!=null&&a(t,["setup","generationConfig","temperature"],i);const l=s(e,["topP"]);t!==void 0&&l!=null&&a(t,["setup","generationConfig","topP"],l);const u=s(e,["topK"]);t!==void 0&&u!=null&&a(t,["setup","generationConfig","topK"],u);const c=s(e,["maxOutputTokens"]);t!==void 0&&c!=null&&a(t,["setup","generationConfig","maxOutputTokens"],c);const d=s(e,["mediaResolution"]);t!==void 0&&d!=null&&a(t,["setup","generationConfig","mediaResolution"],d);const f=s(e,["seed"]);t!==void 0&&f!=null&&a(t,["setup","generationConfig","seed"],f);const h=s(e,["speechConfig"]);t!==void 0&&h!=null&&a(t,["setup","generationConfig","speechConfig"],Ia(h));const p=s(e,["thinkingConfig"]);t!==void 0&&p!=null&&a(t,["setup","generationConfig","thinkingConfig"],p);const y=s(e,["enableAffectiveDialog"]);t!==void 0&&y!=null&&a(t,["setup","generationConfig","enableAffectiveDialog"],y);const x=s(e,["systemInstruction"]);t!==void 0&&x!=null&&a(t,["setup","systemInstruction"],pT(Be(x)));const E=s(e,["tools"]);if(t!==void 0&&E!=null){let w=po(E);Array.isArray(w)&&(w=w.map(A=>_T(fo(A)))),a(t,["setup","tools"],w)}const N=s(e,["sessionResumption"]);t!==void 0&&N!=null&&a(t,["setup","sessionResumption"],ST(N));const C=s(e,["inputAudioTranscription"]);t!==void 0&&C!=null&&a(t,["setup","inputAudioTranscription"],C);const v=s(e,["outputAudioTranscription"]);t!==void 0&&v!=null&&a(t,["setup","outputAudioTranscription"],v);const g=s(e,["realtimeInputConfig"]);t!==void 0&&g!=null&&a(t,["setup","realtimeInputConfig"],g);const T=s(e,["contextWindowCompression"]);t!==void 0&&T!=null&&a(t,["setup","contextWindowCompression"],T);const _=s(e,["proactivity"]);return t!==void 0&&_!=null&&a(t,["setup","proactivity"],_),n}function xT(e,t){const n={},o=s(t,["model"]);o!=null&&a(n,["setup","model"],oe(e,o));const r=s(t,["config"]);return r!=null&&a(n,["config"],ET(r,n)),n}function TT(e){const t={},n=s(e,["mediaResolution"]);n!=null&&a(t,["mediaResolution"],n);const o=s(e,["codeExecutionResult"]);o!=null&&a(t,["codeExecutionResult"],o);const r=s(e,["executableCode"]);r!=null&&a(t,["executableCode"],r);const i=s(e,["fileData"]);i!=null&&a(t,["fileData"],gT(i));const l=s(e,["functionCall"]);l!=null&&a(t,["functionCall"],yT(l));const u=s(e,["functionResponse"]);u!=null&&a(t,["functionResponse"],u);const c=s(e,["inlineData"]);c!=null&&a(t,["inlineData"],fT(c));const d=s(e,["text"]);d!=null&&a(t,["text"],d);const f=s(e,["thought"]);f!=null&&a(t,["thought"],f);const h=s(e,["thoughtSignature"]);h!=null&&a(t,["thoughtSignature"],h);const p=s(e,["videoMetadata"]);return p!=null&&a(t,["videoMetadata"],p),t}function ST(e){const t={},n=s(e,["handle"]);if(n!=null&&a(t,["handle"],n),s(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function _T(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(h=>h)),a(t,["functionDeclarations"],f)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(e,["googleSearchRetrieval"]);o!=null&&a(t,["googleSearchRetrieval"],o);const r=s(e,["computerUse"]);r!=null&&a(t,["computerUse"],r);const i=s(e,["fileSearch"]);i!=null&&a(t,["fileSearch"],i);const l=s(e,["codeExecution"]);if(l!=null&&a(t,["codeExecution"],l),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(e,["googleMaps"]);u!=null&&a(t,["googleMaps"],vT(u));const c=s(e,["googleSearch"]);c!=null&&a(t,["googleSearch"],CT(c));const d=s(e,["urlContext"]);return d!=null&&a(t,["urlContext"],d),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wT(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const o=e[n];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const r=Object.keys(o).map(i=>`${n}.${i}`);t.push(...r)}else t.push(n)}return t.join(",")}function IT(e,t){let n=null;const o=e.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const i=o.setup;typeof i=="object"&&i!==null?(e.bidiGenerateContentSetup=i,n=i):delete e.bidiGenerateContentSetup}else o!==void 0&&delete e.bidiGenerateContentSetup;const r=e.fieldMask;if(n){const i=wT(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)i?e.fieldMask=i:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];r.length>0&&(u=r.map(d=>l.includes(d)?`generationConfig.${d}`:d));const c=[];i&&c.push(i),u.length>0&&c.push(...u),c.length>0?e.fieldMask=c.join(","):delete e.fieldMask}else delete e.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?e.fieldMask=r.join(","):delete e.fieldMask;return e}class AT extends Jt{constructor(t){super(),this.apiClient=t}async create(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=mT(this.apiClient,t);i=F("auth_tokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query;const c=IT(u,t.config);return r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kT(e,t){const n={},o=s(e,["force"]);return t!==void 0&&o!=null&&a(t,["_query","force"],o),n}function NT(e){const t={},n=s(e,["name"]);n!=null&&a(t,["_url","name"],n);const o=s(e,["config"]);return o!=null&&kT(o,t),t}function PT(e){const t={},n=s(e,["name"]);return n!=null&&a(t,["_url","name"],n),t}function RT(e,t){const n={},o=s(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const r=s(e,["pageToken"]);return t!==void 0&&r!=null&&a(t,["_query","pageToken"],r),n}function MT(e){const t={},n=s(e,["parent"]);n!=null&&a(t,["_url","parent"],n);const o=s(e,["config"]);return o!=null&&RT(o,t),t}function DT(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=s(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const r=s(e,["documents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(t,["documents"],i)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LT extends Jt{constructor(t){super(),this.apiClient=t,this.list=async n=>new Nn(Bt.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:n.parent,config:o.config}),await this.listInternal(n),n)}async get(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=PT(t);return i=F("{name}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async delete(t){var n,o;let r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=NT(t);r=F("{name}",l._url),i=l._query,delete l._url,delete l._query,await this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=MT(t);return i=F("{parent}/documents",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=DT(c),f=new p0;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class UT extends Jt{constructor(t,n=new LT(t)){super(),this.apiClient=t,this.documents=n,this.list=async(o={})=>new Nn(Bt.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(o),o)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=wx(t);return i=F("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async get(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=kx(t);return i=F("{name}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async delete(t){var n,o;let r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Ax(t);r=F("{name}",l._url),i=l._query,delete l._url,delete l._query,await this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Lx(t);return i=F("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=Ux(c),f=new h0;return Object.assign(f,d),f})}}async uploadToFileSearchStoreInternal(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Fx(t);return i=F("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=Vx(c),f=new m0;return Object.assign(f,d),f})}}async importFile(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Rx(t);return i=F("{file_search_store_name}:importFile",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=Px(c),f=new xa;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function FT(e,t){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],o),n}function VT(e,t){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],o),n}function HT(e,t){const n={},o=s(e,["sdkHttpResponse"]);return o!=null&&a(n,["sdkHttpResponse"],o),n}function GT(e,t){const n={},o=s(e,["sdkHttpResponse"]);return o!=null&&a(n,["sdkHttpResponse"],o),n}function zT(e,t,n){const o={};if(s(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=s(e,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&a(t,["displayName"],r),s(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=s(e,["epochCount"]);t!==void 0&&i!=null&&a(t,["tuningTask","hyperparameters","epochCount"],i);const l=s(e,["learningRateMultiplier"]);if(l!=null&&a(o,["tuningTask","hyperparameters","learningRateMultiplier"],l),s(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(s(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(s(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=s(e,["batchSize"]);t!==void 0&&u!=null&&a(t,["tuningTask","hyperparameters","batchSize"],u);const c=s(e,["learningRate"]);if(t!==void 0&&c!=null&&a(t,["tuningTask","hyperparameters","learningRate"],c),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(s(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return o}function qT(e,t,n){const o={};let r=s(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const y=s(e,["validationDataset"]);t!==void 0&&y!=null&&a(t,["supervisedTuningSpec"],Nd(y))}else if(r==="PREFERENCE_TUNING"){const y=s(e,["validationDataset"]);t!==void 0&&y!=null&&a(t,["preferenceOptimizationSpec"],Nd(y))}const i=s(e,["tunedModelDisplayName"]);t!==void 0&&i!=null&&a(t,["tunedModelDisplayName"],i);const l=s(e,["description"]);t!==void 0&&l!=null&&a(t,["description"],l);let u=s(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const y=s(e,["epochCount"]);t!==void 0&&y!=null&&a(t,["supervisedTuningSpec","hyperParameters","epochCount"],y)}else if(u==="PREFERENCE_TUNING"){const y=s(e,["epochCount"]);t!==void 0&&y!=null&&a(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],y)}let c=s(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const y=s(e,["learningRateMultiplier"]);t!==void 0&&y!=null&&a(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],y)}else if(c==="PREFERENCE_TUNING"){const y=s(e,["learningRateMultiplier"]);t!==void 0&&y!=null&&a(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],y)}let d=s(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const y=s(e,["exportLastCheckpointOnly"]);t!==void 0&&y!=null&&a(t,["supervisedTuningSpec","exportLastCheckpointOnly"],y)}else if(d==="PREFERENCE_TUNING"){const y=s(e,["exportLastCheckpointOnly"]);t!==void 0&&y!=null&&a(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],y)}let f=s(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const y=s(e,["adapterSize"]);t!==void 0&&y!=null&&a(t,["supervisedTuningSpec","hyperParameters","adapterSize"],y)}else if(f==="PREFERENCE_TUNING"){const y=s(e,["adapterSize"]);t!==void 0&&y!=null&&a(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],y)}if(s(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(s(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const h=s(e,["labels"]);t!==void 0&&h!=null&&a(t,["labels"],h);const p=s(e,["beta"]);return t!==void 0&&p!=null&&a(t,["preferenceOptimizationSpec","hyperParameters","beta"],p),o}function BT(e,t){const n={},o=s(e,["baseModel"]);o!=null&&a(n,["baseModel"],o);const r=s(e,["preTunedModel"]);r!=null&&a(n,["preTunedModel"],r);const i=s(e,["trainingDataset"]);i!=null&&jT(i);const l=s(e,["config"]);return l!=null&&zT(l,n),n}function bT(e,t){const n={},o=s(e,["baseModel"]);o!=null&&a(n,["baseModel"],o);const r=s(e,["preTunedModel"]);r!=null&&a(n,["preTunedModel"],r);const i=s(e,["trainingDataset"]);i!=null&&eS(i,n,t);const l=s(e,["config"]);return l!=null&&qT(l,n,t),n}function JT(e,t){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],o),n}function $T(e,t){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],o),n}function WT(e,t,n){const o={},r=s(e,["pageSize"]);t!==void 0&&r!=null&&a(t,["_query","pageSize"],r);const i=s(e,["pageToken"]);t!==void 0&&i!=null&&a(t,["_query","pageToken"],i);const l=s(e,["filter"]);return t!==void 0&&l!=null&&a(t,["_query","filter"],l),o}function YT(e,t,n){const o={},r=s(e,["pageSize"]);t!==void 0&&r!=null&&a(t,["_query","pageSize"],r);const i=s(e,["pageToken"]);t!==void 0&&i!=null&&a(t,["_query","pageToken"],i);const l=s(e,["filter"]);return t!==void 0&&l!=null&&a(t,["_query","filter"],l),o}function OT(e,t){const n={},o=s(e,["config"]);return o!=null&&WT(o,n),n}function KT(e,t){const n={},o=s(e,["config"]);return o!=null&&YT(o,n),n}function XT(e,t){const n={},o=s(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=s(e,["nextPageToken"]);r!=null&&a(n,["nextPageToken"],r);const i=s(e,["tunedModels"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>Ih(u))),a(n,["tuningJobs"],l)}return n}function QT(e,t){const n={},o=s(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=s(e,["nextPageToken"]);r!=null&&a(n,["nextPageToken"],r);const i=s(e,["tuningJobs"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>_l(u))),a(n,["tuningJobs"],l)}return n}function ZT(e,t){const n={},o=s(e,["name"]);o!=null&&a(n,["model"],o);const r=s(e,["name"]);return r!=null&&a(n,["endpoint"],r),n}function jT(e,t){const n={};if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=s(e,["examples"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),a(n,["examples","examples"],r)}return n}function eS(e,t,n){const o={};let r=s(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const l=s(e,["gcsUri"]);t!==void 0&&l!=null&&a(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(r==="PREFERENCE_TUNING"){const l=s(e,["gcsUri"]);t!==void 0&&l!=null&&a(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let i=s(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const l=s(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&a(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(i==="PREFERENCE_TUNING"){const l=s(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&a(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(s(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function Ih(e,t){const n={},o=s(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=s(e,["name"]);r!=null&&a(n,["name"],r);const i=s(e,["state"]);i!=null&&a(n,["state"],sh(i));const l=s(e,["createTime"]);l!=null&&a(n,["createTime"],l);const u=s(e,["tuningTask","startTime"]);u!=null&&a(n,["startTime"],u);const c=s(e,["tuningTask","completeTime"]);c!=null&&a(n,["endTime"],c);const d=s(e,["updateTime"]);d!=null&&a(n,["updateTime"],d);const f=s(e,["description"]);f!=null&&a(n,["description"],f);const h=s(e,["baseModel"]);h!=null&&a(n,["baseModel"],h);const p=s(e,["_self"]);return p!=null&&a(n,["tunedModel"],ZT(p)),n}function _l(e,t){const n={},o=s(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=s(e,["name"]);r!=null&&a(n,["name"],r);const i=s(e,["state"]);i!=null&&a(n,["state"],sh(i));const l=s(e,["createTime"]);l!=null&&a(n,["createTime"],l);const u=s(e,["startTime"]);u!=null&&a(n,["startTime"],u);const c=s(e,["endTime"]);c!=null&&a(n,["endTime"],c);const d=s(e,["updateTime"]);d!=null&&a(n,["updateTime"],d);const f=s(e,["error"]);f!=null&&a(n,["error"],f);const h=s(e,["description"]);h!=null&&a(n,["description"],h);const p=s(e,["baseModel"]);p!=null&&a(n,["baseModel"],p);const y=s(e,["tunedModel"]);y!=null&&a(n,["tunedModel"],y);const x=s(e,["preTunedModel"]);x!=null&&a(n,["preTunedModel"],x);const E=s(e,["supervisedTuningSpec"]);E!=null&&a(n,["supervisedTuningSpec"],E);const N=s(e,["preferenceOptimizationSpec"]);N!=null&&a(n,["preferenceOptimizationSpec"],N);const C=s(e,["tuningDataStats"]);C!=null&&a(n,["tuningDataStats"],C);const v=s(e,["encryptionSpec"]);v!=null&&a(n,["encryptionSpec"],v);const g=s(e,["partnerModelTuningSpec"]);g!=null&&a(n,["partnerModelTuningSpec"],g);const T=s(e,["customBaseModel"]);T!=null&&a(n,["customBaseModel"],T);const _=s(e,["experiment"]);_!=null&&a(n,["experiment"],_);const w=s(e,["labels"]);w!=null&&a(n,["labels"],w);const A=s(e,["outputUri"]);A!=null&&a(n,["outputUri"],A);const R=s(e,["pipelineJob"]);R!=null&&a(n,["pipelineJob"],R);const P=s(e,["serviceAccount"]);P!=null&&a(n,["serviceAccount"],P);const D=s(e,["tunedModelDisplayName"]);D!=null&&a(n,["tunedModelDisplayName"],D);const Y=s(e,["veoTuningSpec"]);return Y!=null&&a(n,["veoTuningSpec"],Y),n}function tS(e,t){const n={},o=s(e,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=s(e,["name"]);r!=null&&a(n,["name"],r);const i=s(e,["metadata"]);i!=null&&a(n,["metadata"],i);const l=s(e,["done"]);l!=null&&a(n,["done"],l);const u=s(e,["error"]);return u!=null&&a(n,["error"],u),n}function Nd(e,t){const n={},o=s(e,["gcsUri"]);o!=null&&a(n,["validationDatasetUri"],o);const r=s(e,["vertexDatasetResource"]);return r!=null&&a(n,["validationDatasetUri"],r),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nS extends Jt{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Nn(Bt.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var o;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const r={tunedModelName:n.baseModel};!((o=n.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(r.checkpointId=n.config.preTunedModelCheckpointId);const i=Object.assign(Object.assign({},n),{preTunedModel:r});return i.baseModel=void 0,await this.tuneInternal(i)}else{const r=Object.assign({},n);return await this.tuneInternal(r)}else{const r=Object.assign({},n),i=await this.tuneMldevInternal(r);let l="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?l=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(l=i.name.split("/operations/")[0]),{name:l,state:yl.JOB_STATE_QUEUED}}}}async getInternal(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=$T(t);return u=F("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>_l(f))}else{const d=JT(t);return u=F("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>Ih(f))}}async listInternal(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=KT(t);return u=F("tuningJobs",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=QT(f),p=new ld;return Object.assign(p,h),p})}else{const d=OT(t);return u=F("tunedModels",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=XT(f),p=new ld;return Object.assign(p,h),p})}}async cancel(t){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=VT(t);return u=F("{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=GT(f),p=new ad;return Object.assign(p,h),p})}else{const d=FT(t);return u=F("{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=HT(f),p=new ad;return Object.assign(p,h),p})}}async tuneInternal(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=bT(t,t);return i=F("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>_l(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=BT(t);return i=F("tunedModels",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>tS(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oS{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const rS=1024*1024*8,iS=3,sS=1e3,lS=2,vi="x-goog-upload-status";async function aS(e,t,n){var o;const r=await Ah(e,t,n),i=await(r==null?void 0:r.json());if(((o=r==null?void 0:r.headers)===null||o===void 0?void 0:o[vi])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return i.file}async function uS(e,t,n){var o;const r=await Ah(e,t,n),i=await(r==null?void 0:r.json());if(((o=r==null?void 0:r.headers)===null||o===void 0?void 0:o[vi])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=eh(i),u=new Ta;return Object.assign(u,l),u}async function Ah(e,t,n){var o,r;let i=0,l=0,u=new vl(new Response),c="upload";for(i=e.size;l<i;){const d=Math.min(rS,i-l),f=e.slice(l,l+d);l+d>=i&&(c+=", finalize");let h=0,p=sS;for(;h<iS&&(u=await n.request({path:"",body:f,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(l),"Content-Length":String(d)}}}),!(!((o=u==null?void 0:u.headers)===null||o===void 0)&&o[vi]));)h++,await dS(p),p=p*lS;if(l+=d,((r=u==null?void 0:u.headers)===null||r===void 0?void 0:r[vi])!=="active")break;if(i<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function cS(e){return{size:e.size,type:e.type}}function dS(e){return new Promise(t=>setTimeout(t,e))}class fS{async upload(t,n,o){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await aS(t,n,o)}async uploadToFileSearchStore(t,n,o){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await uS(t,n,o)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await cS(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pS{create(t,n,o){return new hS(t,n,o)}}class hS{constructor(t,n,o){this.url=t,this.headers=n,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Pd="x-goog-api-key";class mS{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(Pd)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(Pd,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gS="gl-node/";class yS{constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const o=Wy(t.httpOptions,t.vertexai,void 0,void 0);o&&(t.httpOptions?t.httpOptions.baseUrl=o:t.httpOptions={baseUrl:o}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new mS(this.apiKey);this.apiClient=new $x({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:gS+"web",uploader:new fS,downloader:new oS}),this.models=new cT(this.apiClient),this.live=new rT(this.apiClient,r,new pS),this.batches=new xv(this.apiClient),this.chats=new nC(this.models,this.apiClient),this.caches=new jv(this.apiClient),this.files=new fC(this.apiClient),this.operations=new dT(this.apiClient),this.authTokens=new AT(this.apiClient),this.tunings=new nS(this.apiClient),this.fileSearchStores=new UT(this.apiClient)}}const vS=async e=>{var t,n,o,r;try{const u=(r=(o=(n=(t=(await new yS({apiKey:"PLACEHOLDER_API_KEY"}).models.generateContent({model:"gemini-2.5-flash-image",contents:{parts:[{text:e}]},config:{imageConfig:{aspectRatio:"1:1"}}})).candidates)==null?void 0:t[0])==null?void 0:n.content)==null?void 0:o.parts)==null?void 0:r.find(c=>c.inlineData);if(u&&u.inlineData)return`data:${u.inlineData.mimeType};base64,${u.inlineData.data}`;throw new Error("No image data returned from API")}catch(i){throw console.error("Image generation failed:",i),i}},Ci=1080,Rd=["Roboto","Open Sans","Montserrat","Poppins","Lato","Oswald","Raleway","Nunito","Quicksand","Josefin Sans","Ubuntu","Dosis","Titillium Web","Barlow","Heebo","Cabin","Exo 2","Didact Gothic","Varela Round","Merriweather","Playfair Display","Lora","Roboto Slab","Cinzel","Vollkorn","Old Standard TT","Dm Serif Display","Alice","Alike","Anton","Bebas Neue","Fjalla One","Abril Fatface","Alfa Slab One","Bangers","Russo One","Luckiest+Guy","Black Ops One","Passion One","Audiowide","Orbitron","Press Start 2P","Monoton","Righteous","Fredoka One","Changa One","Lilita One","Concert One","Carter One","Bowlby One SC","Sigmar One","Ultra","Lobster","Pacifico","Dancing Script","Caveat","Satisfy","Great Vibes","Shadows Into Light","Indie Flower","Amatic SC","Permanent Marker","Sacramento","Cookie","Yellowtail","Courgette","Allura","Parisienne","Kaushan Script","Marck Script","Tangerine","Mr Dafoe","Berkshire Swash","Playball","Yesteryear","Zeyada","League Script","Cedarville Cursive","Comic Neue","Chewy","Handlee","Coming Soon","Patrick Hand","Architects Daughter","Kalam","Gloria Hallelujah","Covered By Your Grace","Annie Use Your Telescope","Nothing You Could Do","Reenie Beanie","Rock Salt","Special Elite","Boogaloo","Neucha","Amita","Creepster","Comfortaa","Signika","Abel","Acme","El Messiri","Merienda","Voltaire","Unkempt","Nanum Pen Script","Lobster Two"].sort(),Md=["#ffffff","#000000","#ef4444","#f97316","#eab308","#22c55e","#3b82f6","#a855f7","transparent"],Ei=(e,t)=>Math.sqrt(Math.pow(t.clientX-e.clientX,2)+Math.pow(t.clientY-e.clientY,2)),xi=(e,t)=>Math.atan2(t.clientY-e.clientY,t.clientX-e.clientX)*180/Math.PI,Ti=(e,t)=>({x:(e.clientX+t.clientX)/2,y:(e.clientY+t.clientY)/2}),CS=e=>new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"}).format(new Date(e));function me({icon:e,label:t,onClick:n,active:o,danger:r}){return m.jsxs("button",{onClick:n,className:`min-w-[64px] flex flex-col items-center gap-1.5 p-2 rounded-lg transition-all select-none snap-center ${o?"bg-brand-500 text-white shadow-lg shadow-brand-500/30 -translate-y-1":r?"text-red-400 hover:bg-white/10":"text-gray-400 hover:text-white hover:bg-white/10"}`,children:[m.jsx("div",{className:`${o?"scale-110":""} transition-transform`,children:e}),m.jsx("span",{className:"text-[10px] font-medium whitespace-nowrap opacity-90",children:t})]})}function ES({title:e,onClose:t}){return m.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-700/50 bg-workspace-800/80 backdrop-blur-md sticky top-0 z-10",children:[m.jsx("h3",{className:"text-xs font-bold text-white uppercase tracking-wider flex items-center gap-2",children:e}),m.jsx("button",{onClick:t,className:"p-1.5 hover:bg-white/10 rounded-full text-gray-400 hover:text-white bg-gray-700/50",children:m.jsx(ml,{size:16})})]})}const xS=({isOpen:e,title:t,message:n,onConfirm:o,onCancel:r})=>e?m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm animate-in fade-in duration-200 px-4",children:m.jsxs("div",{className:"bg-workspace-800/80 backdrop-blur-xl border border-gray-600/50 rounded-xl p-6 shadow-2xl max-w-sm w-full animate-in zoom-in-95 duration-200",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-4 text-amber-500",children:[m.jsx(Ey,{size:24}),m.jsx("h3",{className:"text-lg font-bold text-white",children:t})]}),m.jsx("p",{className:"text-gray-200 mb-6 text-sm leading-relaxed",children:n}),m.jsxs("div",{className:"flex gap-3 justify-end",children:[m.jsx("button",{onClick:r,className:"px-4 py-2 rounded-lg bg-gray-700/80 text-white hover:bg-gray-600 font-medium text-sm border border-gray-600",children:"Cancelar"}),m.jsx("button",{onClick:o,className:"px-4 py-2 rounded-lg bg-red-600 text-white hover:bg-red-500 font-bold text-sm shadow-lg",children:"Excluir"})]})]})}):null,TS=({imageUrl:e,onCancel:t,onSave:n})=>{const[o,r]=L.useState({width:0,height:0,naturalWidth:0,naturalHeight:0}),[i,l]=L.useState({x:10,y:10,width:80,height:80}),u=L.useRef(null),c=L.useRef(null),d=p=>{const y=p.currentTarget;r({width:y.width,height:y.height,naturalWidth:y.naturalWidth,naturalHeight:y.naturalHeight})},f=(p,y)=>{p.preventDefault(),p.stopPropagation();const x=u.current;if(!x)return;const E=x.getBoundingClientRect(),N=_=>{const w="touches"in _?_.touches[0].clientX:_.clientX,A="touches"in _?_.touches[0].clientY:_.clientY;return{x:(w-E.left)/E.width*100,y:(A-E.top)/E.height*100}},C=N(p.nativeEvent),v={...i},g=_=>{_.preventDefault();const w=N(_),A=w.x-C.x,R=w.y-C.y;let P={...v};if(y==="move")P.x=Math.min(Math.max(0,v.x+A),100-v.width),P.y=Math.min(Math.max(0,v.y+R),100-v.height);else{if(y.includes("w")){const D=Math.min(Math.max(0,v.x+A),v.x+v.width-5);P.width=v.width+(v.x-D),P.x=D}if(y.includes("e")&&(P.width=Math.min(Math.max(5,v.width+A),100-v.x)),y.includes("n")){const D=Math.min(Math.max(0,v.y+R),v.y+v.height-5);P.height=v.height+(v.y-D),P.y=D}y.includes("s")&&(P.height=Math.min(Math.max(5,v.height+R),100-v.y))}l(P)},T=()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",T),document.removeEventListener("touchmove",g),document.removeEventListener("touchend",T)};document.addEventListener("mousemove",g),document.addEventListener("mouseup",T),document.addEventListener("touchmove",g,{passive:!1}),document.addEventListener("touchend",T)},h=()=>{if(!o.naturalWidth)return;const p=document.createElement("canvas"),y=o.naturalWidth/100,x=o.naturalHeight/100,E=i.x*y,N=i.y*x,C=i.width*y,v=i.height*x;p.width=C,p.height=v;const g=p.getContext("2d");!g||!c.current||(g.drawImage(c.current,E,N,C,v,0,0,C,v),n(p.toDataURL(),C,v))};return m.jsxs("div",{className:"fixed inset-0 z-50 bg-black flex flex-col animate-in fade-in duration-200",children:[m.jsxs("div",{className:"h-14 flex items-center justify-between px-4 bg-workspace-800",children:[m.jsx("button",{onClick:t,className:"text-white text-sm font-medium",children:"Cancelar"}),m.jsx("span",{className:"text-white font-bold uppercase text-sm",children:"Recortar Imagem"}),m.jsxs("button",{onClick:h,className:"bg-brand-600 px-4 py-1.5 rounded-full text-white text-sm font-bold flex items-center gap-1",children:[m.jsx(Ca,{size:14})," Pronto"]})]}),m.jsx("div",{className:"flex-1 relative flex items-center justify-center p-8 bg-workspace-900 overflow-hidden touch-none",children:m.jsxs("div",{ref:u,className:"relative inline-block shadow-2xl",children:[m.jsx("img",{ref:c,src:e,onLoad:d,className:"max-w-full max-h-[70vh] object-contain pointer-events-none select-none block",alt:""}),o.width>0&&m.jsxs("div",{className:"absolute border-2 border-white cursor-move touch-none",style:{left:`${i.x}%`,top:`${i.y}%`,width:`${i.width}%`,height:`${i.height}%`,boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.6)"},onMouseDown:p=>f(p,"move"),onTouchStart:p=>f(p,"move"),children:[m.jsxs("div",{className:"absolute inset-0 flex flex-col pointer-events-none opacity-30",children:[m.jsx("div",{className:"flex-1 border-b border-white"}),m.jsx("div",{className:"flex-1 border-b border-white"}),m.jsx("div",{className:"flex-1"})]}),m.jsxs("div",{className:"absolute inset-0 flex pointer-events-none opacity-30",children:[m.jsx("div",{className:"flex-1 border-r border-white"}),m.jsx("div",{className:"flex-1 border-r border-white"}),m.jsx("div",{className:"flex-1"})]}),m.jsx("div",{className:"absolute -top-3 -left-3 w-6 h-6 border-t-4 border-l-4 border-white rounded-tl-sm cursor-nw-resize pointer-events-auto touch-none",onMouseDown:p=>f(p,"nw"),onTouchStart:p=>f(p,"nw")}),m.jsx("div",{className:"absolute -top-3 -right-3 w-6 h-6 border-t-4 border-r-4 border-white rounded-tr-sm cursor-ne-resize pointer-events-auto touch-none",onMouseDown:p=>f(p,"ne"),onTouchStart:p=>f(p,"ne")}),m.jsx("div",{className:"absolute -bottom-3 -left-3 w-6 h-6 border-b-4 border-l-4 border-white rounded-bl-sm cursor-sw-resize pointer-events-auto touch-none",onMouseDown:p=>f(p,"sw"),onTouchStart:p=>f(p,"sw")}),m.jsx("div",{className:"absolute -bottom-3 -right-3 w-6 h-6 border-b-4 border-r-4 border-white rounded-br-sm cursor-se-resize pointer-events-auto touch-none",onMouseDown:p=>f(p,"se"),onTouchStart:p=>f(p,"se")})]})]})})]})},SS=({imageUrl:e,initialMaskUrl:t,onCancel:n,onSave:o})=>{var Z,Se;const[r,i]=L.useState("erase"),[l,u]=L.useState(30),[c,d]=L.useState(80),[f,h]=L.useState(40),[p,y]=L.useState(!1),x=L.useRef(null),E=L.useRef(null),N=L.useRef(null),[C,v]=L.useState({x:window.innerWidth/2,y:window.innerHeight/2,scale:.85,rotation:0}),g=L.useRef(C);L.useEffect(()=>{g.current=C},[C]),L.useEffect(()=>{const V=new Image;V.crossOrigin="Anonymous",V.src=e,V.onload=()=>{E.current=V;const b=x.current;if(!b)return;b.width=V.width,b.height=V.height;const J=b.getContext("2d",{willReadFrequently:!0});if(!J)return;if(J.drawImage(V,0,0),t){const O=new Image;O.crossOrigin="Anonymous",O.src=t,O.onload=()=>{J.globalCompositeOperation="destination-in",J.drawImage(O,0,0,b.width,b.height),J.globalCompositeOperation="source-over"}}const k=(window.innerWidth-40)/V.width,H=(window.innerHeight-200)/V.height,U=Math.min(k,H,1);v({x:window.innerWidth/2,y:window.innerHeight/2-50,scale:U,rotation:0})}},[e,t]),L.useEffect(()=>{const V=N.current;if(!V)return;let b=!1,J={...g.current},k=0,H=0,U={x:0,y:0},O=!1;const K=B=>{if(B.preventDefault(),B.ctrlKey){const ee=B.deltaY>0?.9:1.1;v(fe=>({...fe,scale:Math.min(5,Math.max(.1,fe.scale*ee))}))}else v(ee=>({...ee,x:ee.x-B.deltaX,y:ee.y-B.deltaY}))},ue=B=>{if(B.touches.length===2)b=!0,O=!1,J={...g.current},k=Ei(B.touches[0],B.touches[1]),H=xi(B.touches[0],B.touches[1]),U=Ti(B.touches[0],B.touches[1]);else if(B.touches.length===1&&!b){O=!0;const{x:ee,y:fe}=T(B.touches[0].clientX,B.touches[0].clientY);w(ee,fe)}},re=B=>{if(b&&B.touches.length===2){B.preventDefault(),B.stopPropagation();const ee=Ei(B.touches[0],B.touches[1]),fe=xi(B.touches[0],B.touches[1]),we=Ti(B.touches[0],B.touches[1]),Ke=ee/k;let Ve=fe-H;Ve>180&&(Ve-=360),Ve<-180&&(Ve+=360);const Je=Math.min(10,Math.max(.1,J.scale*Ke)),de=we.x+(J.x-U.x)*Ke,te=we.y+(J.y-U.y)*Ke;v({x:de,y:te,scale:Je,rotation:J.rotation+Ve})}else if(O&&B.touches.length===1){B.preventDefault();const{x:ee,y:fe}=T(B.touches[0].clientX,B.touches[0].clientY);A(ee,fe)}},ce=B=>{B.touches.length<2&&(b=!1),B.touches.length===0&&(O=!1)};return V.addEventListener("wheel",K,{passive:!1}),V.addEventListener("touchstart",ue,{passive:!1}),V.addEventListener("touchmove",re,{passive:!1}),V.addEventListener("touchend",ce),()=>{V.removeEventListener("wheel",K),V.removeEventListener("touchstart",ue),V.removeEventListener("touchmove",re),V.removeEventListener("touchend",ce)}},[r,l,c,f,p]);const T=(V,b)=>{if(!x.current)return{x:0,y:0};const J=V-g.current.x,k=b-g.current.y,H=-g.current.rotation*(Math.PI/180),U=Math.cos(H),O=Math.sin(H),K=J*U-k*O,ue=J*O+k*U,re=K/g.current.scale,ce=ue/g.current.scale,B=re+x.current.width/2,ee=ce+x.current.height/2;return{x:B,y:ee}},_=(V,b)=>{const J=x.current;if(!J||!E.current)return;const k=J.getContext("2d");k&&(r==="erase"?(k.globalCompositeOperation="destination-out",k.beginPath(),k.arc(V,b,l/2,0,Math.PI*2),c<100?(k.shadowBlur=l/2*(1-c/100),k.shadowColor="black"):(k.shadowBlur=0,k.filter="none"),k.fill(),k.shadowBlur=0):r==="restore"&&(k.globalCompositeOperation="source-over",k.save(),k.beginPath(),k.arc(V,b,l/2,0,Math.PI*2),c>=100&&(k.filter="none"),k.clip(),k.drawImage(E.current,0,0),k.restore()))},w=(V,b)=>{r==="erase"||r==="restore"?_(V,b):r==="wand"?D(V,b):r==="smart"&&Y(V,b)},A=(V,b)=>{(r==="erase"||r==="restore")&&_(V,b)},R=V=>{const{x:b,y:J}=T(V.clientX,V.clientY);w(b,J)},P=V=>{if(V.buttons===1){const{x:b,y:J}=T(V.clientX,V.clientY);A(b,J)}},D=(V,b)=>{const J=x.current;if(!J)return;const k=J.getContext("2d",{willReadFrequently:!0});if(!k)return;const H=k.getImageData(0,0,J.width,J.height),U=H.data,O=Math.floor(V),K=Math.floor(b);if(O<0||O>=J.width||K<0||K>=J.height)return;const ue=(K*J.width+O)*4,re=U[ue],ce=U[ue+1],B=U[ue+2],ee=U[ue+3];if(!p&&ee===0)return;const fe=f*2.55;for(let we=0;we<U.length;we+=4){if(U[we+3]===0&&!p)continue;const Ke=U[we],Ve=U[we+1],Je=U[we+2];Math.abs(Ke-re)+Math.abs(Ve-ce)+Math.abs(Je-B)<fe&&(p?U[we+3]=255:U[we+3]=0)}k.putImageData(H,0,0)},Y=(V,b)=>{const J=x.current;if(!J)return;const k=J.getContext("2d",{willReadFrequently:!0});if(!k)return;const H=J.width,U=J.height,O=k.getImageData(0,0,H,U),K=O.data,ue=Math.floor(V),re=Math.floor(b);if(ue<0||ue>=H||re<0||re>=U)return;const ce=[[ue,re]],B=new Uint8Array(H*U),ee=(re*H+ue)*4,fe=K[ee],we=K[ee+1],Ke=K[ee+2],Ve=K[ee+3],Je=f*2.55;if(!(!p&&Ve===0)){for(;ce.length;){const[de,te]=ce.pop(),It=te*H+de;if(B[It])continue;B[It]=1;const At=It*4,gt=K[At],le=K[At+1],Pn=K[At+2];Math.abs(gt-fe)+Math.abs(le-we)+Math.abs(Pn-Ke)>Je||(de>0&&ce.push([de-1,te]),de<H-1&&ce.push([de+1,te]),te>0&&ce.push([de,te-1]),te<U-1&&ce.push([de,te+1]))}for(let de=0;de<H*U;de++)p?B[de]||(K[de*4+3]=0):B[de]&&(K[de*4+3]=0);k.putImageData(O,0,0)}},Q=()=>{x.current&&o(x.current.toDataURL())};return m.jsxs("div",{className:"fixed inset-0 z-50 bg-workspace-900 flex flex-col animate-in fade-in duration-200",children:[m.jsxs("div",{className:"h-14 flex items-center justify-between px-4 bg-workspace-800 border-b border-gray-700 z-10",children:[m.jsx("button",{onClick:n,className:"text-white text-sm font-medium",children:"Cancelar"}),m.jsx("span",{className:"text-white font-bold uppercase text-sm",children:"Removedor de Fundo"}),m.jsxs("button",{onClick:Q,className:"bg-brand-600 px-4 py-1.5 rounded-full text-white text-sm font-bold flex items-center gap-1",children:[m.jsx(Ca,{size:14})," Salvar"]})]}),m.jsx("div",{ref:N,className:"flex-1 relative overflow-hidden cursor-crosshair touch-none checkerboard",onMouseDown:R,onMouseMove:P,children:m.jsx("div",{style:{transform:`translate(${C.x}px, ${C.y}px) scale(${C.scale}) rotate(${C.rotation}deg)`,transformOrigin:"top left",position:"absolute",top:0,left:0},className:"origin-top-left",children:m.jsxs("div",{style:{position:"relative",width:((Z=E.current)==null?void 0:Z.width)||0,height:((Se=E.current)==null?void 0:Se.height)||0,transform:"translate(-50%, -50%)"},children:[m.jsx("img",{src:e,className:"absolute inset-0 opacity-20 pointer-events-none grayscale",alt:"Ghost"}),m.jsx("canvas",{ref:x,className:"absolute inset-0"})]})})}),m.jsxs("div",{className:"bg-workspace-800 border-t border-gray-700 p-4 safe-area-pb z-10",children:[m.jsxs("div",{className:"flex items-center justify-center gap-6 mb-4",children:[(r==="erase"||r==="restore")&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex flex-col items-center gap-1",children:[m.jsx("span",{className:"text-[10px] text-gray-400 font-bold uppercase",children:"Tamanho"}),m.jsx("input",{type:"range",min:"5",max:"100",value:l,onChange:V=>u(Number(V.target.value)),className:"w-24 h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer accent-brand-500"})]}),m.jsxs("div",{className:"flex flex-col items-center gap-1",children:[m.jsx("span",{className:"text-[10px] text-gray-400 font-bold uppercase",children:"Dureza"}),m.jsx("input",{type:"range",min:"0",max:"100",value:c,onChange:V=>d(Number(V.target.value)),className:"w-24 h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer accent-brand-500"})]})]}),(r==="wand"||r==="smart"||r==="auto")&&m.jsxs("div",{className:"flex flex-col items-center gap-1",children:[m.jsx("span",{className:"text-[10px] text-gray-400 font-bold uppercase",children:"Tolerncia"}),m.jsx("input",{type:"range",min:"0",max:"100",value:f,onChange:V=>h(Number(V.target.value)),className:"w-24 h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer accent-brand-500"})]})]}),m.jsxs("div",{className:"flex items-center justify-between gap-2 overflow-x-auto pb-2 custom-scrollbar",children:[m.jsx(me,{icon:m.jsx(cl,{size:20}),label:"Apagar",active:r==="erase",onClick:()=>i("erase")}),m.jsx(me,{icon:m.jsx(wy,{size:20}),label:"Restaurar",active:r==="restore",onClick:()=>i("restore")}),m.jsx("div",{className:"w-px h-8 bg-gray-700 mx-2"}),m.jsx(me,{icon:m.jsx(jp,{size:20}),label:"Varinha",active:r==="wand",onClick:()=>i("wand")}),m.jsx(me,{icon:m.jsx(Qp,{size:20}),label:"Objeto",active:r==="smart",onClick:()=>i("smart")}),(r==="wand"||r==="smart")&&m.jsx("button",{onClick:()=>y(!p),className:`ml-2 px-3 py-1 rounded text-xs font-bold border ${p?"bg-green-600 border-green-500 text-white":"bg-red-600 border-red-500 text-white"}`,children:p?"MANTER":"APAGAR"})]})]})]})},_S=({isOpen:e,onClose:t,onCreate:n})=>{const[o,r]=L.useState("Novo Projeto"),[i,l]=L.useState(1080),[u,c]=L.useState(1080);return e?m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm animate-in fade-in px-4",children:m.jsxs("div",{className:"bg-workspace-800 rounded-xl border border-gray-600 shadow-2xl w-full max-w-md p-6",children:[m.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Criar Novo Projeto"}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase mb-1",children:"Nome do Projeto"}),m.jsx("input",{type:"text",value:o,onChange:d=>r(d.target.value),className:"w-full bg-workspace-900 border border-gray-600 rounded-lg p-3 text-white focus:border-brand-500 outline-none"})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase mb-1",children:"Largura (px)"}),m.jsx("input",{type:"number",value:i,onChange:d=>l(Number(d.target.value)),className:"w-full bg-workspace-900 border border-gray-600 rounded-lg p-3 text-white focus:border-brand-500 outline-none"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase mb-1",children:"Altura (px)"}),m.jsx("input",{type:"number",value:u,onChange:d=>c(Number(d.target.value)),className:"w-full bg-workspace-900 border border-gray-600 rounded-lg p-3 text-white focus:border-brand-500 outline-none"})]})]})]}),m.jsxs("div",{className:"flex justify-end gap-3 mt-8",children:[m.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-300 hover:text-white font-medium",children:"Cancelar"}),m.jsx("button",{onClick:()=>n(o,i,u),className:"px-6 py-2 bg-brand-600 hover:bg-brand-500 text-white rounded-lg font-bold",children:"Criar Projeto"})]})]})}):null},wS=()=>{const[e,t]=L.useState(0),[n,o]=L.useState([]),[r,i]=L.useState(null),[l,u]=L.useState(null);L.useEffect(()=>{const p=[...[{title:"Bem-vindo ao Kanva",text:"Crie designs incrveis para suas redes sociais com facilidade.",icon:m.jsx(pl,{size:32,className:"text-white"}),bg:"bg-gradient-to-r from-blue-600 to-purple-600"},{title:"Novas Fontes Disponveis",text:"Mais de 80 fontes para deixar seu texto com a cara do seu projeto.",icon:m.jsx(Mo,{size:32,className:"text-white"}),bg:"bg-gradient-to-r from-emerald-500 to-teal-700"},{title:"Remova Fundo com IA",text:"Use a ferramenta de varinha mgica para recortar fotos instantaneamente.",icon:m.jsx(jp,{size:32,className:"text-white"}),bg:"bg-gradient-to-r from-pink-500 to-rose-600"},{title:"Dica Pro: Camadas",text:"Segure o dedo em uma camada para ver opes avanadas.",icon:m.jsx(Kp,{size:32,className:"text-white"}),bg:"bg-gradient-to-r from-amber-500 to-orange-600"},{title:"Resetar Visualizao",text:"Toque com dois dedos na tela para resetar o zoom e rotao.",icon:m.jsx(Qp,{size:32,className:"text-white"}),bg:"bg-gradient-to-r from-indigo-500 to-blue-600"},{title:"Organize seus Projetos",text:"Crie diferentes projetos para Stories, Posts ou Capas.",icon:m.jsx(Xp,{size:32,className:"text-white"}),bg:"bg-gradient-to-r from-violet-600 to-fuchsia-600"},{title:"Contorno em Texto",text:"Adicione bordas coloridas aos seus textos para destacar.",icon:m.jsx(Ro,{size:32,className:"text-white"}),bg:"bg-gradient-to-r from-cyan-500 to-blue-500"},{title:"Formas Geomtricas",text:"Adicione estrelas, coraes e tringulos para decorar.",icon:m.jsx(fl,{size:32,className:"text-white"}),bg:"bg-gradient-to-r from-red-500 to-orange-500"},{title:"Travar Camadas",text:"Bloqueie o fundo para no mover sem querer enquanto edita.",icon:m.jsx(dl,{size:32,className:"text-white"}),bg:"bg-gradient-to-r from-slate-600 to-slate-800"},{title:"Histrico de Edio",text:"Errou? Use os botes de desfazer e refazer no topo.",icon:m.jsx(Zp,{size:32,className:"text-white"}),bg:"bg-gradient-to-r from-green-500 to-emerald-600"},{title:"Exportar em Alta",text:"Baixe seus designs em alta qualidade para postar.",icon:m.jsx(Op,{size:32,className:"text-white"}),bg:"bg-gradient-to-r from-rose-500 to-pink-600"},{title:"Opacidade Criativa",text:"Brinque com transparncia para criar marcas d'gua.",icon:m.jsx(Br,{size:32,className:"text-white"}),bg:"bg-gradient-to-r from-sky-500 to-indigo-500"},{title:"Gerao de Imagem IA",text:"Descreva o que voc imagina e a IA cria para voc.",icon:m.jsx(pl,{size:32,className:"text-white"}),bg:"bg-gradient-to-r from-purple-500 to-pink-500"},{title:"Duplicar Elementos",text:"Segure em uma camada e escolha 'Duplicar' para copiar.",icon:m.jsx(Wp,{size:32,className:"text-white"}),bg:"bg-gradient-to-r from-teal-500 to-cyan-600"},{title:"Recorte de Imagem",text:"Ajuste o enquadramento de suas fotos facilmente.",icon:m.jsx(Yp,{size:32,className:"text-white"}),bg:"bg-gradient-to-r from-orange-500 to-red-500"}]].sort(()=>.5-Math.random()).slice(0,10);o(p)},[]),L.useEffect(()=>{if(n.length===0)return;const h=setInterval(()=>{t(p=>(p+1)%n.length)},5e3);return()=>clearInterval(h)},[n.length,e]);const c=h=>{i(h.targetTouches[0].clientX)},d=h=>{u(h.targetTouches[0].clientX)},f=()=>{if(!r||!l)return;const h=r-l,p=50;h>p?t(y=>(y+1)%n.length):h<-p&&t(y=>(y-1+n.length)%n.length),i(null),u(null)};return n.length===0?null:m.jsxs("div",{className:"relative w-full h-32 md:h-40 rounded-2xl overflow-hidden mb-8 shadow-2xl group touch-pan-y",onTouchStart:c,onTouchMove:d,onTouchEnd:f,children:[m.jsx("div",{className:"flex h-full transition-transform duration-500 ease-out",style:{transform:`translateX(-${e*100}%)`},children:n.map((h,p)=>m.jsxs("div",{className:`min-w-full h-full ${h.bg} flex items-center px-6 md:px-10`,children:[m.jsx("div",{className:"mr-6 p-3 bg-white/20 rounded-full backdrop-blur-sm",children:h.icon}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg md:text-2xl font-bold text-white mb-1",children:h.title}),m.jsx("p",{className:"text-white/90 text-xs md:text-sm font-medium",children:h.text})]})]},p))}),m.jsx("div",{className:"absolute bottom-3 left-1/2 -translate-x-1/2 flex gap-2",children:n.map((h,p)=>m.jsx("button",{onClick:()=>t(p),className:`w-2 h-2 rounded-full transition-all ${p===e?"bg-white w-4":"bg-white/40"}`},p))})]})},IS=({onFinish:e})=>{const[t,n]=L.useState(0);return L.useEffect(()=>{const o=setTimeout(()=>n(1),300),r=setTimeout(()=>n(2),1e3),i=setTimeout(()=>e(),3e3);return()=>{clearTimeout(o),clearTimeout(r),clearTimeout(i)}},[e]),m.jsx("div",{className:"fixed inset-0 z-[100] bg-workspace-900 flex items-center justify-center",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:`w-24 h-24 bg-gradient-to-br from-brand-500 to-purple-600 rounded-3xl flex items-center justify-center shadow-2xl shadow-brand-500/40 relative z-10 transition-all duration-700 cubic-bezier(0.34, 1.56, 0.64, 1) ${t>=1?"scale-100 opacity-100 rotate-0":"scale-50 opacity-0 -rotate-45"}`,children:m.jsx("span",{className:"font-bold text-white text-6xl",children:"K"})}),m.jsx("div",{className:`overflow-hidden transition-all duration-1000 ease-out flex items-center ${t>=2?"max-w-[200px] opacity-100 translate-x-0":"max-w-0 opacity-0 -translate-x-10"}`,children:m.jsx("span",{className:"text-6xl font-bold text-white pl-2 tracking-tighter",children:"anva"})})]})})},AS=({onOpenProject:e,onDeleteProject:t})=>{const[n,o]=L.useState([]),[r,i]=L.useState(null),[l,u]=L.useState(!1),[c,d]=L.useState(!1);L.useEffect(()=>{const p=localStorage.getItem("kanva_projects");if(p)try{o(JSON.parse(p).sort((y,x)=>x.lastModified-y.lastModified))}catch(y){console.error("Error loading projects",y)}},[]);const f=(p,y,x)=>{const E=y>0?y:1080,N=x>0?x:1080,C={id:Date.now().toString(),name:p||"Projeto Sem Ttulo",width:E,height:N,lastModified:Date.now(),elements:[{id:"background-layer",type:q.SHAPE_RECT,x:0,y:0,width:E,height:N,rotation:0,locked:!0,visible:!0,style:{backgroundColor:"#ffffff",borderWidth:0,borderColor:"transparent",borderRadius:0}}]},v=[C,...n];localStorage.setItem("kanva_projects",JSON.stringify(v)),o(v),u(!1),e(C)},h=p=>{const y=n.filter(x=>x.id!==p);localStorage.setItem("kanva_projects",JSON.stringify(y)),o(y),i(null)};return m.jsxs("div",{className:"h-screen bg-workspace-900 text-white font-sans flex flex-col overflow-hidden",children:[m.jsxs("div",{className:"max-w-5xl mx-auto w-full flex flex-col h-full",children:[m.jsxs("div",{className:"shrink-0 p-4 md:p-8 pb-2 z-10 bg-workspace-900",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-brand-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg shadow-brand-500/20",children:m.jsx("span",{className:"font-bold text-white text-xl",children:"K"})}),m.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Kanva"})]}),m.jsx("button",{onClick:()=>d(!0),className:"p-2 bg-workspace-800 rounded-full text-gray-400 hover:text-white border border-gray-700 shadow-sm transition-colors hover:bg-workspace-700",children:m.jsx(My,{size:20})})]}),m.jsx(wS,{}),m.jsxs("h2",{className:"text-xl font-bold mb-2 text-gray-200 flex items-center gap-2",children:[m.jsx(Xp,{size:20})," Meus Projetos"]})]}),m.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-8 pt-2 custom-scrollbar",children:m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 pb-8",children:[m.jsxs("button",{onClick:()=>u(!0),className:"aspect-[3/4] rounded-2xl border-2 border-dashed border-gray-700 bg-workspace-800/50 hover:bg-workspace-800 hover:border-brand-500 transition-all flex flex-col items-center justify-center gap-3 group",children:[m.jsx("div",{className:"w-12 h-12 rounded-full bg-brand-500/20 flex items-center justify-center text-brand-500 group-hover:bg-brand-500 group-hover:text-white transition-colors",children:m.jsx(Dy,{size:24})}),m.jsx("span",{className:"font-bold text-sm text-gray-400 group-hover:text-white",children:"Novo Projeto"})]}),n.map(p=>{const y=p.width||Ci,x=p.height||Ci;return m.jsxs("div",{className:"relative aspect-[3/4] group bg-workspace-800 rounded-2xl overflow-hidden border border-gray-700 hover:border-gray-500 transition-all shadow-lg hover:shadow-2xl flex flex-col",children:[m.jsx("div",{onClick:()=>e(p),className:"flex-1 bg-white/5 cursor-pointer relative overflow-hidden checkerboard flex items-center justify-center",children:m.jsx("svg",{viewBox:`0 0 ${y} ${x}`,style:{width:"100%",height:"100%",display:"block"},preserveAspectRatio:"xMidYMid meet",children:m.jsx("foreignObject",{width:y,height:x,style:{overflow:"hidden"},children:m.jsx("div",{style:{width:"100%",height:"100%",backgroundColor:"#fff",position:"relative",overflow:"hidden"},children:p.elements.map(E=>{const N=E.type===q.TEXT,C=E.type===q.IMAGE,v=!N&&!C,g=E.type===q.SHAPE_RECT||E.type===q.SHAPE_CIRCLE;return m.jsxs("div",{style:{position:"absolute",left:E.x,top:E.y,width:E.width,height:E.height,transform:`rotate(${E.rotation}deg)`,opacity:E.style.opacity,zIndex:E.id==="background-layer"?0:1,backgroundColor:g?E.style.backgroundColor:"transparent",borderRadius:E.type===q.SHAPE_CIRCLE?"50%":E.style.borderRadius,borderWidth:g?E.style.borderWidth:0,borderColor:g?E.style.borderColor:"transparent",borderStyle:g&&E.style.borderWidth?"solid":"none",display:"flex",alignItems:"center",justifyContent:E.style.textAlign==="left"?"flex-start":E.style.textAlign==="right"?"flex-end":"center"},children:[N&&m.jsx("div",{style:{fontSize:E.style.fontSize,color:E.style.color,fontFamily:E.style.fontFamily,fontWeight:E.style.fontWeight,textAlign:E.style.textAlign||"center",width:"100%",whiteSpace:"pre-wrap",lineHeight:1.2,WebkitTextStrokeWidth:`${E.style.textStrokeWidth||0}px`,WebkitTextStrokeColor:E.style.textStrokeColor||"transparent"},children:E.content}),C&&m.jsx("div",{style:{width:"100%",height:"100%",borderRadius:`${E.style.borderRadius}px`,border:`${E.style.borderWidth||0}px solid ${E.style.borderColor||"transparent"}`,overflow:"hidden",WebkitMaskImage:E.maskEnabled&&E.maskImage?`url(${E.maskImage})`:"none",maskImage:E.maskEnabled&&E.maskImage?`url(${E.maskImage})`:"none",WebkitMaskSize:"100% 100%",maskSize:"100% 100%",WebkitMaskRepeat:"no-repeat",maskRepeat:"no-repeat"},children:m.jsx("img",{src:E.content,className:"w-full h-full",style:{objectFit:E.style.objectFit||"cover"}})}),!g&&v&&m.jsxs("svg",{viewBox:E.type===q.SHAPE_HEART?"0 0 24 24":"0 0 100 100",preserveAspectRatio:"none",style:{width:"100%",height:"100%",overflow:"visible"},children:[E.type===q.SHAPE_TRIANGLE&&m.jsx("polygon",{points:"50,0 0,100 100,100",fill:E.style.backgroundColor,stroke:E.style.borderColor,strokeWidth:E.style.borderWidth?E.style.borderWidth/2:0}),E.type===q.SHAPE_DIAMOND&&m.jsx("polygon",{points:"50,0 100,50 50,100 0,50",fill:E.style.backgroundColor,stroke:E.style.borderColor,strokeWidth:E.style.borderWidth?E.style.borderWidth/2:0}),E.type===q.SHAPE_STAR&&m.jsx("polygon",{points:"50,0 61,35 98,35 68,57 79,91 50,70 21,91 32,57 2,35 39,35",fill:E.style.backgroundColor,stroke:E.style.borderColor,strokeWidth:E.style.borderWidth?E.style.borderWidth/2:0}),E.type===q.SHAPE_HEART&&m.jsx("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z",fill:E.style.backgroundColor,stroke:E.style.borderColor,strokeWidth:E.style.borderWidth?E.style.borderWidth/2:0})]})]},E.id)})})})})}),m.jsxs("div",{className:"p-3 bg-workspace-800 border-t border-gray-700 flex items-center justify-between",children:[m.jsxs("div",{className:"flex-1 min-w-0 mr-2",children:[m.jsx("h3",{className:"font-bold text-sm text-white truncate",children:p.name}),m.jsxs("p",{className:"text-[10px] text-gray-500 flex items-center gap-1",children:[m.jsx(Iy,{size:10})," ",CS(p.lastModified)]})]}),m.jsx("button",{onClick:()=>i(p.id),className:"p-1.5 text-gray-500 hover:text-red-400 hover:bg-white/5 rounded-lg transition-colors",children:m.jsx(hl,{size:16})})]}),r===p.id&&m.jsxs("div",{className:"absolute inset-0 bg-black/80 flex flex-col items-center justify-center p-4 text-center z-10 animate-in fade-in duration-200",children:[m.jsx("p",{className:"text-white text-sm font-bold mb-3",children:"Excluir este projeto?"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>i(null),className:"px-3 py-1 bg-gray-700 text-xs rounded-md text-white",children:"Cancelar"}),m.jsx("button",{onClick:()=>h(p.id),className:"px-3 py-1 bg-red-600 text-xs rounded-md text-white",children:"Excluir"})]})]})]},p.id)})]})})]}),m.jsx(_S,{isOpen:l,onClose:()=>u(!1),onCreate:f}),c&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm animate-in fade-in px-4",children:m.jsxs("div",{className:"bg-workspace-800 rounded-xl border border-gray-600 shadow-2xl w-full max-w-sm p-6 text-center animate-in zoom-in-95",children:[m.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Sobre o App"}),m.jsxs("div",{className:"space-y-3 text-gray-300 mb-8",children:[m.jsx("p",{className:"font-medium text-lg",children:"Criado por Erik Henrique"}),m.jsx("p",{className:"text-sm text-gray-500 bg-workspace-900 py-1 px-3 rounded-full inline-block",children:"Verso apenas para testes"}),m.jsx("a",{href:"https://instagram.com/erikhenriquesm",target:"_blank",rel:"noopener noreferrer",className:"text-brand-500 font-bold block hover:underline",children:"@erikhenriquesm"})]}),m.jsx("button",{onClick:()=>d(!1),className:"px-6 py-2.5 bg-brand-600 hover:bg-brand-500 text-white rounded-lg font-bold w-full transition-colors shadow-lg",children:"Fechar"})]})})]})},kS=({project:e,onBack:t})=>{var Ma,Da,La,Ua,Fa,Va,Ha,Ga,za,qa,Ba;const n=e.width||Ci,o=e.height||Ci,r={id:"background-layer",type:q.SHAPE_RECT,x:0,y:0,width:n,height:o,rotation:0,locked:!0,visible:!0,style:{backgroundColor:"#ffffff",borderWidth:0,borderColor:"transparent",borderRadius:0}},[i,l]=L.useState(e.elements&&e.elements.length>0?e.elements:[r]),[u,c]=L.useState(null),[d,f]=L.useState(null),[h,p]=L.useState(null),[y,x]=L.useState(null),[E,N]=L.useState([]),[C,v]=L.useState([]),[g,T]=L.useState(-1),_=L.useRef(!1),[w,A]=L.useState({x:0,y:0,scale:1,rotation:0}),R=L.useRef(w),P=L.useRef(null),[D,Y]=L.useState(!1),[Q,Z]=L.useState(!1),[Se,V]=L.useState(""),[b,J]=L.useState(""),[k,H]=L.useState(!1),[U,O]=L.useState(!1),[K,ue]=L.useState({isOpen:!1,elementId:null}),[re,ce]=L.useState(null),[B,ee]=L.useState(null),fe=L.useRef(null),we=L.useRef({x:0,y:0}),Ke=L.useRef(0),Ve=L.useRef(null),Je=L.useRef(null),de=L.useRef(null);L.useEffect(()=>{(async()=>{const I=localStorage.getItem("kanva_custom_fonts");if(I)try{const G=JSON.parse(I),$=[];for(const ie of G){const ve=new FontFace(ie.name,`url(${ie.data})`);try{await ve.load(),document.fonts.add(ve),$.push(ie.name)}catch(Ae){console.error(`Failed to load saved font: ${ie.name}`,Ae)}}N($)}catch(G){console.error("Error parsing saved fonts",G)}})()},[]),L.useEffect(()=>{(()=>{const I=localStorage.getItem("kanva_projects");if(I){const G=JSON.parse(I),$=G.findIndex(ie=>ie.id===e.id);$!==-1&&(G[$]={...G[$],elements:i,lastModified:Date.now()},localStorage.setItem("kanva_projects",JSON.stringify(G)))}})()},[i,e.id]),L.useEffect(()=>{R.current=w},[w]),L.useEffect(()=>{const S=()=>{const I=window.innerWidth,G=window.innerHeight-80,$=Math.min(I/(n+100),G/(o+100));A({x:window.innerWidth/2,y:(window.innerHeight-80)/2,scale:$,rotation:0})};return S(),window.addEventListener("resize",S),()=>window.removeEventListener("resize",S)},[n,o]),L.useEffect(()=>{const S=I=>{if(U&&Ve.current&&!Ve.current.contains(I.target)){const G=document.getElementById("layer-context-menu");if(G&&G.contains(I.target))return;O(!1)}};return document.addEventListener("mousedown",S),()=>document.removeEventListener("mousedown",S)},[U]);const te=L.useCallback(S=>{if(_.current)return;const I=C.slice(0,g+1);I.push(JSON.parse(JSON.stringify(S))),I.length>20&&I.shift(),v(I),T(I.length-1)},[C,g]);L.useEffect(()=>{C.length===0&&(v([[...i]]),T(0))},[]),L.useEffect(()=>{f(null)},[u]);const It=()=>{if(g>0){_.current=!0;const S=C[g-1];l(JSON.parse(JSON.stringify(S))),T(g-1),setTimeout(()=>{_.current=!1},0)}},At=()=>{if(g<C.length-1){_.current=!0;const S=C[g+1];l(JSON.parse(JSON.stringify(S))),T(g+1),setTimeout(()=>{_.current=!1},0)}},gt=(S,I,G,$)=>{const ie=Date.now().toString(),ve=400,Ae=400;let He=ve,yt=Ae;if(G&&$){const ke=ve/G;He=ve,yt=$*ke}const tt={id:ie,type:S,x:n/2-He/2,y:o/2-yt/2,width:He,height:yt,rotation:0,visible:!0,content:I||(S===q.TEXT?"Kanva":""),style:{backgroundColor:S===q.TEXT||S===q.IMAGE?"transparent":"#0ea5e9",color:S===q.TEXT?"#000000":"#ffffff",fontSize:48,borderRadius:0,borderColor:S===q.TEXT?"transparent":"#ffffff",borderWidth:0,fontFamily:"Roboto",textAlign:"center",objectFit:"contain"}},se=[...i,tt];l(se),c(ie),te(se)},le=(S,I)=>{const G=i.map($=>$.id===S?{...$,...I,style:{...$.style,...I.style}}:$);return l(G),G},Pn=S=>{const I=i.find(ve=>ve.id===S);if(!I)return;const G=Date.now().toString(),$={...I,id:G,x:I.x+40,y:I.y+40},ie=[...i,$];l(ie),c(G),te(ie),x(null)},at=()=>{te(i)},ka=()=>{u&&ue({isOpen:!0,elementId:u})},Nh=S=>{ue({isOpen:!0,elementId:S}),x(null)},Ph=()=>{if(K.elementId){const S=i.filter(I=>I.id!==K.elementId);l(S),c(null),te(S)}ue({isOpen:!1,elementId:null})},Na=(S,I)=>{I&&I.stopPropagation();const G=i.find($=>$.id===S);if(G){const $=le(S,{locked:!G.locked});!G.locked&&u===S&&c(null),te($),y===S&&x(null)}},Pa=(S,I)=>{I&&I.stopPropagation();const G=i.find($=>$.id===S);if(G){const $=le(S,{visible:!(G.visible??!0)});te($),y===S&&x(null)}},Rh=(S,I)=>{I.preventDefault(),I.stopPropagation(),I.button===0&&(p(S),I.target.setPointerCapture(I.pointerId))},Mh=S=>{if(!h)return;S.preventDefault();const I=document.elementFromPoint(S.clientX,S.clientY),G=I==null?void 0:I.closest("[data-layer-id]");if(G){const $=G.getAttribute("data-layer-id");$&&$!==h&&l(ie=>{const ve=ie.findIndex(tt=>tt.id===h),Ae=ie.findIndex(tt=>tt.id===$);if(ve===-1||Ae===-1)return ie;const He=[...ie],[yt]=He.splice(ve,1);return He.splice(Ae,0,yt),He})}},bi=S=>{if(h){S.preventDefault(),p(null),te(i);try{S.target.releasePointerCapture(S.pointerId)}catch{}}},Dh=(S,I)=>{I.target.closest(".drag-handle")||I.target.closest("button")||(we.current={x:I.clientX,y:I.clientY},fe.current=setTimeout(()=>{x(S)},500))},Ra=()=>{fe.current&&(clearTimeout(fe.current),fe.current=null)},Lh=S=>{if(fe.current){const I=Math.abs(S.clientX-we.current.x),G=Math.abs(S.clientY-we.current.y);(I>10||G>10)&&(clearTimeout(fe.current),fe.current=null)}},Uh=async S=>{var ie;const I=(ie=S.target.files)==null?void 0:ie[0];if(!I)return;const G=I.name.replace(/\.[^/.]+$/,"").replace(/[^a-zA-Z0-9]/g,""),$=new FileReader;$.onload=async ve=>{var yt;const Ae=(yt=ve.target)==null?void 0:yt.result;if(!Ae)return;const He=new FontFace(G,`url(${Ae})`);try{await He.load(),document.fonts.add(He),E.includes(G)||N(ke=>[G,...ke]);const tt=localStorage.getItem("kanva_custom_fonts"),se=tt?JSON.parse(tt):[];if(!se.some(ke=>ke.name===G)){const ke=[...se,{name:G,data:Ae}];localStorage.setItem("kanva_custom_fonts",JSON.stringify(ke))}if(u){const ke=le(u,{style:{fontFamily:G}});te(ke)}}catch(tt){console.error("Failed to load font",tt),alert("Erro ao carregar a fonte. Verifique se o arquivo  vlido (.ttf, .otf, .woff).")}},$.readAsDataURL(I),de.current&&(de.current.value="")};L.useEffect(()=>{const S=P.current;if(!S)return;let I=!1,G=0,$=0,ie={x:0,y:0},ve={...R.current};const Ae=se=>{if(se.preventDefault(),se.ctrlKey){const ke=se.deltaY>0?.9:1.1;A(Rn=>({...Rn,scale:Math.min(5,Math.max(.1,Rn.scale*ke))}))}else A(ke=>({...ke,x:ke.x-se.deltaX,y:ke.y-se.deltaY}))},He=se=>{if(se.touches.length===2){const ke=Date.now();if(ke-Ke.current<300){const Rn=window.innerWidth,dr=window.innerHeight-80,mo=Math.min(Rn/(n+100),dr/(o+100));A({x:window.innerWidth/2,y:(window.innerHeight-80)/2,scale:mo,rotation:0}),Ke.current=0;return}else Ke.current=ke;I=!0,ve={...R.current},G=Ei(se.touches[0],se.touches[1]),$=xi(se.touches[0],se.touches[1]),ie=Ti(se.touches[0],se.touches[1])}},yt=se=>{if(I&&se.touches.length===2){se.preventDefault();const ke=Ei(se.touches[0],se.touches[1]),Rn=xi(se.touches[0],se.touches[1]),dr=Ti(se.touches[0],se.touches[1]),mo=ke/G;let go=Rn-$;go>180&&(go-=360),go<-180&&(go+=360);let Ji=ve.rotation+go;const ba=(fr=>{let yo=fr%360;return yo<0&&(yo+=360),yo})(Ji);[0,90,180,270,360].forEach(fr=>{if(Math.abs(ba-fr)<5){const yo=fr-ba;Ji+=yo}});const qh=Math.min(5,Math.max(.1,ve.scale*mo)),Bh=dr.x+(ve.x-ie.x)*mo,bh=dr.y+(ve.y-ie.y)*mo;A({x:Bh,y:bh,scale:qh,rotation:Ji})}},tt=se=>{se.touches.length<2&&(I=!1)};return S.addEventListener("wheel",Ae,{passive:!1}),S.addEventListener("touchstart",He,{passive:!1}),S.addEventListener("touchmove",yt,{passive:!1}),S.addEventListener("touchend",tt),()=>{S.removeEventListener("wheel",Ae),S.removeEventListener("touchstart",He),S.removeEventListener("touchmove",yt),S.removeEventListener("touchend",tt)}},[n,o]);const Fh=async()=>{H(!0);try{const S=await vS(b),I=new Image;I.src=S,I.onload=()=>{gt(q.IMAGE,S,I.naturalWidth,I.naturalHeight)},Y(!1),J("")}catch{alert("Falha ao gerar imagem.")}finally{H(!1)}},Vh=S=>{var G;const I=(G=S.target.files)==null?void 0:G[0];if(I){const $=new FileReader;$.onload=ie=>{var He;const ve=(He=ie.target)==null?void 0:He.result,Ae=new Image;Ae.src=ve,Ae.onload=()=>{gt(q.IMAGE,ve,Ae.naturalWidth,Ae.naturalHeight)}},$.readAsDataURL(I)}Je.current&&(Je.current.value="")},Hh=(S,I,G)=>{if(re){const $=i.find(ie=>ie.id===re);if($){const ie=I/G,ve=$.width/ie,Ae=le(re,{content:S,height:ve,width:$.width});te(Ae)}ce(null)}},Gh=S=>{if(B){const I=le(B,{maskImage:S,maskEnabled:!0});te(I),ee(null)}},W=i.find(S=>S.id===u),zh=()=>{if(!W||!d)return null;const S="absolute bottom-[74px] left-2 right-2 bg-workspace-800/90 backdrop-blur-xl border border-gray-600/50 rounded-2xl p-3 shadow-2xl animate-in slide-in-from-bottom-5 z-30";switch(d){case"font":return m.jsxs("div",{className:S,children:[m.jsx("input",{type:"file",ref:de,className:"hidden",accept:".ttf,.otf,.woff,.woff2",onChange:Uh}),m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsx("h4",{className:"text-white text-xs font-bold uppercase sticky left-0",children:"Fontes"}),m.jsxs("span",{className:"text-[10px] text-gray-400",children:[Rd.length+E.length," estilos"]})]}),m.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 custom-scrollbar px-1 snap-x",children:[m.jsxs("button",{onClick:()=>{var I;return(I=de.current)==null?void 0:I.click()},className:"shrink-0 px-3 py-2 rounded-xl border flex flex-col items-center justify-center gap-1 transition-all w-[110px] h-[70px] snap-center bg-gray-800/50 border-dashed border-gray-500 hover:bg-gray-700 hover:border-white text-gray-400 hover:text-white",children:[m.jsx(Ny,{size:24}),m.jsx("span",{className:"text-[9px] font-bold",children:"Upload"})]}),[...E,...Rd].map(I=>m.jsxs("button",{onClick:()=>{le(W.id,{style:{fontFamily:I}}),te(i)},className:`shrink-0 px-3 py-2 rounded-xl border flex flex-col items-center justify-between transition-all w-[110px] h-[70px] snap-center
                      ${W.style.fontFamily===I?"bg-brand-500/20 border-brand-500 ring-1 ring-brand-500":"bg-gray-800/50 border-gray-700 hover:bg-gray-700 hover:border-gray-500"}`,children:[m.jsx("span",{style:{fontFamily:I},className:"text-2xl text-white whitespace-nowrap leading-none mt-1",children:"Ag"}),m.jsx("span",{className:"text-[9px] text-gray-400 truncate w-full text-center font-medium mt-auto",children:I})]},I))]})]});case"size":return m.jsxs("div",{className:S,children:[m.jsxs("div",{className:"flex justify-between mb-2",children:[m.jsx("h4",{className:"text-white text-xs font-bold uppercase",children:"Tamanho"}),m.jsxs("span",{className:"text-brand-400 text-xs",children:[W.style.fontSize,"px"]})]}),m.jsx("input",{type:"range",min:"10",max:"200",value:W.style.fontSize,onChange:I=>le(W.id,{style:{fontSize:Number(I.target.value)}}),onMouseUp:at,onTouchEnd:at,className:"w-full h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer accent-brand-500"})]});case"opacity":return m.jsxs("div",{className:S,children:[m.jsxs("div",{className:"flex justify-between mb-2",children:[m.jsx("h4",{className:"text-white text-xs font-bold uppercase",children:"Opacidade"}),m.jsxs("span",{className:"text-brand-400 text-xs",children:[Math.round((W.style.opacity??1)*100),"%"]})]}),m.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:W.style.opacity??1,onChange:I=>le(W.id,{style:{opacity:Number(I.target.value)}}),onMouseUp:at,onTouchEnd:at,className:"w-full h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer accent-brand-500"})]});case"color":return m.jsxs("div",{className:S,children:[m.jsx("h4",{className:"text-white text-xs font-bold uppercase mb-3",children:W.type===q.TEXT?"Cor do Texto":"Cor de Preenchimento"}),m.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 custom-scrollbar",children:[m.jsx("input",{type:"color",value:W.style.color||W.style.backgroundColor,onChange:I=>{const G=W.type===q.TEXT?"color":"backgroundColor";le(W.id,{style:{[G]:I.target.value}})},onBlur:at,className:"w-10 h-10 rounded-full overflow-hidden border-2 border-white/20 p-0"}),Md.map(I=>m.jsx("button",{className:"w-10 h-10 rounded-full border border-white/10 shrink-0",style:{backgroundColor:I},onClick:()=>{const G=W.type===q.TEXT?"color":"backgroundColor",$=le(W.id,{style:{[G]:I}});te($)}},I))]})]});case"stroke":return m.jsxs("div",{className:S,children:[m.jsx("h4",{className:"text-white text-xs font-bold uppercase mb-3",children:"Contorno"}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Espessura"}),m.jsx("input",{type:"range",min:"0",max:"20",value:W.type===q.TEXT?W.style.textStrokeWidth||0:W.style.borderWidth||0,onChange:I=>{const G=W.type===q.TEXT?"textStrokeWidth":"borderWidth";le(W.id,{style:{[G]:Number(I.target.value)}})},onMouseUp:at,onTouchEnd:at,className:"w-full h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer accent-brand-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Cor"}),m.jsxs("div",{className:"flex gap-2 overflow-x-auto",children:[m.jsx("input",{type:"color",value:W.type===q.TEXT?W.style.textStrokeColor||"#000000":W.style.borderColor||"#000000",onChange:I=>{const G=W.type===q.TEXT?"textStrokeColor":"borderColor";le(W.id,{style:{[G]:I.target.value}})},onBlur:at,className:"w-8 h-8 rounded-full p-0 border-none"}),Md.map(I=>m.jsx("button",{className:"w-8 h-8 rounded-full border border-gray-600 shrink-0",style:{backgroundColor:I},onClick:()=>{const G=W.type===q.TEXT?"textStrokeColor":"borderColor",$=le(W.id,{style:{[G]:I}});te($)}},I))]})]})]})]});case"align":return m.jsxs("div",{className:S,children:[m.jsx("h4",{className:"text-white text-xs font-bold uppercase mb-3",children:"Alinhamento"}),m.jsx("div",{className:"flex bg-gray-700 rounded-lg p-1",children:[{val:"left",icon:m.jsx(ju,{size:20})},{val:"center",icon:m.jsx(xy,{size:20})},{val:"right",icon:m.jsx(Sy,{size:20})},{val:"justify",icon:m.jsx(Ty,{size:20})}].map(I=>m.jsx("button",{onClick:()=>{const G=le(W.id,{style:{textAlign:I.val}});te(G)},className:`flex-1 p-2 rounded flex justify-center ${W.style.textAlign===I.val?"bg-brand-500 text-white":"text-gray-400 hover:text-white"}`,children:I.icon},I.val))})]});case"radius":return m.jsxs("div",{className:S,children:[m.jsxs("div",{className:"flex justify-between mb-2",children:[m.jsx("h4",{className:"text-white text-xs font-bold uppercase",children:"Arredondar"}),m.jsxs("span",{className:"text-brand-400 text-xs",children:[W.style.borderRadius,"px"]})]}),m.jsx("input",{type:"range",min:"0",max:"200",value:W.style.borderRadius||0,onChange:I=>le(W.id,{style:{borderRadius:Number(I.target.value)}}),onMouseUp:at,onTouchEnd:at,className:"w-full h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer accent-brand-500"})]});case"crop":return m.jsxs("div",{className:S,children:[m.jsx("h4",{className:"text-white text-xs font-bold uppercase mb-3",children:"Ajuste de Imagem"}),m.jsxs("div",{className:"flex bg-gray-700 rounded-lg p-1",children:[m.jsx("button",{onClick:()=>{const I=le(W.id,{style:{objectFit:"cover"}});te(I)},className:`flex-1 py-2 px-4 rounded text-xs font-medium ${W.style.objectFit==="cover"?"bg-brand-500 text-white":"text-gray-400"}`,children:"Preencher"}),m.jsx("button",{onClick:()=>{const I=le(W.id,{style:{objectFit:"contain"}});te(I)},className:`flex-1 py-2 px-4 rounded text-xs font-medium ${W.style.objectFit==="contain"?"bg-brand-500 text-white":"text-gray-400"}`,children:"Ajustar"}),m.jsx("button",{onClick:()=>{const I=le(W.id,{style:{objectFit:"fill"}});te(I)},className:`flex-1 py-2 px-4 rounded text-xs font-medium ${W.style.objectFit==="fill"?"bg-brand-500 text-white":"text-gray-400"}`,children:"Esticar"})]})]});case"shape-type":return m.jsxs("div",{className:S,children:[m.jsx("h4",{className:"text-white text-xs font-bold uppercase mb-3",children:"Tipo de Forma"}),m.jsx("div",{className:"grid grid-cols-4 gap-2",children:[{type:q.SHAPE_RECT,icon:m.jsx(Hy,{size:20}),label:"Quad"},{type:q.SHAPE_CIRCLE,icon:m.jsx(ec,{size:20}),label:"Circ"},{type:q.SHAPE_TRIANGLE,icon:m.jsx(zy,{size:20}),label:"Tri"},{type:q.SHAPE_DIAMOND,icon:m.jsx(ky,{size:20}),label:"Diam"},{type:q.SHAPE_STAR,icon:m.jsx(Gy,{size:20}),label:"Est"},{type:q.SHAPE_HEART,icon:m.jsx(Ry,{size:20}),label:"Cora"}].map(I=>m.jsxs("button",{onClick:()=>{const G=le(W.id,{type:I.type});te(G)},className:`p-2 rounded flex flex-col items-center gap-1 ${W.type===I.type?"bg-brand-500 text-white":"bg-gray-700 text-gray-400"}`,children:[I.icon,m.jsx("span",{className:"text-[9px]",children:I.label})]},I.type))})]});default:return null}};return m.jsxs("div",{className:"h-screen w-screen bg-workspace-900 overflow-hidden flex flex-col font-sans select-none relative text-gray-100",children:[m.jsx("input",{type:"file",ref:Je,onChange:Vh,accept:"image/*",className:"hidden"}),m.jsxs("header",{className:"h-14 bg-workspace-800 border-b border-gray-700 flex items-center justify-between px-4 z-20 shadow-lg",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:t,className:"p-2 hover:bg-white/10 rounded-full text-gray-300",children:m.jsx(_y,{size:20})}),m.jsx("span",{className:"font-bold text-sm text-gray-300",children:e.name})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:It,className:"p-2 text-gray-400 hover:text-white hover:bg-white/5 rounded-full",children:m.jsx(Zp,{size:18})}),m.jsx("button",{onClick:At,className:"p-2 text-gray-400 hover:text-white hover:bg-white/5 rounded-full",children:m.jsx(Ly,{size:18})}),m.jsx("div",{className:"w-px h-6 bg-gray-700 mx-1"}),m.jsxs("button",{onClick:()=>O(!0),className:"p-2 text-gray-400 hover:text-white hover:bg-white/5 rounded-full relative",children:[m.jsx(Kp,{size:18}),m.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-brand-500 rounded-full"})]}),m.jsxs("button",{className:"bg-white text-workspace-900 px-4 py-1.5 rounded-full text-sm font-bold flex items-center gap-2 hover:bg-gray-100 transition-colors shadow-lg",children:[m.jsx(Op,{size:16}),m.jsx("span",{className:"hidden sm:inline",children:"Exportar"})]})]})]}),m.jsxs("main",{className:"flex-1 relative overflow-hidden bg-workspace-900 touch-none",children:[m.jsx("div",{ref:P,style:{transform:`translate(${w.x-n/2}px, ${w.y-o/2}px) scale(${w.scale}) rotate(${w.rotation}deg)`,transformOrigin:`${n/2}px ${o/2}px`,width:n,height:o,position:"absolute",top:0,left:0,willChange:"transform"},className:"checkerboard shadow-2xl relative overflow-hidden",onMouseDown:()=>{u&&c(null)},onTouchStart:()=>{u&&c(null)},children:i.map(S=>m.jsx(By,{element:S,isSelected:u===S.id,canvasScale:w.scale,canvasRotation:w.rotation,onSelect:c,onUpdate:le,onInteractionEnd:at,onDelete:ka},S.id))}),m.jsxs("div",{ref:Ve,className:`absolute top-4 right-4 w-72 bg-workspace-800/85 backdrop-blur-xl border border-gray-600/50 rounded-xl shadow-2xl flex flex-col transition-all duration-300 transform origin-top-right z-30 max-h-[60vh] ${U?"scale-100 opacity-100":"scale-90 opacity-0 pointer-events-none"}`,children:[m.jsx(ES,{title:"Camadas",onClose:()=>O(!1)}),m.jsxs("div",{className:"flex-1 overflow-y-auto p-2 space-y-1 custom-scrollbar",children:[m.jsx("div",{className:"text-[10px] text-gray-500 px-2 py-1 italic text-center",children:"Segure para opes ou arraste para ordenar"}),[...i].reverse().map((S,I)=>{var G;return m.jsxs("div",{"data-layer-id":S.id,onClick:$=>{$.stopPropagation(),c(S.id)},onPointerDown:$=>Dh(S.id,$),onPointerUp:Ra,onPointerLeave:Ra,onPointerMove:Lh,className:`relative flex items-center gap-2 p-2 rounded-lg cursor-pointer group border transition-all select-none ${h===S.id?"opacity-50 scale-95 bg-brand-500/10 border-brand-500 border-dashed":u===S.id?"bg-brand-500/20 border-brand-500/50 shadow-sm":"bg-transparent border-transparent hover:bg-white/5"}`,onContextMenu:$=>$.preventDefault(),children:[m.jsx("div",{className:"drag-handle text-gray-500 hover:text-white cursor-grab active:cursor-grabbing p-1 touch-none",onPointerDown:$=>Rh(S.id,$),onPointerMove:Mh,onPointerUp:bi,onPointerCancel:bi,onLostPointerCapture:bi,style:{touchAction:"none"},children:m.jsx(Py,{size:14})}),m.jsx("div",{className:"flex items-center gap-1 shrink-0",children:m.jsx("div",{className:"w-8 h-8 bg-workspace-900 rounded border border-gray-600 flex items-center justify-center overflow-hidden shrink-0",children:S.type===q.IMAGE?m.jsx("img",{src:S.content,className:"w-full h-full object-cover",alt:""}):S.type===q.TEXT?m.jsx(Mo,{size:14,className:"text-gray-400"}):m.jsx("div",{className:"w-4 h-4 rounded-sm",style:{backgroundColor:S.style.backgroundColor}})})}),m.jsx("div",{className:"flex-1 min-w-0",children:m.jsx("span",{className:"text-[10px] font-bold text-gray-300 uppercase tracking-wider block truncate",children:S.type===q.TEXT?((G=S.content)==null?void 0:G.slice(0,15))||"Texto":S.type===q.IMAGE?"Imagem":"Forma"})}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("button",{onClick:$=>Pa(S.id,$),className:`p-1.5 rounded hover:bg-white/10 ${S.visible===!1?"text-gray-500":"text-gray-400 hover:text-white"}`,children:S.visible===!1?m.jsx(tc,{size:14}):m.jsx(nc,{size:14})}),m.jsx("button",{onClick:$=>Na(S.id,$),className:`p-1.5 rounded hover:bg-white/10 ${S.locked?"text-yellow-500":"text-gray-400 hover:text-white"}`,children:S.locked?m.jsx(dl,{size:14}):m.jsx(rc,{size:14})})]})]},S.id)})]}),y&&m.jsxs("div",{id:"layer-context-menu",className:"absolute inset-x-2 bottom-2 bg-workspace-900 border border-gray-600 rounded-lg shadow-2xl p-2 z-50 animate-in slide-in-from-bottom-2 fade-in duration-200",onPointerDown:S=>S.stopPropagation(),children:[m.jsxs("div",{className:"flex items-center justify-between mb-2 pb-2 border-b border-gray-700",children:[m.jsx("span",{className:"text-xs font-bold text-white uppercase ml-1",children:"Opes da Camada"}),m.jsx("button",{onClick:()=>x(null),className:"p-1 hover:bg-white/10 rounded-full",children:m.jsx(ml,{size:14})})]}),m.jsxs("div",{className:"grid grid-cols-4 gap-1",children:[m.jsxs("button",{onClick:()=>Pn(y),className:"flex flex-col items-center gap-1 p-2 rounded hover:bg-white/5 text-gray-300 hover:text-white",children:[m.jsx(Wp,{size:18}),m.jsx("span",{className:"text-[9px]",children:"Duplicar"})]}),m.jsxs("button",{onClick:()=>Na(y),className:`flex flex-col items-center gap-1 p-2 rounded hover:bg-white/5 ${(Ma=i.find(S=>S.id===y))!=null&&Ma.locked?"text-yellow-400":"text-gray-300"}`,children:[(Da=i.find(S=>S.id===y))!=null&&Da.locked?m.jsx(dl,{size:18}):m.jsx(rc,{size:18}),m.jsx("span",{className:"text-[9px]",children:"Travar"})]}),m.jsxs("button",{onClick:()=>Pa(y),className:`flex flex-col items-center gap-1 p-2 rounded hover:bg-white/5 ${((La=i.find(S=>S.id===y))==null?void 0:La.visible)===!1?"text-gray-500":"text-gray-300"}`,children:[((Ua=i.find(S=>S.id===y))==null?void 0:Ua.visible)===!1?m.jsx(tc,{size:18}):m.jsx(nc,{size:18}),m.jsx("span",{className:"text-[9px]",children:"Visvel"})]}),m.jsxs("button",{onClick:()=>Nh(y),className:"flex flex-col items-center gap-1 p-2 rounded hover:bg-red-500/20 text-red-400 hover:text-red-300",children:[m.jsx(hl,{size:18}),m.jsx("span",{className:"text-[9px]",children:"Excluir"})]}),((Fa=i.find(S=>S.id===y))==null?void 0:Fa.type)===q.IMAGE&&m.jsxs(m.Fragment,{children:[m.jsxs("button",{onClick:()=>{ee(y),x(null)},className:"flex flex-col items-center gap-1 p-2 rounded hover:bg-white/5 text-gray-300 hover:text-white",children:[m.jsx(cl,{size:18}),m.jsx("span",{className:"text-[9px]",children:"Editar Mscara"})]}),((Va=i.find(S=>S.id===y))==null?void 0:Va.maskImage)&&m.jsxs("button",{onClick:()=>{const S=i.find(I=>I.id===y);if(S){const I=le(y,{maskEnabled:!S.maskEnabled});te(I)}},className:`flex flex-col items-center gap-1 p-2 rounded hover:bg-white/5 ${(Ha=i.find(S=>S.id===y))!=null&&Ha.maskEnabled?"text-brand-400":"text-gray-600"}`,children:[(Ga=i.find(S=>S.id===y))!=null&&Ga.maskEnabled?m.jsx(Ca,{size:18}):m.jsx(ml,{size:18}),m.jsx("span",{className:"text-[9px]",children:"Mscara"})]})]})]})]})]}),zh()]}),m.jsx("footer",{className:"h-20 bg-workspace-800 border-t border-gray-700 flex items-center px-4 overflow-x-auto gap-2 custom-scrollbar z-20",children:W?m.jsxs(m.Fragment,{children:[m.jsx("button",{onClick:()=>{c(null),f(null)},className:"mr-2 p-2 bg-gray-700 rounded-full text-white",children:m.jsx(Ay,{size:16})}),W.type===q.TEXT&&m.jsxs(m.Fragment,{children:[m.jsx(me,{icon:m.jsx(Ro,{size:20}),label:"Editar",onClick:()=>{W&&(V(W.content||""),Z(!0))}}),m.jsx(me,{icon:m.jsx(Mo,{size:20}),label:"Fonte",active:d==="font",onClick:()=>f(d==="font"?null:"font")}),m.jsx(me,{icon:m.jsx(Fy,{size:20}),label:"Tamanho",active:d==="size",onClick:()=>f(d==="size"?null:"size")}),m.jsx(me,{icon:m.jsx(oc,{size:20}),label:"Cor",active:d==="color",onClick:()=>f(d==="color"?null:"color")}),m.jsx(me,{icon:m.jsx(ju,{size:20}),label:"Alinhar",active:d==="align",onClick:()=>f(d==="align"?null:"align")}),m.jsx(me,{icon:m.jsx(Br,{size:20}),label:"Opacidade",active:d==="opacity",onClick:()=>f(d==="opacity"?null:"opacity")}),m.jsx(me,{icon:m.jsx(Ro,{size:20}),label:"Contorno",active:d==="stroke",onClick:()=>f(d==="stroke"?null:"stroke")})]}),W.type===q.IMAGE&&m.jsxs(m.Fragment,{children:[m.jsx(me,{icon:m.jsx(Yp,{size:20}),label:"Ajustar",active:d==="crop",onClick:()=>f(d==="crop"?null:"crop")}),m.jsx(me,{icon:m.jsx(Vy,{size:20}),label:"Recortar",onClick:()=>ce(W.id)}),m.jsx(me,{icon:m.jsx(cl,{size:20}),label:"R. Fundo",onClick:()=>ee(W.id)}),m.jsx(me,{icon:m.jsx(ec,{size:20}),label:"Arredondar",active:d==="radius",onClick:()=>f(d==="radius"?null:"radius")}),m.jsx(me,{icon:m.jsx(Ro,{size:20}),label:"Borda",active:d==="stroke",onClick:()=>f(d==="stroke"?null:"stroke")}),m.jsx(me,{icon:m.jsx(Br,{size:20}),label:"Opacidade",active:d==="opacity",onClick:()=>f(d==="opacity"?null:"opacity")})]}),(W.type===q.SHAPE_RECT||W.type===q.SHAPE_CIRCLE||W.type===q.SHAPE_TRIANGLE||W.type===q.SHAPE_STAR||W.type===q.SHAPE_HEART||W.type===q.SHAPE_DIAMOND)&&m.jsxs(m.Fragment,{children:[m.jsx(me,{icon:m.jsx(fl,{size:20}),label:"Forma",active:d==="shape-type",onClick:()=>f(d==="shape-type"?null:"shape-type")}),m.jsx(me,{icon:m.jsx(oc,{size:20}),label:"Cor",active:d==="color",onClick:()=>f(d==="color"?null:"color")}),m.jsx(me,{icon:m.jsx(Ro,{size:20}),label:"Borda",active:d==="stroke",onClick:()=>f(d==="stroke"?null:"stroke")}),m.jsx(me,{icon:m.jsx(Br,{size:20}),label:"Opacidade",active:d==="opacity",onClick:()=>f(d==="opacity"?null:"opacity")})]}),m.jsx("div",{className:"w-px h-8 bg-gray-600 mx-2"}),m.jsx(me,{icon:m.jsx(hl,{size:20}),label:"Excluir",danger:!0,onClick:ka})]}):m.jsxs(m.Fragment,{children:[m.jsx(me,{icon:m.jsx(Mo,{size:20}),label:"Texto",onClick:()=>gt(q.TEXT)}),m.jsx(me,{icon:m.jsx(qy,{size:20}),label:"Foto",onClick:()=>{var S;return(S=Je.current)==null?void 0:S.click()}}),m.jsx(me,{icon:m.jsx(fl,{size:20}),label:"Forma",onClick:()=>gt(q.SHAPE_RECT)})]})}),Q&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm animate-in fade-in duration-200 px-4",children:m.jsxs("div",{className:"bg-workspace-800/90 backdrop-blur-xl border border-gray-600/50 rounded-xl p-6 shadow-2xl max-w-sm w-full animate-in zoom-in-95 duration-200",children:[m.jsxs("h3",{className:"text-white font-bold text-lg mb-4 flex items-center gap-2",children:[m.jsx(Mo,{className:"text-brand-500"})," Editar Texto"]}),m.jsx("textarea",{value:Se,onChange:S=>V(S.target.value),className:"w-full bg-workspace-900 text-white p-3 rounded-lg border border-gray-600 focus:border-brand-500 outline-none mb-4 h-32 resize-none font-sans text-lg",autoFocus:!0,onFocus:S=>S.target.select()}),m.jsxs("div",{className:"flex justify-end gap-3",children:[m.jsx("button",{onClick:()=>Z(!1),className:"px-4 py-2 text-gray-400 hover:text-white",children:"Cancelar"}),m.jsx("button",{onClick:()=>{u&&(le(u,{content:Se}),te(i)),Z(!1)},className:"px-6 py-2 bg-brand-600 hover:bg-brand-500 text-white rounded-lg font-bold",children:"Salvar"})]})]})}),D&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm animate-in fade-in duration-200 px-4",children:m.jsxs("div",{className:"bg-workspace-800/90 backdrop-blur-xl border border-gray-600/50 rounded-xl p-6 shadow-2xl max-w-sm w-full",children:[m.jsxs("h3",{className:"text-white font-bold text-lg mb-4 flex items-center gap-2",children:[m.jsx(pl,{className:"text-brand-500"})," Gerar Imagem com IA"]}),m.jsx("textarea",{value:b,onChange:S=>J(S.target.value),placeholder:"Descreva a imagem que voc quer criar...",className:"w-full bg-workspace-900 text-white p-3 rounded-lg border border-gray-600 focus:border-brand-500 outline-none mb-4 h-32 resize-none"}),m.jsxs("div",{className:"flex justify-end gap-3",children:[m.jsx("button",{onClick:()=>Y(!1),className:"px-4 py-2 text-gray-400 hover:text-white",children:"Cancelar"}),m.jsx("button",{onClick:Fh,disabled:!b.trim()||k,className:"px-6 py-2 bg-brand-600 hover:bg-brand-500 text-white rounded-lg font-bold flex items-center gap-2 disabled:opacity-50",children:k?"Gerando...":"Gerar"})]})]})}),m.jsx(xS,{isOpen:K.isOpen,title:"Excluir Elemento?",message:"Tem certeza que deseja remover este item do seu design? Esta ao pode ser desfeita depois.",onConfirm:Ph,onCancel:()=>ue({isOpen:!1,elementId:null})}),re&&m.jsx(TS,{imageUrl:((za=i.find(S=>S.id===re))==null?void 0:za.content)||"",onCancel:()=>ce(null),onSave:Hh}),B&&m.jsx(SS,{imageUrl:((qa=i.find(S=>S.id===B))==null?void 0:qa.content)||"",initialMaskUrl:(Ba=i.find(S=>S.id===B))==null?void 0:Ba.maskImage,onCancel:()=>ee(null),onSave:Gh})]})},NS=()=>{const[e,t]=L.useState(!0),[n,o]=L.useState("home"),[r,i]=L.useState(null),l=c=>{i(c),o("editor")},u=()=>{o("home"),i(null)};return m.jsx(m.Fragment,{children:e?m.jsx(IS,{onFinish:()=>t(!1)}):m.jsxs(m.Fragment,{children:[n==="home"&&m.jsx(AS,{onOpenProject:l,onDeleteProject:()=>{}}),n==="editor"&&r&&m.jsx(kS,{project:r,onBack:u})]})})},kh=document.getElementById("root");if(!kh)throw new Error("Could not find root element to mount to");const PS=ys.createRoot(kh);PS.render(m.jsx(sm.StrictMode,{children:m.jsx(NS,{})}));
